<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="og: https://ogp.me/ns#">
  <head>
    <meta charset="utf-8" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<meta property="og:title" content="OpenShift sandboxed containers user guide OpenShift Sandboxed Containers 1.4 | Red Hat Customer Portal" />
<meta property="og:description" content="Information about OpenShift sandboxed containers operators and their usage" />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Information about OpenShift sandboxed containers operators and their usage" />
<meta name="twitter:title" content="OpenShift sandboxed containers user guide OpenShift Sandboxed Containers 1.4 | Red Hat Customer Portal" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<meta name="twitter:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="title" content="OpenShift sandboxed containers user guide OpenShift Sandboxed Containers 1.4 | Red Hat Customer Portal" />
<link rel="alternate" hreflang="en" href="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="ko" href="https://access.redhat.com/documentation/ko-kr/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="zh-hans" href="https://access.redhat.com/documentation/zh-cn/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="ja" href="https://access.redhat.com/documentation/ja-jp/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="es" href="https://access.redhat.com/documentation/es-es/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="ru" href="https://access.redhat.com/documentation/ru-ru/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="pt-br" href="https://access.redhat.com/documentation/pt-br/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="it" href="https://access.redhat.com/documentation/it-it/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="de" href="https://access.redhat.com/documentation/de-de/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="fr" href="https://access.redhat.com/documentation/fr-fr/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="zh-hant" href="https://access.redhat.com/documentation/zh-tw/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="id" href="https://access.redhat.com/documentation/id-id/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="th" href="https://access.redhat.com/documentation/th-th/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<link rel="alternate" hreflang="vi" href="https://access.redhat.com/documentation/vi-vn/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index" />
<meta name="Generator" content="Drupal 9 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="revision" product="65376421-f402-4df0-a691-a00baf8d892b" title="2809f6c4-4ad7-49ec-b6b6-49fda50beca4" page="526a519a-842a-498e-bda0-031928ab62bb" revision="20edcf7dc1d08637145b44c7eb1a2aba81045808:en-us" body="00b25794f59fd1792dc40058e5fdc0dc.html" toc="e13f678172740bdca21d3bc4da159b8a.json" />

    <title>OpenShift sandboxed containers user guide OpenShift Sandboxed Containers 1.4 | Red Hat Customer Portal</title>
    <link rel="stylesheet" media="all" href="/sites/dxp-docs/files/css/css_87GMcmxT1ib8ziQiU2KUAnTDFtZQV6iP-KGslA9LigM.css" />
<link rel="stylesheet" media="all" href="/sites/dxp-docs/files/css/css__Xq4GfgPDJw9K_yYJFmlRZGJeCENu3R3r4s0K7Tr_9g.css" />

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"documentation\/en-us\/openshift_sandboxed_containers\/1.4\/html-single\/openshift_sandboxed_containers_user_guide\/index","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"red_hat_jwt":{"client_id":"customer-portal","cookie_name":"rh_jwt","leeway":"0","realm":"redhat-external","sso_host":"https:\/\/sso.redhat.com\/","user_integration":1,"user_plugin":"drupal_user_auth","use_external_js":0,"use_internal_js":0,"use_in_admin":0},"user":{"uid":0,"permissionsHash":"d8ea0bce2d740dacbdfe0257cf55baa0e33f7fb8468a26d055ce75daaaa2d315"}}</script>
<script src="/sites/dxp-docs/files/js/js_EQWKo9EokWkWS99x_e1oM-NEM0zlKyTkp_83mGdm5Ks.js"></script>

    <!-- CP_PRIMER_HEAD -->  <!-- TrustArc & DTM -->
  <script src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
  <script src="//www.redhat.com/dtm.js"></script><meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="dxp-kbase-prod-139-77b4fb8768-25dr9" />
<meta name="avalon-version" content="27861f77" />
<meta name="cp-chrome-build-date" content="2023-10-06T19:17:59.039Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />
<!-- title -->
<title>Red Hat Customer Portal - Access to 24x7 support and knowledge</title>
<!-- /title -->
<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en", 
        version   : "27861f77",
        builddate : "2023-10-06T19:17:59.039Z",        fetchdate : "2023-10-10T17:45:08-0400",        nrid      : "NOLONGERSUPPORTED",
        nrlk      : "NOLONGERSUPPORTED"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="https://access.redhat.com/webassets/avalon/g/favicon.ico" /><link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/bootstrap.css?v=27861f77" />
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/bootstrap-grid.css?v=27861f77" />
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/main.css?v=27861f77" />
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/components.css?v=27861f77" />
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/pages.css?v=27861f77" />

<link href="https://access.redhat.com/webassets/avalon/s/chosen.css?v=27861f77" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]--><noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/webassets/avalon/j/public_modules/node_modules/@cpelements/pfe-navigation/dist/pfe-navigation--lightdom.min.css" />
<!-- /cssInclude -->
<script src="https://access.redhat.com/webassets/avalon/j/public_modules/node_modules/@cpelements/pfe-navigation/dist/ie-polyfills.js?v=27861f77"></script>

<script async>
  if (!HTMLScriptElement.supports || !HTMLScriptElement.supports('importmap')) {
    import("https://www.redhatstatic.com/dx/v1-alpha/es-module-shims@1.7.3.js");
  }
</script>
<script type="importmap">
{
  "imports": {
    "@patternfly/elements/" : "https://www.redhatstatic.com/dx/v1-alpha/@patternfly/elements@2.2.2/",
    "@rhds/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/elements/",
    "@rhds/elements/lib/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/lib/",
    "@cpelements/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@cpelements/elements@2.0.0-alpha.7/elements/"
  }
}
</script><script type="text/javascript" src="https://access.redhat.com/webassets/avalon/j/lib/require.js?v=27861f77" data-main="/webassets/avalon/j/"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
<script type="text/javascript" src="https://access.redhat.com/chrome_themes/nimbus/js/new-nav.js?v=27861f77" ></script>
<!-- /CP_PRIMER_HEAD -->

  </head>
  <body>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
      <!-- CP_PRIMER_HEADER -->
<div id="page-wrap" class="page-wrap">
    <div id="pers-top-page-wrap" class="top-page-wrap pers-loader-bg">

      <div id="hero-bg-top-left" class="summit-bg-shapes"></div>
      <div id="hero-bg-top-right" class="summit-bg-shapes"></div>

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden">Skip to navigation</a>
            <a href="#cp-main" class="skip-link visually-hidden">Skip to main content</a>            <nav id="portal-utility-nav" class="utility-navigation utility-navigation--bar hidden-at-mobile" data-analytics-region="utility" aria-labelledby="nav__utility-nav--desktop">
                <h3 id="nav__utility-nav--desktop" class="element-invisible">Utilities
                </h3>
                <ul aria-labelledby="nav__utility-nav--desktop">
                    <li id="nav-subscription" data-portal-tour-1="1">
                        <a class="top-nav-subscriptions" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Subscription" href="https://access.redhat.com/management/" >Subscriptions
                        </a>
                    </li>
                    <li id="nav-downloads" data-portal-tour-1="2">
                        <a class="top-nav-downloads" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/" >Downloads
                        </a>
                    </li>
                    <li id="nav-containers">
                        <a class="top-nav-containers" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/" >Containers
                        </a>
                    </li>
                    <li id="nav-support" data-portal-tour-1="3">
                        <a class="top-nav-support-cases" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/" >Support Cases
                        </a>
                    </li>
                </ul>
            </nav>

            <pfe-navigation id="pfe-navigation" data-analytics-region="mega menu">
                <div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper">
                    <a href="https://access.redhat.com/" class="pfe-navigation__logo-link" data-analytics-text="logo" data-analytics-category="MM|logo">
                        <img class="pfe-navigation__logo-image" alt="Red Hat Customer Portal" src="https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg" />
                    </a>
                </div>

                <nav class="pfe-navigation" aria-label="Main Navigation" data-analytics-region="main nav">
                    <ul class="pfe-navigation__menu" id="pfe-navigation__menu">                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-subscription--mobile" data-portal-tour-1="1">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Subscription" href="https://access.redhat.com/management/" >Subscriptions
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-downloads--mobile" data-portal-tour-1="2">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/" >Downloads
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-containers--mobile">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/" >Containers
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-support--mobile" data-portal-tour-1="3">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/" >Support Cases
                            </a>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Products and Services">Products &amp; Services
                            </a>
                            <div class="pfe-navigation__dropdown has-primary-detail">                                <div class="desktop-col-span-2 tablet-col-span-all">
                                    <h3>
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Products" href="https://access.redhat.com/products/">Products
                                        </a>
                                    </h3>
                                    <slot name="main-menu__dropdown--product__product-listing"></slot>
                                </div>                                <div>
                                    <h3 id="nav__products__support">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Support" href="https://access.redhat.com/support">Support
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__support">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Production Support" href="https://access.redhat.com/support/offerings/production/">Production Support
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Development Support" href="https://access.redhat.com/support/offerings/developer/">Development Support
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Product Life Cycles" href="https://access.redhat.com/product-life-cycles/">Product Life Cycles
                                                    </a></li>
                                    </ul>

                                    <h3 id="nav__products__services">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Services" href="https://www.redhat.com/en/services">Services
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__services">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Consulting" href="https://www.redhat.com/en/services/consulting">Consulting
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Technical Account Management" href="https://access.redhat.com/support/offerings/tam/">Technical Account Management
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Training and Certifications" href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__products__documentation">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Documentation" href="https://access.redhat.com/documentation">Documentation
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__documentation">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform
                                                        </a></li>
                                    </ul>
                                    <pfe-cta>
                                        <a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="All Documentation" data-analytics-linkType="cta" href="https://access.redhat.com/documentation">All Documentation
                                        </a>
                                    </pfe-cta>

                                    <h3 id="nav__products__catalog"><a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Ecosystem Catalog" href="https://catalog.redhat.com/">Ecosystem Catalog
                                        </a></h3>
                                        <ul aria-labelledby="nav__products__catalog">
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Red Hat Partner Ecosystem" href="https://access.redhat.com/ecosystem/">Red Hat Partner Ecosystem
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Partner Resources" href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources
                                                    </a></li>
                                        </ul>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Tools" href="https://access.redhat.com/labs/">Tools
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__tools__tools" data-analytics-level="2" data-analytics-text="Tools" data-analytics-category="Tools">Tools
                                    </h3>
                                    <ul aria-labelledby="nav__tools__tools">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Solution Engine" href="https://access.redhat.com/support/cases/#/troubleshoot">Troubleshoot a product issue
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Packages" href="https://access.redhat.com/downloads/content/package-browser">Packages
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Errata" href="https://access.redhat.com/errata/">Errata
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__tools__labs">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Customer Portal Labs" href="https://access.redhat.com/labs/">Customer Portal Labs
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__tools__labs">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Configuration" href="https://access.redhat.com/labs/#!?type=config">Configuration
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Deployment" href="https://access.redhat.com/labs/#!?type=deploy">Deployment
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Security" href="https://access.redhat.com/labs/#!?type=security">Security
                                                    </a></li>                                                    <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Troubleshooting" href="https://access.redhat.com/labs/#!?type=troubleshoot">Troubleshoot
                                                        </a></li>
                                    </ul>
                                    <pfe-cta>
                                        <a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="All Labs" data-analytics-linkType="cta" href="https://access.redhat.com/labs/">All labs
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h4 id="nav__tools__red-hat-insights">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Red Hat Insights" href="//www.redhat.com/en/technologies/management/insights">Red Hat Insights
                                        </a>
                                    </h4>
                                    <p>Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Learn more" href="https://www.redhat.com/en/technologies/management/insights">Learn More
                                    </a>
                                    <br>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Go to Insights" href="https://cloud.redhat.com/insights">Go to Insights
                                    </a>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Security" href="https://access.redhat.com/security/">Security
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="security__security-center">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Red Hat Product Security Center" href="https://access.redhat.com/security">Red Hat Product Security Center
                                        </a>
                                    </h3>
                                    <p>Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.
                                    </p>
                                    <pfe-cta pfe-priority="primary">
                                        <a data-analytics-level="3" data-analytics-category="Security|Red Hat Product Security Center" data-analytics-text="Product Security Center" data-analytics-linkType="cta" href="https://access.redhat.com/security/">Product Security Center
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__updates" data-analytics-level="2" data-analytics-text="Security Updates" data-analytics-category="Security">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Security Updates" href="/security">Security Updates
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__updates">
                                        <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Advisories" href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Red Hat CVE Database" href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Labs" href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs
                                                    </a></li>
                                    </ul>
                                    <p class="margin-top-xl">Keep your systems secure with Red Hat&#039;s specialized responses to security vulnerabilities.
                                    </p>
                                    <pfe-cta>
                                        <a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="View Responses" data-analytics-linkType="cta" href="https://access.redhat.com/security/vulnerability">View Responses
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__resources">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Resources" href="https://access.redhat.com/security/overview">Resources
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__resources">                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Blog" href="//redhat.com/en/blog/channel/security">Security Blog
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Measurement" href="https://www.redhat.com/security/data/metrics/">Security Measurement
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Severity Ratings" href="https://access.redhat.com/security/updates/classification/">Severity Ratings
                                                        </a></li>
                                                        <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Backporting Policies" href="https://access.redhat.com/security/updates/backporting/">Backporting Policies
                                                            </a></li>
                                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Product Signing (GPG) Keys" href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys
                                                                </a></li>
                                    </ul>
                                </div>

                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/community/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Community">Community
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__community__cp-community">
                                        <a href="https://access.redhat.com/community" data-analytics-level="2" data-analytics-text="Customer Portal Community" data-analytics-text="Customer Portal Community" data-analytics-category="Community">Customer Portal Community
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__community__cp-community">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Discussions" href="https://access.redhat.com/discussions">Discussions
                                            </a></li>                                                <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Private Groups" href="https://access.redhat.com/groups/">Private Groups
                                                    </a></li>
                                    </ul>

                                    <pfe-cta pfe-priority="primary">
                                        <a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Community Activity" data-analytics-linkType="cta" href="https://access.redhat.com/community/">Community Activity
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__community__events" data-analytics-level="2" data-analytics-text="Customer Events" data-analytics-category="Community">Customer Events
                                    </h3>
                                    <ul aria-labelledby="nav__community__events">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Convergence" href="https://access.redhat.com/convergence/">Red Hat Convergence
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Summit" href="http://www.redhat.com/summit/">Red Hat Summit
                                                </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__community__stories" data-analytics-level="2" data-analytics-text="Stories" data-analytics-category="Community">Stories
                                    </h3>
                                    <ul aria-labelledby="nav__community__stories">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Red Hat Subscription Value" href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-text="You Asked. We Acted." data-analytics-category="Community|Stories" href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Open Source Communities" href="http://www.redhat.com/en/open-source">Open Source Communities
                                                    </a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>                </nav>                <div id="site-search" slot="search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <cp-search-autocomplete class="push-bottom" path="/webassets/avalon/j/data.json"></cp-search-autocomplete>                            <div>Or <a href="/support/cases/#/troubleshoot">troubleshoot an issue</a>.
                            </div>
                        </form>
                    </div>
                </div>


                <div slot="secondary-links" id="localesMenu">
                    <button class="pfe-navigation__secondary-link">
                        <pfe-icon icon="web-icon-globe" size="sm" aria-hidden="true"></pfe-icon>English
                    </button>

                    <pfe-navigation-dropdown dropdown-width="single">
                        <h2 class="utility-header">Select Your Language
                        </h2>
                        <ul class="reset">
                            <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en" data-analytics-text="English">English</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko" data-analytics-text="Korean">한국어</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja" data-analytics-text="Japanese">日本語</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN" data-analytics-text="Chinese">中文 (中国)</a></li>
                        </ul>

                    </pfe-navigation-dropdown>
                </div>                <rh-account-dropdown slot="account"></rh-account-dropdown>                <pfe-primary-detail breakpoint-width="600" class="main-menu__dropdown--product__product-listing" slot="main-menu__dropdown--product__product-listing" consistent-height>
                    <h3 slot="details-nav">Infrastructure and Management                    </h3>
                    <div slot="details">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Satellite" href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Subscription Management" href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Insights" href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights
                                </a>
                            </li>
                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Ansible Automation Platform" href="https://access.redhat.com/products/red-hat-ansible-automation-platform/">Red Hat Ansible Automation Platform
                                </a></li>
                        </ul>
                    </div>

                    <h3 slot="details-nav">Cloud Computing                    </h3>
                    <div slot="details">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift" href="https://access.redhat.com/products/openshift">Red Hat OpenShift
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Data Science" href="https://access.redhat.com/products/red-hat-openshift-data-science/">Red Hat OpenShift Data Science
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Dedicated" href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat Advanced Cluster Security for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/">Red Hat Advanced Cluster Security for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Advanced Cluster Management for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Quay" href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat CodeReady Workspaces" href="https://access.redhat.com/products/red-hat-codeready-workspaces/">OpenShift Dev Spaces
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Service on AWS" href="https://access.redhat.com/products/red-hat-openshift-service-aws">Red Hat OpenShift Service on AWS
                                </a>
                            </li>
                        </ul>
                    </div>

                    <h3 slot="details-nav">Storage                    </h3>
                    <div slot="details">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Gluster Storage" href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Hyperconverged Infrastructure" href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Ceph Storage" href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Openshift Container Storage" href="https://access.redhat.com/products/red-hat-openshift-data-foundation">Red Hat OpenShift Data Foundation
                                </a>
                            </li>
                        </ul>
                    </div>

                    <h3 slot="details-nav">Runtimes                    </h3>
                    <div slot="details">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Runtimes" href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Data Grid" href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Web Server" href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Single Sign On" href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat support for Spring Boot" href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Node.js" href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js
                                </a>
                            </li>                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Quarkus" href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus
                                </a>
                            </li>
                        </ul>
                    </div>

                    <h3 slot="details-nav">Integration and Automation                    </h3>
                    <div slot="details">
                        <ul class="border-bottom" id="portal-menu-border-bottom">
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Application Foundations" href="https://access.redhat.com/products/red-hat-application-foundations/">Red Hat Application Foundations
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Fuse" href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat AMQ" href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat 3scale API Management" href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div slot="details-nav--footer">
                        <pfe-cta pfe-priority="primary">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="2" data-analytics-text="All Products" data-analytics-category="Products and Services|Products:" data-analytics-linkType="cta">All Products
                            </a>
                        </pfe-cta>
                    </div>
                </pfe-primary-detail>

            </pfe-navigation>

            <div id="scroll-anchor"></div>

            <!--[if IE 8]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>
                You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
                </div>
            <![endif]-->
            <!--[if IE 9]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
                </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">                            <!-- /CP_PRIMER_HEADER -->

      <div class="container">
        

                                                                                                        <script>breadcrumbs = [["Products & Services","\/products\/"],["Product Documentation","\/documentation"],["OpenShift Sandboxed Containers","\/documentation\/en-us\/openshift_sandboxed_containers"],["1.4","\/documentation\/en-us\/openshift_sandboxed_containers\/1.4"],["OpenShift sandboxed containers user guide","\/documentation\/en-us\/openshift_sandboxed_containers\/1.4\/html\/openshift_sandboxed_containers_user_guide"],["OpenShift sandboxed containers user guide","\/documentation\/en-us\/openshift_sandboxed_containers\/1.4\/html\/openshift_sandboxed_containers_user_guide\/--single-page-document--"]]</script>

<div data-drupal-messages-fallback class="hidden"></div>


    </div>
        <div class="container">
        

  

  


  <article class="pvof-doc__content-wrapper__outer pvof-doc__content-wrapper__outer--css-not-removed">
    <script>
      'use strict';

            var $outerWrapper = document.querySelector('.pvof-doc__content-wrapper__outer');
      if ($outerWrapper && $outerWrapper.closest) {
        var $containerWrapper = $outerWrapper.closest('.container');
        if ($containerWrapper) {
          $containerWrapper.classList.remove('container');
          $containerWrapper.classList.add('j-chrome-content-container');
        }
      }

            var cssRemoved = false;
      try {
        var $crapCss = document.querySelectorAll(
          'link[href*="/chrome_themes/nimbus/css/pages.css"], link[href*="/chrome_themes/nimbus/css/components.css"]'
        );
        if ($crapCss.length) {
          for (let index = 0; index < $crapCss.length; index++) {
            const $stylesheet = $crapCss[index];
            $stylesheet.remove();
          }
        }
        cssRemoved = true;
      }
      catch (error) {
        console.error('Ran into an issue while trying to retheme page', error);
        cssRemoved = false;
      }

            if (cssRemoved) {
        var $pvofOuterWrapper = document.querySelector('.pvof-doc__content-wrapper__outer--css-not-removed');
        if ($pvofOuterWrapper) {
          $pvofOuterWrapper.classList.remove('pvof-doc__content-wrapper__outer--css-not-removed');
        }
      }
    </script>
    <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
    <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
    <div class="pvof-doc__content-wrapper pvof-doc__content-wrapper--has-sidebar">
                                <div class="pvof-doc__content-wrapper__inner j-superdoc j-superdoc--has-nav">
                            <div class="pvof-sidebar__wrapper j-doc-nav j-superdoc__nav">
            <div class="j-sidebar__menu-container">
              <button class="j-sidebar__menu-trigger content-expander__trigger">
                <span class="j-sidebar__menu-trigger__open-text">Jump To</span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>

              <div class="pvof-sidebar__inner-wrapper j-doc-nav__wrapper content-expander">
                <div class="j-sidebar__menu-details-container">
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--expand">
                    Expand all
                  </button>
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--collapse">
                    Collapse all
                  </button>
                </div>
                

  <nav id="pvof-doc__toc" class="pvof-doc__toc">
  <h2 class="j-doc-nav__title" id="j-doc-nav__title">
    Table of contents
  </h2>
  <div class="pvof-doc__toc-inner">
              <ol class="j-doc-nav__list" aria-labelledby="j-doc-nav__title">
                  <li class="j-doc-nav__list-item">
                                    

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" class="j-doc-nav__link ">
    OpenShift sandboxed containers user guide
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#idm139717463799408" class="j-doc-nav__link ">
    Preface
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#understanding-sandboxed-containers" class="j-doc-nav__link j-doc-nav__link--has-children">
    1. Understanding OpenShift sandboxed containers
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "1. Understanding OpenShift sandboxed containers"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "1. Understanding OpenShift sandboxed containers"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-supported-platforms_understanding-sandboxed-containers" class="j-doc-nav__link ">
    1.1. OpenShift sandboxed containers supported platforms
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-common-terms_understanding-sandboxed-containers" class="j-doc-nav__link ">
    1.2. OpenShift sandboxed containers common terms
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-workload-management" class="j-doc-nav__link j-doc-nav__link--has-children">
    1.3. OpenShift sandboxed containers workload management
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "1.3. OpenShift sandboxed containers workload management"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "1.3. OpenShift sandboxed containers workload management"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-building-blocks_understanding-sandboxed-containers" class="j-doc-nav__link ">
    1.3.1. OpenShift sandboxed containers building blocks
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-rhcos-extensions_understanding-sandboxed-containers" class="j-doc-nav__link ">
    1.3.2. RHCOS extensions
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-with-other-ocp-components_understanding-sandboxed-containers" class="j-doc-nav__link ">
    1.3.3. Virtualization and OpenShift sandboxed containers
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#security-compliance-nist_understanding-sandboxed-containers" class="j-doc-nav__link ">
    1.4. Understanding compliance and risk management
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#deploying-sandboxed-containers-workloads" class="j-doc-nav__link j-doc-nav__link--has-children">
    2. Deploying OpenShift sandboxed containers workloads
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2. Deploying OpenShift sandboxed containers workloads"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2. Deploying OpenShift sandboxed containers workloads"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-prerequisites_deploying-sandboxed-containers" class="j-doc-nav__link j-doc-nav__link--has-children">
    2.1. Prerequisites
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2.1. Prerequisites"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2.1. Prerequisites"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-resource-requirements_deploying-sandboxed-containers" class="j-doc-nav__link ">
    2.1.1. Resource requirements for OpenShift sandboxed containers
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-check-node-eligiblilty_deploying-sandboxed-containers" class="j-doc-nav__link ">
    2.1.2. Checking whether cluster nodes are eligible to run OpenShift sandboxed containers
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#deploying-sandboxed-containers-workloads-web-console" class="j-doc-nav__link j-doc-nav__link--has-children">
    2.2. Deploying OpenShift sandboxed containers workloads using the web console
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2.2. Deploying OpenShift sandboxed containers workloads using the web console"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2.2. Deploying OpenShift sandboxed containers workloads using the web console"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-installing-operator-web-console_deploying-sandboxed-containers" class="j-doc-nav__link ">
    2.2.1. Installing the OpenShift sandboxed containers Operator using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-kataconfig-resource-web-console_deploying-sandboxed-containers" class="j-doc-nav__link ">
    2.2.2. Creating the KataConfig custom resource in the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deploying-workloads-with-kata-runtime-web_deploying-sandboxed-containers" class="j-doc-nav__link ">
    2.2.3. Deploying a workload in a sandboxed container using the web console
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#deploying-sandboxed-containers-workloads-cli" class="j-doc-nav__link j-doc-nav__link--has-children">
    2.3. Deploying OpenShift sandboxed containers workloads using the CLI
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2.3. Deploying OpenShift sandboxed containers workloads using the CLI"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2.3. Deploying OpenShift sandboxed containers workloads using the CLI"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-installing-operator-cli_deploying-sandboxed-containers" class="j-doc-nav__link ">
    2.3.1. Installing the OpenShift sandboxed containers Operator using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-kataconfig-rsource-cli_deploying-sandboxed-containers" class="j-doc-nav__link ">
    2.3.2. Creating the KataConfig custom resource using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deploying-workloads-with-kata-runtime-cli_deploying-sandboxed-containers" class="j-doc-nav__link ">
    2.3.3. Deploying a workload in a sandboxed container using the CLI
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#deploying-sandboxed-containers-workloads_additional-resources" class="j-doc-nav__link ">
    2.4. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#deploying-sandboxed-container-workloads-peer-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    3. Deploying OpenShift sandboxed containers workloads using peer pods
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3. Deploying OpenShift sandboxed containers workloads using peer pods"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3. Deploying OpenShift sandboxed containers workloads using peer pods"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-prerequisites-peer-pods_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.1. Prerequisites
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.1. Prerequisites"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.1. Prerequisites"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-peer-pods-resource-requirements_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.1.1. Resource requirements for peer-pods in OpenShift sandboxed containers
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-prerequisites-peer-pods-aws_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.1.2. Prerequisites for peer-pods using AWS
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.1.2. Prerequisites for peer-pods using AWS"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.1.2. Prerequisites for peer-pods using AWS"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#enable-ports-aws_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.1.2.1. Enable ports 15150 and 9000 for AWS
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-prerequisites-peer-pods-azure_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.1.3. Prerequisites for peer-pods using Azure
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.1.3. Prerequisites for peer-pods using Azure"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.1.3. Prerequisites for peer-pods using Azure"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#enable-ports-azure_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.1.3.1. Enable ports 15150 and 9000 for Azure
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#deploying-sandboxed-containers-workloads-peer-pods-web-console" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.2. Deploying OpenShift sandboxed containers workloads using peer pods with the web console
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.2. Deploying OpenShift sandboxed containers workloads using peer pods with the web console"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.2. Deploying OpenShift sandboxed containers workloads using peer pods with the web console"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-installing-operator-web-console_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.1. Installing the OpenShift sandboxed containers Operator using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-peer-pod-parameters-aws-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.2.2. Configuring peer-pod parameters for AWS using the web console
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.2.2. Configuring peer-pod parameters for AWS using the web console"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.2.2. Configuring peer-pod parameters for AWS using the web console"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-secret-object-peer-pods-aws-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.2.1. Creating a secret object for AWS using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-vm-image-aws-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.2.2. Creating an AWS VM image (AMI) using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-config-map-peer-pods-aws-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.2.3. Creating a peer-pod ConfigMap for AWS using the web console
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-peer-pod-parameters-azure-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.2.3. Configuring peer-pod parameters for Azure using the web console
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.2.3. Configuring peer-pod parameters for Azure using the web console"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.2.3. Configuring peer-pod parameters for Azure using the web console"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-secret-object-peer-pods-azure-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.3.1. Creating a secret object for Azure using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-vm-image-azure-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.3.2. Creating an Azure VM image using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-config-map-peer-pods-azure-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.3.3. Creating a peer-pod ConfigMap for Azure using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-generate-shh-keys-peer-pods-azure-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.3.4. Creating an SSH key secret object for Azure using the web console
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-kataconfig-resource-web-console_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.4. Creating the KataConfig custom resource in the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deploying-workloads-with-kata-runtime-web_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.2.5. Deploying a workload with peer pods in a sandboxed container using the web console
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#deploying-sandboxed-containers-workloads-peer-pods-cli" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.3. Deploying OpenShift sandboxed containers workloads using peer pods with the CLI
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.3. Deploying OpenShift sandboxed containers workloads using peer pods with the CLI"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.3. Deploying OpenShift sandboxed containers workloads using peer pods with the CLI"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-installing-operator-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.1. Installing the OpenShift sandboxed containers Operator using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-peer-pod-setup-aws-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.3.2. Setting up peer pods for AWS using the CLI
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.3.2. Setting up peer pods for AWS using the CLI"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.3.2. Setting up peer pods for AWS using the CLI"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-secret-object-peer-pods-aws-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.2.1. Creating a secret object for AWS using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-vm-image-aws-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.2.2. Creating an AWS VM image (AMI) using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-config-map-peer-pods-aws-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.2.3. Creating a peer-pod ConfigMap for AWS using the CLI
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-peer-pod-setup-azure-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.3.3. Setting up peer pods for Azure using the CLI
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.3.3. Setting up peer pods for Azure using the CLI"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.3.3. Setting up peer pods for Azure using the CLI"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-secret-object-peer-pods-azure-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.3.1. Creating a secret object for Azure using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-vm-image-azure-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.3.2. Creating an Azure VM image using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-config-map-peer-pods-azure-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.3.3. Creating a peer-pod ConfigMap for Azure using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-generate-shh-keys-peer-pods-azure-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.3.4. Creating an SSH key secret object for Azure using the CLI
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-create-kataconfig-rsource-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.4. Creating the KataConfig custom resource using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deploying-workloads-with-kata-runtime-cli_deploying-sandboxed-containers-peer-pods" class="j-doc-nav__link ">
    3.3.5. Deploying a workload with peer pods in a sandboxed container using the CLI
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#deploying-sandboxed-containers-workloads-peer-pods_additional-resources" class="j-doc-nav__link ">
    3.4. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#monitoring-sandboxed-containers" class="j-doc-nav__link j-doc-nav__link--has-children">
    4. Monitoring OpenShift sandboxed containers
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "4. Monitoring OpenShift sandboxed containers"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "4. Monitoring OpenShift sandboxed containers"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-metrics-list_monitoring-sandboxed-containers" class="j-doc-nav__link ">
    4.1. About OpenShift sandboxed containers metrics
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-querying-metrics_monitoring-sandboxed-containers" class="j-doc-nav__link ">
    4.2. Viewing metrics for OpenShift sandboxed containers
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-dashboard_monitoring-sandboxed-containers" class="j-doc-nav__link ">
    4.3. Viewing the OpenShift sandboxed containers dashboard
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#monitoring-sandboxed-containers_additional-resources" class="j-doc-nav__link ">
    4.4. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#uninstalling-sandboxed-containers" class="j-doc-nav__link j-doc-nav__link--has-children">
    5. Uninstalling OpenShift sandboxed containers
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "5. Uninstalling OpenShift sandboxed containers"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "5. Uninstalling OpenShift sandboxed containers"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#uninstalling_openshift_sandboxed_containers_using_the_web_console" class="j-doc-nav__link j-doc-nav__link--has-children">
    5.1. Uninstalling OpenShift sandboxed containers using the web console
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "5.1. Uninstalling OpenShift sandboxed containers using the web console"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "5.1. Uninstalling OpenShift sandboxed containers using the web console"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-pods-web-console_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.1.1. Deleting OpenShift sandboxed containers pods using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-kataconfig-web-console_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.1.2. Deleting the KataConfig custom resource using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-operator-web-console_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.1.3. Deleting the OpenShift sandboxed containers Operator using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-namespace-web-console_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.1.4. Deleting the OpenShift sandboxed containers namespace using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-kataconfig-crd-web_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.1.5. Deleting the KataConfig custom resource definition using the web console
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#uninstalling_openshift_sandboxed_containers_using_the_cli" class="j-doc-nav__link j-doc-nav__link--has-children">
    5.2. Uninstalling OpenShift sandboxed containers using the CLI
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "5.2. Uninstalling OpenShift sandboxed containers using the CLI"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "5.2. Uninstalling OpenShift sandboxed containers using the CLI"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-pods-cli_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.2.1. Deleting OpenShift sandboxed containers pods using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-kataconfig-cli_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.2.2. Deleting the KataConfig custom resource using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-operator-cli_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.2.3. Deleting the OpenShift sandboxed containers Operator using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-deleting-kataconfig-CRD-cli_uninstalling-sandboxed-containers" class="j-doc-nav__link ">
    5.2.4. Deleting the KataConfig custom resource definition using the CLI
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#upgrading-sandboxed-containers" class="j-doc-nav__link j-doc-nav__link--has-children">
    6. Upgrading OpenShift sandboxed containers
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6. Upgrading OpenShift sandboxed containers"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6. Upgrading OpenShift sandboxed containers"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-upgrade-resources" class="j-doc-nav__link ">
    6.1. Upgrading the OpenShift sandboxed containers resources
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-upgrading-operator" class="j-doc-nav__link ">
    6.2. Upgrading the OpenShift sandboxed containers Operator
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-upgrading-monitor-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.3. Upgrading the OpenShift sandboxed containers monitor pods
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.3. Upgrading the OpenShift sandboxed containers monitor pods"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.3. Upgrading the OpenShift sandboxed containers monitor pods"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-upgrading-monitor-pods-web_upgrading-sandboxed-containers" class="j-doc-nav__link ">
    6.3.1. Upgrading the monitor pods using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-upgrading-monitor-pods-cli_upgrading-sandboxed-containers" class="j-doc-nav__link ">
    6.3.2. Upgrading the monitor pods using the CLI
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#troubleshooting-sandboxed-containers" class="j-doc-nav__link j-doc-nav__link--has-children">
    7. Collecting OpenShift sandboxed containers data
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7. Collecting OpenShift sandboxed containers data"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7. Collecting OpenShift sandboxed containers data"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-collect_data_rh_support_troubleshooting-sandboxed-containers" class="j-doc-nav__link j-doc-nav__link--has-children">
    7.1. Collecting OpenShift sandboxed containers data for Red Hat Support
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7.1. Collecting OpenShift sandboxed containers data for Red Hat Support"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7.1. Collecting OpenShift sandboxed containers data for Red Hat Support"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#about-must-gather_troubleshooting-sandboxed-containers" class="j-doc-nav__link ">
    7.1.1. About the must-gather tool
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-collecting-data_troubleshooting-sandboxed-containers" class="j-doc-nav__link ">
    7.2. About OpenShift sandboxed containers log data
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-enable-debug-logs_troubleshooting-sandboxed-containers" class="j-doc-nav__link j-doc-nav__link--has-children">
    7.3. Enabling debug logs for OpenShift sandboxed containers
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7.3. Enabling debug logs for OpenShift sandboxed containers"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7.3. Enabling debug logs for OpenShift sandboxed containers"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#sandboxed-containers-view-debug-logs_troubleshooting-sandboxed-containers" class="j-doc-nav__link ">
    7.3.1. Viewing debug logs for OpenShift sandboxed containers
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#troubleshooting-sandboxed-containers_additional-resources" class="j-doc-nav__link ">
    7.4. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide#idm139717453664544" class="j-doc-nav__link ">
    Legal Notice
  </a>
  
          </li>
              </ol>
    
  </div>
</nav>


              </div>
            </div>
            <div class="j-options-container j-options-container--mobile">
              <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--options content-expander__trigger">
                <span class="j-sidebar__menu-trigger__open-headline">
                  Settings
                </span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>
              

  <ul class="j-doc-options__list content-expander">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language">
        Language:
      </label>
      <select id="j-doc-language" class="j-doc-option__select">
                  <option value="/documentation/zh-cn/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" >
            简体中文
          </option>
                  <option value="/documentation/ko-kr/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" >
            한국어
          </option>
                  <option value="/documentation/ja-jp/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" >
            日本語
          </option>
                  <option value="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" selected=''>
            English
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/zh-cn/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">简体中文</a>
            </li>
                      <li>
              <a href="/documentation/ko-kr/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">한국어</a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">日本語</a>
            </li>
                      <li>
              <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">English</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode" class="j-doc-option__select">
              <option value="/documentation/en-us/openshift_sandboxed_containers/1.4/html/openshift_sandboxed_containers_user_guide"  class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" selected='' class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/openshift_sandboxed_containers/1.4/pdf/openshift_sandboxed_containers_user_guide/OpenShift_Sandboxed_Containers-1.4-OpenShift_sandboxed_containers_user_guide-en-US.pdf"  class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html/openshift_sandboxed_containers_user_guide">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/openshift_sandboxed_containers/1.4/pdf/openshift_sandboxed_containers_user_guide/OpenShift_Sandboxed_Containers-1.4-OpenShift_sandboxed_containers_user_guide-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


              </div>
          </div>
                <div class="pvof-doc__tertiary-sidebar j-doc__tertiary-sidebar">
          <div class="pvof-doc__tertiary-sidebar__inner j-doc__tertiary-sidebar__inner">
            <div class="j-doc__doc-options">
              <div class="j-options-container j-options-container--desktop">
                <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--tablet content-expander__trigger">
                  <span class="j-sidebar__menu-trigger-icon"></span>
                  <h2 class="visually-hidden">Language and Page Formatting Options</h2>
                </button>
                  

  <ul class="j-doc-options__list content-expander">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language--2">
        Language:
      </label>
      <select id="j-doc-language--2" class="j-doc-option__select">
                  <option value="/documentation/zh-cn/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" >
            简体中文
          </option>
                  <option value="/documentation/ko-kr/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" >
            한국어
          </option>
                  <option value="/documentation/ja-jp/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" >
            日本語
          </option>
                  <option value="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" selected=''>
            English
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/zh-cn/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">简体中文</a>
            </li>
                      <li>
              <a href="/documentation/ko-kr/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">한국어</a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">日本語</a>
            </li>
                      <li>
              <a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">English</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode--2" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode--2" class="j-doc-option__select">
              <option value="/documentation/en-us/openshift_sandboxed_containers/1.4/html/openshift_sandboxed_containers_user_guide"  class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide" selected='' class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/openshift_sandboxed_containers/1.4/pdf/openshift_sandboxed_containers_user_guide/OpenShift_Sandboxed_Containers-1.4-OpenShift_sandboxed_containers_user_guide-en-US.pdf"  class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html/openshift_sandboxed_containers_user_guide">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/openshift_sandboxed_containers/1.4/pdf/openshift_sandboxed_containers_user_guide/OpenShift_Sandboxed_Containers-1.4-OpenShift_sandboxed_containers_user_guide-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


                </div>
              </div>
          </div>
        </div>

                  <div class="doc-wrapper pvof-doc__wrapper j-superdoc__content-wrapper" id="doc-wrapper">
            

  <div class="pane-page-title">
    <h1 class="title" itemprop="name">OpenShift sandboxed containers user guide</h1>
  </div>


  <div xml:lang="en-US" class="book" id="idm139717462934752"><div class="titlepage"><div><div class="producttitle"><span class="productname">OpenShift Sandboxed Containers</span> <span class="productnumber">1.4</span></div><div><h2 class="subtitle">For Red Hat OpenShift</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm139717453664544">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Information about OpenShift sandboxed containers operators and their usage
			</div></div></div></div><hr/></div><section class="preface" id="idm139717463799408"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div></section><section class="chapter" id="understanding-sandboxed-containers"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Understanding OpenShift sandboxed containers</h1></div></div></div><p class="_abstract _abstract">
			OpenShift sandboxed containers support for Red Hat OpenShift provides you with built-in support for running Kata Containers as an additional optional runtime. The new runtime supports containers in dedicated virtual machines (VMs), providing improved workload isolation. This is particularly useful for performing the following tasks:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Run privileged or untrusted workloads</span></dt><dd><p class="simpara">
						OpenShift sandboxed containers (OSC) makes it possible to safely run workloads that require specific privileges, without having to risk compromising cluster nodes by running privileged containers. Workloads that require special privileges include the following:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Workloads that require special capabilities from the kernel, beyond the default ones granted by standard container runtimes such as CRI-O, for example to access low-level networking features.
							</li><li class="listitem">
								Workloads that need elevated root privileges, for example to access a specific physical device. With OpenShift sandboxed containers, it is possible to pass only a specific device through to the VM, ensuring that the workload cannot access or misconfigure the rest of the system.
							</li><li class="listitem">
								Workloads for installing or using <code class="literal">set-uid</code> root binaries. These binaries grant special privileges and, as such, can present a security risk. With OpenShift sandboxed containers, additional privileges are restricted to the virtual machines, and grant no special access to the cluster nodes.
							</li></ul></div><p class="simpara">
						Some workloads may require privileges specifically for configuring the cluster nodes. Such workloads should still use privileged containers, because running on a virtual machine would prevent them from functioning.
					</p></dd><dt><span class="term">Ensure kernel isolation for each workload</span></dt><dd>
						OpenShift sandboxed containers supports workloads that require custom kernel tuning (such as <code class="literal">sysctl</code>, scheduler changes, or cache tuning) and the creation of custom kernel modules (such as <code class="literal">out of tree</code> or special arguments).
					</dd><dt><span class="term">Share the same workload across tenants</span></dt><dd>
						OpenShift sandboxed containers enables you to support multiple users (tenants) from different organizations sharing the same OpenShift cluster. The system also lets you run third-party workloads from multiple vendors, such as container network functions (CNFs) and enterprise applications. Third-party CNFs, for example, may not want their custom settings interfering with packet tuning or with <code class="literal">sysctl</code> variables set by other applications. Running inside a completely isolated kernel is helpful in preventing "noisy neighbor" configuration problems.
					</dd><dt><span class="term">Ensure proper isolation and sandboxing for testing software</span></dt><dd>
						You can use OpenShift sandboxed containers to run a containerized workload with known vulnerabilities or to handle an issue in a legacy application. This isolation also enables administrators to give developers administrative control over pods, which is useful when the developer wants to test or validate configurations beyond those an administrator would typically grant. Administrators can, for example, safely and securely delegate kernel packet filtering (eBPF) to developers. Kernel packet filtering requires <code class="literal">CAP_ADMIN</code> or <code class="literal">CAP_BPF</code> privileges, and is therefore not allowed under a standard CRI-O configuration, as this would grant access to every process on the Container Host worker node. Similarly, administrators can grant access to intrusive tools such as SystemTap, or support the loading of custom kernel modules during their development.
					</dd><dt><span class="term">Ensure default resource containment through VM boundaries</span></dt><dd>
						By default, resources such as CPU, memory, storage, or networking are managed in a more robust and secure way in OpenShift sandboxed containers. Since OpenShift sandboxed containers are deployed on VMs, additional layers of isolation and security give a finer-grained access control to the resource. For example, an errant container will not be able to allocate more memory than is available to the VM. Conversely, a container that needs dedicated access to a network card or to a disk can take complete control over that device without getting any access to other devices.
					</dd></dl></div><section class="section" id="sandboxed-containers-supported-platforms_understanding-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">1.1. OpenShift sandboxed containers supported platforms</h2></div></div></div><p>
				You can install OpenShift sandboxed containers on a bare-metal server or on an Amazon Web Services (AWS) bare-metal instance. Bare-metal instances offered by other cloud providers are not supported.
			</p><p>
				Red Hat Enterprise Linux CoreOS (RHCOS) is the only supported operating system for OpenShift sandboxed containers. OpenShift sandboxed containers 1.4 runs on Red Hat Enterprise Linux CoreOS (RHCOS) 8.6.
			</p><p>
				OpenShift sandboxed containers 1.4 is compatible with Red Hat OpenShift 4.11.
			</p></section><section class="section" id="sandboxed-containers-common-terms_understanding-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">1.2. OpenShift sandboxed containers common terms</h2></div></div></div><p>
				The following terms are used throughout the documentation.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Sandbox</span></dt><dd><p class="simpara">
							A sandbox is an isolated environment where programs can run. In a sandbox, you can run untested or untrusted programs without risking harm to the host machine or the operating system.
						</p><p class="simpara">
							In the context of OpenShift sandboxed containers, sandboxing is achieved by running workloads in a different kernel using virtualization, providing enhanced control over the interactions between multiple workloads that run on the same host.
						</p></dd><dt><span class="term">Pod</span></dt><dd><p class="simpara">
							A pod is a construct that is inherited from Kubernetes and Red Hat OpenShift. It represents resources where containers can be deployed. Containers run inside of pods, and pods are used to specify resources that can be shared between multiple containers.
						</p><p class="simpara">
							In the context of OpenShift sandboxed containers, a pod is implemented as a virtual machine. Several containers can run in the same pod on the same virtual machine.
						</p></dd><dt><span class="term">OpenShift sandboxed containers Operator</span></dt><dd><p class="simpara">
							An Operator is a software component that automates operations, which are actions that a human operator could do on the system.
						</p><p class="simpara">
							The OpenShift sandboxed containers Operator is tasked with managing the lifecycle of sandboxed containers on a cluster. You can use the OpenShift sandboxed containers Operator to perform tasks such as the installation and removal of sandboxed containers, software updates, and status monitoring.
						</p></dd><dt><span class="term">Kata Containers</span></dt><dd>
							Kata Containers is a core upstream project that is used to build OpenShift sandboxed containers. OpenShift sandboxed containers integrate Kata Containers with Red Hat OpenShift.
						</dd><dt><span class="term">KataConfig</span></dt><dd>
							<code class="literal">KataConfig</code> objects represent configurations of sandboxed containers. They store information about the state of the cluster, such as the nodes on which the software is deployed.
						</dd><dt><span class="term">Runtime class</span></dt><dd>
							A <code class="literal">RuntimeClass</code> object describes which runtime can be used to run a given workload. A runtime class that is named <code class="literal">kata</code> is installed and deployed by the OpenShift sandboxed containers Operator. The runtime class contains information about the runtime that describes resources that the runtime needs to operate, such as the <a class="link" href="https://kubernetes.io/docs/concepts/scheduling-eviction/pod-overhead/">pod overhead</a>.
						</dd><dt><span class="term">Peer pod</span></dt><dd>
							A peer pod in OpenShift sandboxed containers extends the concept of a standard pod. Unlike a standard sandboxed container, where the virtual machine is created on the worker node itself, in a peer pod, the virtual machine is created through a remote hypervisor using any supported hypervisor or cloud provider API. The peer pod acts as a regular pod on the worker node, with its corresponding VM running elsewhere. The remote location of the VM is transparent to the user and is specified by the runtime class in the pod specification. The peer pod design circumvents the need for nested virtualization.
						</dd></dl></div></section><section class="section" id="sandboxed-containers-workload-management"><div class="titlepage"><div><div><h2 class="title">1.3. OpenShift sandboxed containers workload management</h2></div></div></div><p>
				OpenShift sandboxed containers provides the following features for enhancing workload management and allocation:
			</p><section class="section" id="sandboxed-containers-building-blocks_understanding-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">1.3.1. OpenShift sandboxed containers building blocks</h3></div></div></div><p>
					The OpenShift sandboxed containers Operator encapsulates all of the components from Kata containers. It manages installation, lifecycle, and configuration tasks.
				</p><p>
					The OpenShift sandboxed containers Operator is packaged in the <a class="link" href="https://docs.openshift.com/container-platform/latest/operators/operator_sdk/osdk-working-bundle-images.html">Operator bundle format</a> as two container images. The bundle image contains metadata and is required to make the operator OLM-ready. The second container image contains the actual controller that monitors and manages the <code class="literal">KataConfig</code> resource.
				</p></section><section class="section" id="sandboxed-containers-rhcos-extensions_understanding-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">1.3.2. RHCOS extensions</h3></div></div></div><p>
					The OpenShift sandboxed containers Operator is based on the Red Hat Enterprise Linux CoreOS (RHCOS) extensions concept. Red Hat Enterprise Linux CoreOS (RHCOS) extensions are a mechanism to install optional Red Hat OpenShift software. The OpenShift sandboxed containers Operator uses this mechanism to deploy sandboxed containers on a cluster.
				</p><p>
					The sandboxed containers RHCOS extension contains RPMs for Kata, QEMU, and its dependencies. You can enable them by using the <code class="literal">MachineConfig</code> resources that the Machine Config Operator provides.
				</p><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://docs.openshift.com/container-platform/latest/post_installation_configuration/machine-configuration-tasks.html#rhcos-add-extensions_post-install-machine-configuration-tasks">Adding extensions to RHCOS</a>
						</li></ul></div></section><section class="section" id="sandboxed-containers-with-other-ocp-components_understanding-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">1.3.3. Virtualization and OpenShift sandboxed containers</h3></div></div></div><p>
					You can use OpenShift sandboxed containers on clusters with OpenShift Virtualization.
				</p><p>
					To run OpenShift Virtualization and OpenShift sandboxed containers at the same time, you must enable VMs to migrate, so that they do not block node reboots. Configure the following parameters on your VM:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Use <code class="literal">ocs-storagecluster-ceph-rbd</code> as the storage class.
						</li><li class="listitem">
							Set the <code class="literal">evictionStrategy</code> parameter to <code class="literal">LiveMigrate</code> in the VM.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://docs.openshift.com/container-platform/latest/virt/virtual_machines/virtual_disks/virt-configuring-local-storage-for-vms.html">Configuring local storage for virtual machines</a>
						</li><li class="listitem">
							<a class="link" href="https://docs.openshift.com/container-platform/latest/virt/live_migration/virt-configuring-vmi-eviction-strategy.html">Configuring virtual machine eviction strategy</a>
						</li></ul></div></section></section><section class="section" id="security-compliance-nist_understanding-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">1.4. Understanding compliance and risk management</h2></div></div></div><p>
				OpenShift sandboxed containers can be used on FIPS enabled clusters.
			</p><p>
				When running in FIPS mode, OpenShift sandboxed containers components, VMs, and VM images are adapted to comply with FIPS.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					FIPS compliance for OpenShift sandboxed containers only applies to the <code class="literal">kata</code> runtime class. The new peer pods runtime class <code class="literal">kata-remote-cc</code> is not yet fully supported, and has not been tested for FIPS compliance.
				</p></div></div><p>
				FIPS compliance is one of the most critical components required in highly secure environments, to ensure that only supported cryptographic technologies are allowed on nodes.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The use of FIPS Validated / Modules in Process cryptographic libraries is only supported on Red Hat OpenShift deployments on the <code class="literal">x86_64</code> architecture.
				</p></div></div><p>
				To understand Red Hat’s view of Red Hat OpenShift compliance frameworks, refer to the Risk Management and Regulatory Readiness chapter of the <a class="link" href="https://access.redhat.com/articles/5059881">OpenShift Security Guide Book</a>.
			</p></section></section><section class="chapter" id="deploying-sandboxed-containers-workloads"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Deploying OpenShift sandboxed containers workloads</h1></div></div></div><p>
			You can install the OpenShift sandboxed containers Operator using either the web console or OpenShift CLI (<code class="literal">oc</code>). Before installing the OpenShift sandboxed containers Operator, you must prepare your Red Hat OpenShift cluster.
		</p><section class="section" id="sandboxed-containers-prerequisites_deploying-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">2.1. Prerequisites</h2></div></div></div><p>
				Before you install OpenShift sandboxed containers, ensure that your Red Hat OpenShift cluster meets the following requirements:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Your cluster must be installed on on-premise bare-metal infrastructure with Red Hat Enterprise Linux CoreOS (RHCOS) workers. You can use any installation method including user-provisioned, installer-provisioned, or assisted installer to deploy your cluster.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									OpenShift sandboxed containers only supports RHCOS worker nodes. RHEL nodes are not supported.
								</li><li class="listitem">
									Nested virtualization is not supported.
								</li></ul></div></div></div></li><li class="listitem">
						You can install OpenShift sandboxed containers on Amazon Web Services (AWS) bare-metal instances. Bare-metal instances offered by other cloud providers are not supported.
					</li></ul></div><section class="section" id="sandboxed-containers-resource-requirements_deploying-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">2.1.1. Resource requirements for OpenShift sandboxed containers</h3></div></div></div><p>
					OpenShift sandboxed containers lets users run workloads on their Red Hat OpenShift clusters inside a sandboxed runtime (Kata). Each pod is represented by a virtual machine (VM). Each VM runs in a QEMU process and hosts a <code class="literal">kata-agent</code> process that acts as a supervisor for managing container workloads, and the processes running in those containers. Two additional processes add more overhead:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">containerd-shim-kata-v2</code> is used to communicate with the pod.
						</li><li class="listitem">
							<code class="literal">virtiofsd</code> handles host file system access on behalf of the guest.
						</li></ul></div><p>
					Each VM is configured with a default amount of memory. Additional memory is hot-plugged into the VM for containers that explicitly request memory.
				</p><p>
					A container running without a memory resource consumes free memory until the total memory used by the VM reaches the default allocation. The guest and its I/O buffers also consume memory.
				</p><p>
					If a container is given a specific amount of memory, then that memory is hot-plugged into the VM before the container starts.
				</p><p>
					When a memory limit is specified, the workload is terminated if it consumes more memory than the limit. If no memory limit is specified, the kernel running on the VM might run out of memory. If the kernel runs out of memory, it might terminate other processes on the VM.
				</p><div class="formalpara"><p class="title"><strong>Default memory sizes</strong></p><p>
						The following table lists some the default values for resource allocation.
					</p></div><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm139717462450720" scope="col">Resource</th><th align="left" valign="top" id="idm139717462449632" scope="col">Value</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm139717462450720"> <p>
									Memory allocated by default to a virtual machine
								</p>
								 </td><td align="left" valign="top" headers="idm139717462449632"> <p>
									2Gi
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139717462450720"> <p>
									Guest Linux kernel memory usage at boot
								</p>
								 </td><td align="left" valign="top" headers="idm139717462449632"> <p>
									~110Mi
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139717462450720"> <p>
									Memory used by the QEMU process (excluding VM memory)
								</p>
								 </td><td align="left" valign="top" headers="idm139717462449632"> <p>
									~30Mi
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139717462450720"> <p>
									Memory used by the <code class="literal">virtiofsd</code> process (excluding VM I/O buffers)
								</p>
								 </td><td align="left" valign="top" headers="idm139717462449632"> <p>
									~10Mi
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139717462450720"> <p>
									Memory used by the <code class="literal">containerd-shim-kata-v2</code> process
								</p>
								 </td><td align="left" valign="top" headers="idm139717462449632"> <p>
									~20Mi
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm139717462450720"> <p>
									File buffer cache data after running <code class="literal">dnf install</code> on Fedora
								</p>
								 </td><td align="left" valign="top" headers="idm139717462449632"> <p>
									~300Mi* <sup>[1]</sup>
								</p>
								 </td></tr></tbody></table></div><p>
					File buffers appear and are accounted for in multiple locations:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							In the guest where it appears as file buffer cache.
						</li><li class="listitem">
							In the <code class="literal">virtiofsd</code> daemon that maps allowed user-space file I/O operations.
						</li><li class="listitem">
							In the QEMU process as guest memory.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Total memory usage is properly accounted for by the memory utilization metrics, which only count that memory once.
					</p></div></div><p>
					<a class="link" href="https://kubernetes.io/docs/concepts/scheduling-eviction/pod-overhead/">Pod overhead</a> describes the amount of system resources that a pod on a node uses. You can get the current pod overhead for the Kata runtime by using <code class="literal">oc describe runtimeclass kata</code> as shown below.
				</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
						
<pre class="programlisting language-terminal">$ oc describe runtimeclass kata</pre>

					</p></div><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
						
<pre class="programlisting language-terminal">kind: RuntimeClass
apiVersion: node.k8s.io/v1
metadata:
  name: kata
overhead:
  podFixed:
    memory: "500Mi"
    cpu: "500m"</pre>

					</p></div><p>
					You can change the pod overhead by changing the <code class="literal">spec.overhead</code> field for a <code class="literal">RuntimeClass</code>. For example, if the configuration that you run for your containers consumes more than 350Mi of memory for the QEMU process and guest kernel data, you can alter the <code class="literal">RuntimeClass</code> overhead to suit your needs.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The specified default overhead values are supported by Red Hat. Changing default overhead values is not supported and can result in technical issues.
					</p></div></div><p>
					When performing any kind of file system I/O in the guest, file buffers are allocated in the guest kernel. The file buffers are also mapped in the QEMU process on the host, as well as in the <code class="literal">virtiofsd</code> process.
				</p><p>
					For example, if you use 300Mi of file buffer cache in the guest, both QEMU and <code class="literal">virtiofsd</code> appear to use 300Mi additional memory. However, the same memory is being used in all three cases. In other words, the total memory usage is only 300Mi, mapped in three different places. This is correctly accounted for when reporting the memory utilization metrics.
				</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://docs.openshift.com/container-platform/latest/installing/installing_bare_metal/installing-bare-metal.html">Installing a user-provisioned cluster on bare metal</a>
						</li></ul></div></section><section class="section" id="sandboxed-containers-check-node-eligiblilty_deploying-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">2.1.2. Checking whether cluster nodes are eligible to run OpenShift sandboxed containers</h3></div></div></div><p>
					Before running OpenShift sandboxed containers, you can check whether the nodes in your cluster are eligible to run Kata containers. Some cluster nodes might not comply with sandboxed containers' minimum requirements. The most common reason for node ineligibility is the lack of virtualization support on the node. If you attempt to run sandboxed workloads on ineligible nodes, you will experience errors. You can use the Node Feature Discovery (NFD) Operator and a <code class="literal">NodeFeatureDiscovery</code> resource to automatically check node eligibility.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you want to install the Kata runtime on only selected worker nodes that you know are eligible, apply the <code class="literal">feature.node.kubernetes.io/runtime.kata=true</code> label to the selected nodes and set <code class="literal">checkNodeEligibility: true</code> in the <code class="literal">KataConfig</code> resource.
					</p><p>
						Alternatively, to install the Kata runtime on all worker nodes, set <code class="literal">checkNodeEligibility: false</code> in the <code class="literal">KataConfig</code> resource.
					</p><p>
						In both these scenarios, you do not need to create the <code class="literal">NodeFeatureDiscovery</code> resource. You should only apply the <code class="literal">feature.node.kubernetes.io/runtime.kata=true</code> label manually if you are sure that the node is eligible to run Kata containers.
					</p></div></div><p>
					The following procedure applies the <code class="literal">feature.node.kubernetes.io/runtime.kata=true</code> label to all eligible nodes and configures the <code class="literal">KataConfig</code> resource to check for node eligibility.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Install the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							Log in as a user with <code class="literal">cluster-admin</code> privileges.
						</li><li class="listitem">
							Install the Node Feature Discovery (NFD) Operator.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a <code class="literal">NodeFeatureDiscovery</code> resource to detect node capabilities suitable for running Kata containers:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Save the following YAML in the <code class="literal">nfd.yaml</code> file:
								</p><pre class="programlisting language-yaml">apiVersion: nfd.openshift.io/v1
kind: NodeFeatureDiscovery
metadata:
  name: nfd-kata
  namespace: openshift-nfd
spec:
  operand:
    image: quay.io/openshift/origin-node-feature-discovery:4.10
    imagePullPolicy: Always
    servicePort: 12000
  workerConfig:
    configData: |
      sources:
         custom:
           - name: "feature.node.kubernetes.io/runtime.kata"
             matchOn:
               - cpuId: ["SSE4", "VMX"]
                 loadedKMod: ["kvm", "kvm_intel"]
               - cpuId: ["SSE4", "SVM"]
                 loadedKMod: ["kvm", "kvm_amd"]</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">NodeFeatureDiscovery</code> custom resource (CR):
								</p><pre class="programlisting language-terminal">$ oc create -f nfd.yaml</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
										
<pre class="programlisting language-terminal">nodefeaturediscovery.nfd.openshift.io/nfd-kata created</pre>

									</p></div><p class="simpara">
									A <code class="literal">feature.node.kubernetes.io/runtime.kata=true</code> label is applied to all qualifying worker nodes.
								</p></li></ol></div></li><li class="listitem"><p class="simpara">
							Set the <code class="literal">checkNodeEligibility</code> field to <code class="literal">true</code> in the <code class="literal">KataConfig</code> resource to enable the feature, for example:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Save the following YAML in the <code class="literal">kata-config.yaml</code> file:
								</p><pre class="programlisting language-yaml">apiVersion: kataconfiguration.openshift.io/v1
kind: KataConfig
metadata:
  name: example-kataconfig
spec:
  checkNodeEligibility: true</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">KataConfig</code> CR:
								</p><pre class="programlisting language-terminal">$ oc create -f kata-config.yaml</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
										
<pre class="programlisting language-terminal">kataconfig.kataconfiguration.openshift.io/example-kataconfig created</pre>

									</p></div></li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Verify that qualifying nodes in the cluster have the correct label applied:
						</p><pre class="programlisting language-terminal">$ oc get nodes --selector='feature.node.kubernetes.io/runtime.kata=true'</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                           STATUS                     ROLES    AGE     VERSION
compute-3.example.com          Ready                      worker   4h38m   v1.25.0
compute-2.example.com          Ready                      worker   4h35m   v1.25.0</pre>

							</p></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							For more information about installing the Node Feature Discovery (NFD) Operator, see <a class="link" href="https://docs.openshift.com/container-platform/latest/hardware_enablement/psap-node-feature-discovery-operator.html#installing-the-node-feature-discovery-operator_node-feature-discovery-operator">Installing NFD</a>.
						</li></ul></div></section></section><section class="section" id="deploying-sandboxed-containers-workloads-web-console"><div class="titlepage"><div><div><h2 class="title">2.2. Deploying OpenShift sandboxed containers workloads using the web console</h2></div></div></div><p>
				You can deploy OpenShift sandboxed containers workloads from the web console. First, you must install the OpenShift sandboxed containers Operator, then create the <code class="literal">KataConfig</code> custom resource (CR). Once you are ready to deploy a workload in a sandboxed container, you must manually add <code class="literal">kata</code> as the <code class="literal">runtimeClassName</code> to the workload YAML file.
			</p><section class="section" id="sandboxed-containers-installing-operator-web-console_deploying-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">2.2.1. Installing the OpenShift sandboxed containers Operator using the web console</h3></div></div></div><p>
					You can install the OpenShift sandboxed containers Operator from the Red Hat OpenShift web console.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>OperatorHub</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Filter by keyword</strong></span> field, type <code class="literal">OpenShift sandboxed containers</code>.
						</li><li class="listitem">
							Select the <span class="strong strong"><strong>OpenShift sandboxed containers</strong></span> tile.
						</li><li class="listitem">
							Read the information about the Operator and click <span class="strong strong"><strong>Install</strong></span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Install Operator</strong></span> page:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Select <span class="strong strong"><strong>stable</strong></span> from the list of available <span class="strong strong"><strong>Update Channel</strong></span> options.
								</li><li class="listitem"><p class="simpara">
									Verify that <span class="strong strong"><strong>Operator recommended Namespace</strong></span> is selected for <span class="strong strong"><strong>Installed Namespace</strong></span>. This installs the Operator in the mandatory <code class="literal">openshift-sandboxed-containers-operator</code> namespace. If this namespace does not yet exist, it is automatically created.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Attempting to install the OpenShift sandboxed containers Operator in a namespace other than <code class="literal">openshift-sandboxed-containers-operator</code> causes the installation to fail.
									</p></div></div></li><li class="listitem">
									Verify that <span class="strong strong"><strong>Automatic</strong></span> is selected for <span class="strong strong"><strong>Approval Strategy</strong></span>. <span class="strong strong"><strong>Automatic</strong></span> is the default value, and enables automatic updates to OpenShift sandboxed containers when a new z-stream release is available.
								</li></ol></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Install</strong></span>.
						</li></ol></div><p>
					The OpenShift sandboxed containers Operator is now installed on your cluster.
				</p><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
						</li><li class="listitem">
							Verify that the OpenShift sandboxed containers Operator is listed in the in operators list.
						</li></ol></div></section><section class="section" id="sandboxed-containers-create-kataconfig-resource-web-console_deploying-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">2.2.2. Creating the KataConfig custom resource in the web console</h3></div></div></div><p>
					You must create one <code class="literal">KataConfig</code> custom resource (CR) to enable installing <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code> on your cluster nodes.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Creating the <code class="literal">KataConfig</code> CR automatically reboots the worker nodes. The reboot can take from 10 to more than 60 minutes. Factors that impede reboot time are as follows:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								A larger Red Hat OpenShift deployment with a greater number of worker nodes.
							</li><li class="listitem">
								Activation of the BIOS and Diagnostics utility.
							</li><li class="listitem">
								Deployment on a hard disk drive rather than an SSD.
							</li><li class="listitem">
								Deployment on physical nodes such as bare metal, rather than on virtual nodes.
							</li><li class="listitem">
								A slow CPU and network.
							</li></ul></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Kata is installed on all worker nodes by default. If you want to install <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code> only on specific nodes, you can add labels to those nodes, then define the label in the <code class="literal">KataConfig</code> CR when you create it.
					</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
						</li><li class="listitem">
							Select the OpenShift sandboxed containers Operator from the list of operators.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>KataConfig</strong></span> tab, click <span class="strong strong"><strong>Create KataConfig</strong></span>.
						</li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Create KataConfig</strong></span> page, enter the following details:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Name</strong></span>: Enter a name for the <code class="literal">KataConfig</code> resource. By default, the name is defined as <code class="literal">example-kataconfig</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Labels</strong></span> (Optional): Enter any relevant, identifying attributes to the <code class="literal">KataConfig</code> resource. Each label represents a key-value pair.
								</li><li class="listitem">
									<span class="strong strong"><strong><code class="literal">checkNodeEligibility</code></strong></span> (Optional, not relevant for peer pods): Select this checkbox to use the Node Feature Discovery Operator (NFD) to detect node eligibility to run <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code>. For more information, see "Checking whether cluster nodes are eligible to run OpenShift sandboxed containers".
								</li><li class="listitem">
									<span class="strong strong"><strong><code class="literal">enablePeerPods</code></strong></span> (For peer pods): Select this checkbox to enable peer pods and use OpenShift sandboxed containers in a public cloud environment.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong><code class="literal">kataConfigPoolSelector</code></strong></span>: By default, <code class="literal">kata</code> is installed as a <code class="literal">RuntimeClass</code> on all nodes. If you want to install <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code> only on selected nodes, you must add a <span class="strong strong"><strong>matchExpression</strong></span>:
								</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
											Expand the <span class="strong strong"><strong><code class="literal">kataConfigPoolSelector</code></strong></span> area.
										</li><li class="listitem">
											In the <span class="strong strong"><strong><code class="literal">kataConfigPoolSelector</code></strong></span>, expand <span class="strong strong"><strong>matchExpressions</strong></span>. This is a list of label selector requirements.
										</li><li class="listitem">
											Click <span class="strong strong"><strong>Add matchExpressions</strong></span>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>key</strong></span> field, add the label key the selector applies to.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>operator</strong></span> field, add the key’s relationship to the label values. Valid operators are <code class="literal">In</code>, <code class="literal">NotIn</code>, <code class="literal">Exists</code>, and <code class="literal">DoesNotExist</code>.
										</li><li class="listitem">
											Expand the <span class="strong strong"><strong>values</strong></span> area, and then click <span class="strong strong"><strong>Add value</strong></span>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Value</strong></span> field, enter <code class="literal">true</code> or <code class="literal">false</code> for <span class="strong strong"><strong>key</strong></span> label value.
										</li></ol></div></li><li class="listitem">
									<span class="strong strong"><strong><code class="literal">logLevel</code></strong></span>: Define the level of log data retrieved for nodes running <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code>. For more information, see "Collecting OpenShift sandboxed containers data".
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Create</strong></span>.
						</li></ol></div><p>
					The new <code class="literal">KataConfig</code> CR is created and begins to install <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code> on the worker nodes. Wait for the <code class="literal">kata</code> installation to complete and the worker nodes to reboot before continuing to the next step.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						OpenShift sandboxed containers installs <code class="literal">kata</code> only as a secondary, optional runtime on the cluster and not as the primary runtime.
					</p></div></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>KataConfig</strong></span> tab, select the new <code class="literal">KataConfig</code> CR.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>KataConfig</strong></span> page, select the <span class="strong strong"><strong>YAML</strong></span> tab.
						</li><li class="listitem"><p class="simpara">
							Monitor the <span class="strong strong"><strong>installationStatus</strong></span> field in the status.
						</p><p class="simpara">
							A message appears each time there is an update. Click <span class="strong strong"><strong>Reload</strong></span> to view the updated <code class="literal">KataConfig</code> CR.
						</p><p class="simpara">
							Once the value of <span class="strong strong"><strong>Completed nodes</strong></span> equals the number of worker or labeled nodes, the installation is complete. The status also contains a list of nodes where the installation is completed.
						</p></li></ol></div></section><section class="section" id="sandboxed-containers-deploying-workloads-with-kata-runtime-web_deploying-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">2.2.3. Deploying a workload in a sandboxed container using the web console</h3></div></div></div><p>
					OpenShift sandboxed containers installs Kata as a secondary, optional runtime on your cluster, and not as the primary runtime.
				</p><p>
					To deploy a pod-templated workload in a sandboxed container, you must manually add <code class="literal">kata</code> as the <code class="literal">runtimeClassName</code> to the workload YAML file.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li><li class="listitem">
							You have created a <code class="literal">KataConfig</code> custom resource (CR).
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, expand <span class="strong strong"><strong>Workloads</strong></span> and select the type of workload you want to create.
						</li><li class="listitem">
							In the workload page, click to create the workload.
						</li><li class="listitem"><p class="simpara">
							In the YAML file for the workload, in the <span class="strong strong"><strong>spec</strong></span> field where the container is listed, add <code class="literal">runtimeClassName: kata</code>.
						</p><div class="formalpara"><p class="title"><strong>Example for Pod object</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: example
abels:
  app: httpd
namespace: openshift-sandboxed-containers-operator
spec:
  runtimeClassName: kata
  containers:
    - name: httpd
      image: 'image-registry.openshift-image-registry.svc:5000/openshift/httpd:latest'
      ports: null
    - containerPort: 8080</pre>

							</p></div><div class="formalpara"><p class="title"><strong>Example for Deployment object</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: example
  namespace: openshift-sandboxed-containers-operator
spec:
  selector:
    matchLabels:
      app: httpd
  replicas: 3
  template:
    metadata:
      labels:
        app: httpd
    spec:
      runtimeClassName: kata
      containers:
        - name: httpd
          image: &gt;-
            image-registry.openshift-image-registry.svc:5000/openshift/httpd:latest
          ports:
            - containerPort: 8080</pre>

							</p></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span>.
						</li></ol></div><p>
					Red Hat OpenShift creates the workload and begins scheduling it.
				</p></section></section><section class="section" id="deploying-sandboxed-containers-workloads-cli"><div class="titlepage"><div><div><h2 class="title">2.3. Deploying OpenShift sandboxed containers workloads using the CLI</h2></div></div></div><p>
				You can deploy OpenShift sandboxed containers workloads using the CLI. First, you must install the OpenShift sandboxed containers Operator, then create the <code class="literal">KataConfig</code> custom resource. Once you are ready to deploy a workload in a sandboxed container, you must add <code class="literal">kata</code> as the <code class="literal">runtimeClassName</code> to the workload YAML file.
			</p><section class="section" id="sandboxed-containers-installing-operator-cli_deploying-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">2.3.1. Installing the OpenShift sandboxed containers Operator using the CLI</h3></div></div></div><p>
					You can install the OpenShift sandboxed containers Operator using the Red Hat OpenShift CLI.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem"><p class="simpara">
							You have subscribed to the OpenShift sandboxed containers catalog.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Subscribing to the OpenShift sandboxed containers catalog provides <code class="literal">openshift-sandboxed-containers-operator</code> namespace access to the OpenShift sandboxed containers Operator.
							</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">Namespace</code> object for the OpenShift sandboxed containers Operator.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create a <code class="literal">Namespace</code> object YAML file that contains the following manifest:
								</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Namespace
metadata:
  name: openshift-sandboxed-containers-operator</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">Namespace</code> object:
								</p><pre class="programlisting language-terminal">$ oc create -f Namespace.yaml</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">OperatorGroup</code> object for the OpenShift sandboxed containers Operator.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create an <code class="literal">OperatorGroup</code> object YAML file that contains the following manifest:
								</p><pre class="programlisting language-yaml">apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: openshift-sandboxed-containers-operator
  namespace: openshift-sandboxed-containers-operator
spec:
  targetNamespaces:
  - openshift-sandboxed-containers-operator</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">OperatorGroup</code> object:
								</p><pre class="programlisting language-terminal">$ oc create -f OperatorGroup.yaml</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">Subscription</code> object to subscribe the <code class="literal">Namespace</code> to the OpenShift sandboxed containers Operator.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create a <code class="literal">Subscription</code> object YAML file that contains the following manifest:
								</p><pre class="programlisting language-yaml">apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: openshift-sandboxed-containers-operator
  namespace: openshift-sandboxed-containers-operator
spec:
  channel: stable
  installPlanApproval: Automatic
  name: sandboxed-containers-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
  startingCSV: sandboxed-containers-operator.v1.4.0</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">Subscription</code> object:
								</p><pre class="programlisting language-terminal">$ oc create -f Subscription.yaml</pre></li></ol></div></li></ol></div><p>
					The OpenShift sandboxed containers Operator is now installed on your cluster.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						All the object file names listed above are suggestions. You can create the object YAML files using other names.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Ensure that the Operator is correctly installed:
						</p><pre class="programlisting language-terminal">$ oc get csv -n openshift-sandboxed-containers-operator</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                             DISPLAY                                  VERSION  REPLACES     PHASE
openshift-sandboxed-containers   openshift-sandboxed-containers-operator  1.4.0    1.3.3        Succeeded</pre>

							</p></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://docs.openshift.com/container-platform/latest/operators/admin/olm-adding-operators-to-cluster.html">Installing from OperatorHub using the CLI</a>
						</li></ul></div></section><section class="section" id="sandboxed-containers-create-kataconfig-rsource-cli_deploying-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">2.3.2. Creating the KataConfig custom resource using the CLI</h3></div></div></div><p>
					You must create one <code class="literal">KataConfig</code> custom resource (CR) to install <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code> on your nodes. Creating the <code class="literal">KataConfig</code> CR triggers the OpenShift sandboxed containers Operator to do the following:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Install the needed RHCOS extensions, such as QEMU and <code class="literal">kata-containers</code>, on your RHCOS node.
						</li><li class="listitem">
							Ensure that the <a class="link" href="https://github.com/cri-o/cri-o">CRI-O</a> runtime is configured with the correct runtime handlers.
						</li><li class="listitem">
							Create a <code class="literal">RuntimeClass</code> CR named <code class="literal">kata</code> with a default configuration. This enables users to configure workloads to use <code class="literal">kata</code> as the runtime by referencing the CR in the <code class="literal">RuntimeClassName</code> field. This CR also specifies the resource overhead for the runtime.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Kata is installed on all worker nodes by default. If you want to install <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code> only on specific nodes, you can add labels to those nodes, and then define the label in the <code class="literal">KataConfig</code> CR when you create it.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Creating the <code class="literal">KataConfig</code> CR automatically reboots the worker nodes. The reboot can take from 10 to more than 60 minutes. Factors that impede reboot time are as follows:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								A larger Red Hat OpenShift deployment with a greater number of worker nodes.
							</li><li class="listitem">
								Activation of the BIOS and Diagnostics utility.
							</li><li class="listitem">
								Deployment on a hard disk drive rather than an SSD.
							</li><li class="listitem">
								Deployment on physical nodes such as bare metal, rather than on virtual nodes.
							</li><li class="listitem">
								A slow CPU and network.
							</li></ul></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a YAML file with the following manifest:
						</p><pre class="programlisting language-yaml">apiVersion: kataconfiguration.openshift.io/v1
kind: KataConfig
metadata:
  name: cluster-kataconfig
spec:
  checkNodeEligibility: false <span id="CO1-1"><!--Empty--></span><span class="callout">1</span>
  logLevel: info</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO1-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Set`checkNodeEligibility` to <code class="literal">true</code> to detect node eligibility to run <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code>. For more information, see "Checking whether cluster nodes are eligible to run OpenShift sandboxed containers".
								</div></dd></dl></div></li><li class="listitem"><p class="simpara">
							(Optional) If you want to install <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code> only on selected nodes, create a YAML file that includes the label in the manifest:
						</p><pre class="programlisting language-yaml">apiVersion: kataconfiguration.openshift.io/v1
kind: KataConfig
metadata:
  name: cluster-kataconfig
spec:
  checkNodeEligibility: false
  logLevel: info
  kataConfigPoolSelector:
    matchLabels:
      &lt;label_key&gt;: '&lt;label_value&gt;' <span id="CO2-1"><!--Empty--></span><span class="callout">1</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO2-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Labels in <code class="literal">kataConfigPoolSelector</code> only support single values; <code class="literal">nodeSelector</code> syntax is not supported.
								</div></dd></dl></div></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">KataConfig</code> resource:
						</p><pre class="programlisting language-terminal">$ oc create -f cluster-kataconfig.yaml</pre></li></ol></div><p>
					The new <code class="literal">KataConfig</code> CR is created and begins to install <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code> on the worker nodes. Wait for the <code class="literal">kata</code> installation to complete and the worker nodes to reboot before continuing to the next step.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						OpenShift sandboxed containers installs <code class="literal">kata</code> only as a secondary, optional runtime on the cluster and not as the primary runtime.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Monitor the installation progress:
						</p><pre class="programlisting language-terminal">$ watch "oc describe kataconfig | sed -n /^Status:/,/^Events/p"</pre><p class="simpara">
							Once the value of <span class="strong strong"><strong>Is In Progress</strong></span> appears as <code class="literal">false</code>, the installation is complete.
						</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://docs.openshift.com/container-platform/latest/nodes/nodes/nodes-nodes-working.html#nodes-nodes-working-updating_nodes-nodes-working">Understanding how to update labels on nodes</a>
						</li></ul></div></section><section class="section" id="sandboxed-containers-deploying-workloads-with-kata-runtime-cli_deploying-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">2.3.3. Deploying a workload in a sandboxed container using the CLI</h3></div></div></div><p>
					OpenShift sandboxed containers installs Kata as a secondary, optional runtime on your cluster, and not as the primary runtime.
				</p><p>
					To deploy a pod-templated workload in a sandboxed container, you must add <code class="literal">kata</code> as the <code class="literal">runtimeClassName</code> to the workload YAML file.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li><li class="listitem">
							You have created a <code class="literal">KataConfig</code> custom resource (CR).
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Add <code class="literal">runtimeClassName: kata</code> to any pod-templated object:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<code class="literal">Pod</code> objects
								</li><li class="listitem">
									<code class="literal">ReplicaSet</code> objects
								</li><li class="listitem">
									<code class="literal">ReplicationController</code> objects
								</li><li class="listitem">
									<code class="literal">StatefulSet</code> objects
								</li><li class="listitem">
									<code class="literal">Deployment</code> objects
								</li><li class="listitem">
									<code class="literal">DeploymentConfig</code> objects
								</li></ul></div></li></ul></div><div class="formalpara"><p class="title"><strong>Example for Pod object</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: mypod
spec:
  runtimeClassName: kata</pre>

					</p></div><div class="formalpara"><p class="title"><strong>Example for Deployment object</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: mypod
  labels:
    app: mypod
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mypod
  template:
    metadata:
      labels:
        app: mypod
    spec:
      runtimeClassName: kata
      containers:
        - name: mypod
      image: myImage</pre>

					</p></div><p>
					Red Hat OpenShift creates the workload and begins scheduling it.
				</p><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Inspect the <code class="literal">runtimeClassName</code> field on a pod-templated object. If the <code class="literal">runtimeClassName</code> is <code class="literal">kata</code>, then the workload is running on OpenShift sandboxed containers.
						</li></ul></div></section></section><section class="section _additional-resources" id="deploying-sandboxed-containers-workloads_additional-resources"><div class="titlepage"><div><div><h2 class="title">2.4. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The OpenShift sandboxed containers Operator is supported in a restricted network environment. For more information, see <a class="link" href="https://docs.openshift.com/container-platform/latest/operators/admin/olm-restricted-networks.html">Using Operator Lifecycle Manager on restricted networks</a>.
					</li><li class="listitem">
						When using a disconnected cluster on a restricted network, you must <a class="link" href="https://docs.openshift.com/container-platform/latest/operators/admin/olm-configuring-proxy-support.html">configure proxy support in Operator Lifecycle Manager</a> to access the OperatorHub. Using a proxy allows the cluster to fetch the OpenShift sandboxed containers Operator.
					</li></ul></div></section></section><section class="chapter" id="deploying-sandboxed-container-workloads-peer-pods"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Deploying OpenShift sandboxed containers workloads using peer pods</h1></div></div></div><p>
			You can install the OpenShift sandboxed containers Operator using either the web console or OpenShift CLI (<code class="literal">oc</code>). Before installing the OpenShift sandboxed containers Operator, you must prepare your Red Hat OpenShift cluster.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				Deploying OpenShift sandboxed containers workloads using peer pods is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
			</p><p>
				For more information about the support scope of Red Hat Technology Preview features, see <a class="link" href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.
			</p></div></div><section class="section" id="sandboxed-containers-prerequisites-peer-pods_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h2 class="title">3.1. Prerequisites</h2></div></div></div><p>
				Before you install OpenShift sandboxed containers and enable peer pods, you must meet the following requirements:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Red Hat OpenShift 4.12 installed on AWS or Azure.
					</li><li class="listitem">
						You have installed the OpenShift CLI (<code class="literal">oc</code>).
					</li><li class="listitem">
						You have access to the cluster as a user with the cluster-admin role.
					</li></ul></div><section class="section" id="sandboxed-containers-peer-pods-resource-requirements_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.1.1. Resource requirements for peer-pods in OpenShift sandboxed containers</h3></div></div></div><p>
					A peer pod uses resources in two locations:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The Kubernetes worker node. The worker node stores metadata, Kata shim resources (<code class="literal">containerd-shim-kata-v2</code>), remote-hypervisor (<code class="literal">cloud-api-adaptor</code>) resources, and the tunnel setup between the worker nodes and the peer-pod VM.
						</li><li class="listitem">
							The cloud instance. This is the actual peer-pod VM running in the cloud.
						</li></ul></div><p>
					The CPU and memory resources used in the Kubernetes worker node are handled by the a <a class="link" href="https://kubernetes.io/docs/concepts/scheduling-eviction/pod-overhead/">pod overhead</a> included in the RuntimeClass (<code class="literal">kata-remote-cc</code>) definition used for creating peer pods.
				</p><p>
					The total capacity of the peer-pod VMs running in the cloud is defined as Kubernetes Node extended resources. This enables the Kubernetes scheduler to handle capacity tracking and accounting. The extended resource is named <code class="literal">kata.peerpods.io/vm</code>, and defines the maximum number of peer pods that you can create in the cluster.
				</p><p>
					A <a class="link" href="https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/">mutating webhook</a> adds the extended resource <code class="literal">kata.peerpods.io/vm</code> to the pod specification. It also removes any resource-specific entries from the pod specification, if present. This enables the Kubernetes scheduler to account for these extended resources, ensuring the peer-pod is only scheduled when resources are available.
				</p><p>
					The mutating webhook modifies a Kubernetes pod as follows:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The mutating webhook checks the pod for the expected <code class="literal">RuntimeClassName</code> value, specified in the <code class="literal">TARGET_RUNTIME_CLASS</code> environment variable. If the value in the pod specification does not match the value in the <code class="literal">TARGET_RUNTIME_CLASS</code>, the webhook exits without modifying the pod.
						</li><li class="listitem"><p class="simpara">
							If the <code class="literal">RuntimeClassName</code> values match, the webhook makes the following changes to the pod spec:
						</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									The webhook removes every resource specification from the <code class="literal">resources</code> field of all containers and init containers in the pod.
								</li><li class="listitem">
									The webhook adds the extended resource (<code class="literal">kata.peerpods.io/vm</code>) to the spec by modifying the resources field of the first container in the pod. The extended resource <code class="literal">kata.peerpods.io/vm</code> is used by the Kubernetes scheduler for accounting purposes.
								</li><li class="listitem">
									The webhook adds an annotation to the pod that specifies the instance type that is used when the VM is created in the cloud environment.
								</li></ol></div></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The mutating webhook excludes specific system namespaces in Red Hat OpenShift from mutation. If a peer-pod is created in those system namespaces, then resource accounting using Kubernetes extended resources does not work unless the pod spec includes the extended resource.
					</p><p>
						As a best practice, define a cluster-wide policy to only allow peer-pod creation in specific namespaces.
					</p></div></div></section><section class="section" id="sandboxed-containers-prerequisites-peer-pods-aws_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.1.2. Prerequisites for peer-pods using AWS</h3></div></div></div><p>
					If you are using AWS to create peer pods, you must ensure the following requirements:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Red Hat OpenShift cluster must be installed on AWS, with at least one worker node.
						</li><li class="listitem">
							You have access to <code class="literal">AWS_ACCESS_KEY_ID</code> and <code class="literal">AWS_SECRET_ACCESS_KEY</code> credentials. These are used to create additional cloud instances in the same virtual private cloud (VPC) of the cluster.
						</li><li class="listitem">
							You must have the AWS CLI tool installed and configured.
						</li><li class="listitem"><p class="simpara">
							You must enable internal cluster communication on ports 15150 and 9000.
						</p><p class="simpara">
							You can enable these ports in either the AWS web console or using the CLI.
						</p></li></ul></div><section class="section" id="enable-ports-aws_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.1.2.1. Enable ports 15150 and 9000 for AWS</h4></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Retrieve the Instance ID:
							</p><pre class="programlisting language-terminal">$ INSTANCE_ID=$(oc get nodes -l 'node-role.kubernetes.io/worker' -o jsonpath='{.items[0].spec.providerID}' | sed 's#[^ ]*/##g')</pre></li><li class="listitem"><p class="simpara">
								Retrieve the AWS region:
							</p><pre class="programlisting language-terminal">$ AWS_REGION=$(oc get infrastructure/cluster -o jsonpath='{.status.platformStatus.aws.region}')</pre></li><li class="listitem"><p class="simpara">
								Retrieve the security groups:
							</p><pre class="programlisting language-terminal">$ SG=$(aws ec2 describe-instances --instance-ids ${INSTANCE_ID} --query 'Reservations[*].Instances[*].SecurityGroups[*].GroupId' --output text --region ${AWS_REGION})</pre></li><li class="listitem"><p class="simpara">
								Authorize the peer-pods shim and to access kata-agent communication. Run the following command:
							</p><pre class="programlisting language-terminal">$ aws ec2 authorize-security-group-ingress --group-id ${SG} --protocol tcp --port 15150 --source-group ${SG} --region ${AWS_REGION}</pre></li><li class="listitem"><p class="simpara">
								Set up the peer-pods tunnel. Run the following command:
							</p><pre class="programlisting language-terminal">$ aws ec2 authorize-security-group-ingress --group-id ${SG} --protocol tcp --port 9000 --source-group ${SG} --region ${AWS_REGION}</pre></li></ol></div><p>
						The ports are now enabled.
					</p></section></section><section class="section" id="sandboxed-containers-prerequisites-peer-pods-azure_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.1.3. Prerequisites for peer-pods using Azure</h3></div></div></div><p>
					If you are using Microsoft Azure to create peer pods, you must ensure the following requirements:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Your Red Hat OpenShift cluster must be installed on Azure, with at least one worker node.
						</li><li class="listitem"><p class="simpara">
							You have access to the following credentials and subscription details:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<code class="literal">AZURE_SUBSCRIPTION_ID</code>
								</li><li class="listitem">
									<code class="literal">AZURE_CLIENT_ID</code>
								</li><li class="listitem">
									<code class="literal">AZURE_CLIENT_SECRET</code>
								</li><li class="listitem">
									<code class="literal">AZURE_TENANT_ID</code>
								</li></ul></div><p class="simpara">
							These are used to create additional cloud instances in the same virtual private cloud (VPC) of the cluster.
						</p></li><li class="listitem">
							You must have the Azure CLI tool installed and configured.
						</li><li class="listitem"><p class="simpara">
							You must enable cluster communication on ports 15150 and 9000.
						</p><p class="simpara">
							In Azure, internal communication is allowed on these ports. However, if communication is blocked, you can enable the ports in either the Azure web console or using the CLI.
						</p></li></ul></div><section class="section" id="enable-ports-azure_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.1.3.1. Enable ports 15150 and 9000 for Azure</h4></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Retrieve the Instance ID:
							</p><pre class="programlisting language-terminal">$ INSTANCE_ID=$(oc get nodes -l 'node-role.kubernetes.io/worker' -o jsonpath='{.items[0].spec.providerID}' | sed 's#[^ ]*/##g')</pre></li><li class="listitem"><p class="simpara">
								Retrieve the Azure resource group:
							</p><pre class="programlisting language-terminal">$ AZURE_RESOURCE_GROUP=$(oc get infrastructure/cluster -o jsonpath='{.status.platformStatus.azure.resourceGroupName}')</pre></li><li class="listitem"><p class="simpara">
								Retrieve the Azure network security group (NSG) name:
							</p><pre class="programlisting language-terminal">$ AZURE_NSG_NAME=$(az network nsg list --resource-group ${AZURE_RESOURCE_GROUP} --query "[].{Name:name}" --output tsv)</pre></li><li class="listitem"><p class="simpara">
								Retrieve the Azure VNet name:
							</p><pre class="programlisting language-terminal">$ AZURE_VNET_NAME=$(az network vnet list --resource-group ${AZURE_RESOURCE_GROUP} --query "[].{Name:name}" --output tsv)</pre></li><li class="listitem"><p class="simpara">
								Retrieve the Azure subnet name:
							</p><pre class="programlisting language-terminal">$ AZURE_SUBNET_NAME=$(az network vnet subnet list --resource-group ${AZURE_RESOURCE_GROUP} --vnet-name ${AZURE_VNET_NAME}  --query "[].{Name:name} | [? contains(Name, 'worker')]" --output tsv)</pre></li><li class="listitem"><p class="simpara">
								Retrieve the Azure subnet prefix:
							</p><pre class="programlisting language-terminal">$ AZURE_SUBNET_PREFIX=$(az network vnet subnet show --name ${AZURE_SUBNET_NAME} --vnet-name ${AZURE_VNET_NAME} --resource-group ${AZURE_RESOURCE_GROUP} --query "addressPrefix" --output tsv)</pre></li><li class="listitem"><p class="simpara">
								Authorize the peer-pods shim to access kata-agent communication. Run the following command:
							</p><pre class="programlisting language-terminal">$ az network nsg rule create \
  --resource-group $AZURE_RESOURCE_GROUP \
  --nsg-name $AZURE_NSG_NAME \
  --name Allow-Kata-Agent-Internal \
  --access Allow \
  --protocol Tcp \
  --direction Inbound \
  --priority 112 \
  --source-address-prefixes $AZURE_SUBNET_PREFIX \
  --source-port-range "*" \
  --destination-address-prefixes $AZURE_SUBNET_PREFIX  \
  --destination-port-range 15150</pre></li><li class="listitem"><p class="simpara">
								Set up the peer-pods tunnel. Run the following command:
							</p><pre class="programlisting language-terminal">$ az network nsg rule create \
  --resource-group $AZURE_RESOURCE_GROUP \
  --nsg-name $AZURE_NSG_NAME \
  --name Allow-VXLAN-Internal \
  --access Allow \
  --protocol Tcp \
  --direction Inbound \
  --priority 111 \
  --source-address-prefixes $AZURE_SUBNET_PREFIX \
  --source-port-range "*" \
  --destination-address-prefixes $AZURE_SUBNET_PREFIX  \
  --destination-port-range 9000</pre></li></ol></div><p>
						The ports are now enabled.
					</p></section></section></section><section class="section" id="deploying-sandboxed-containers-workloads-peer-pods-web-console"><div class="titlepage"><div><div><h2 class="title">3.2. Deploying OpenShift sandboxed containers workloads using peer pods with the web console</h2></div></div></div><p>
				You can deploy OpenShift sandboxed containers workloads from the web console. First, you must install the OpenShift sandboxed containers Operator, then create a secret object, the VM image, and a peer-pod ConfigMap. The secret object and ConfigMap are unique, depending on your cloud provider. Finally, you must create the <code class="literal">KataConfig</code> custom resource (CR). Once you are ready to deploy a workload in a sandboxed container, you must manually add <code class="literal">kata-remote-cc</code> as the <code class="literal">runtimeClassName</code> to the workload YAML file.
			</p><section class="section" id="sandboxed-containers-installing-operator-web-console_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.2.1. Installing the OpenShift sandboxed containers Operator using the web console</h3></div></div></div><p>
					You can install the OpenShift sandboxed containers Operator from the Red Hat OpenShift web console.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>OperatorHub</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Filter by keyword</strong></span> field, type <code class="literal">OpenShift sandboxed containers</code>.
						</li><li class="listitem">
							Select the <span class="strong strong"><strong>OpenShift sandboxed containers</strong></span> tile.
						</li><li class="listitem">
							Read the information about the Operator and click <span class="strong strong"><strong>Install</strong></span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Install Operator</strong></span> page:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Select <span class="strong strong"><strong>stable</strong></span> from the list of available <span class="strong strong"><strong>Update Channel</strong></span> options.
								</li><li class="listitem"><p class="simpara">
									Verify that <span class="strong strong"><strong>Operator recommended Namespace</strong></span> is selected for <span class="strong strong"><strong>Installed Namespace</strong></span>. This installs the Operator in the mandatory <code class="literal">openshift-sandboxed-containers-operator</code> namespace. If this namespace does not yet exist, it is automatically created.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Attempting to install the OpenShift sandboxed containers Operator in a namespace other than <code class="literal">openshift-sandboxed-containers-operator</code> causes the installation to fail.
									</p></div></div></li><li class="listitem">
									Verify that <span class="strong strong"><strong>Automatic</strong></span> is selected for <span class="strong strong"><strong>Approval Strategy</strong></span>. <span class="strong strong"><strong>Automatic</strong></span> is the default value, and enables automatic updates to OpenShift sandboxed containers when a new z-stream release is available.
								</li></ol></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Install</strong></span>.
						</li></ol></div><p>
					The OpenShift sandboxed containers Operator is now installed on your cluster.
				</p><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
						</li><li class="listitem">
							Verify that the OpenShift sandboxed containers Operator is listed in the in operators list.
						</li></ol></div></section><section class="section" id="sandboxed-containers-peer-pod-parameters-aws-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.2.2. Configuring peer-pod parameters for AWS using the web console</h3></div></div></div><p>
					You must create a secret object and a ConfigMap to deploy OpenShift sandboxed containers using peer pods on AWS.
				</p><p>
					After creating the secret object, you must still create the <code class="literal">KataConfig</code> custom resource (CR) to deploy OpenShift sandboxed containers using peer pods.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li></ul></div><section class="section" id="sandboxed-containers-create-secret-object-peer-pods-aws-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.2.2.1. Creating a secret object for AWS using the web console</h4></div></div></div><p>
						Set your AWS access keys and configure your network in a secret object. The secret object is used to create the pod VM image and used by peer pods.
					</p><p>
						When creating a secret object for AWS, you must set specific environment values. You can retrieve some of these values before creating the secret object. Retrieving these values must be done using the CLI. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index#sandboxed-containers-create-secret-object-peer-pods-aws-cli_deploying-sandboxed-containers-peer-pods">Creating a secret object for AWS using the CLI</a>.
					</p><p>
						In addition, in the AWS web console, you must locate and prepare the following values:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">AWS_ACCESS_KEY_ID</code>
							</li><li class="listitem">
								<code class="literal">AWS_SECRET_ACCESS_KEY</code>
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
							</li><li class="listitem">
								Select the OpenShift sandboxed containers Operator from the list of operators.
							</li><li class="listitem">
								Click the Import icon (<span class="strong strong"><strong>+</strong></span>) in the top right corner.
							</li><li class="listitem"><p class="simpara">
								In the <span class="strong strong"><strong>Import YAML</strong></span> window, paste the following YAML manifest:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: peer-pods-secret
  namespace: openshift-sandboxed-containers-operator
type: Opaque
stringData:
  AWS_ACCESS_KEY_ID: "&lt;enter value&gt;" <span id="CO3-1"><!--Empty--></span><span class="callout">1</span>
  AWS_SECRET_ACCESS_KEY: "&lt;enter value&gt;" <span id="CO3-2"><!--Empty--></span><span class="callout">2</span>
  AWS_REGION: "&lt;enter value&gt;" <span id="CO3-3"><!--Empty--></span><span class="callout">3</span>
  AWS_SUBNET_ID: "&lt;enter value&gt;" <span id="CO3-4"><!--Empty--></span><span class="callout">4</span>
  AWS_VPC_ID: "&lt;enter value&gt;" <span id="CO3-5"><!--Empty--></span><span class="callout">5</span>
  AWS_SG_IDS: "&lt;enter value&gt;" <span id="CO3-6"><!--Empty--></span><span class="callout">6</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO3-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_ACCESS_KEY_ID</code> value you prepared before you began.
									</div></dd><dt><a href="#CO3-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_SECRET_ACCESS_KEY</code> value you prepared before you began.
									</div></dd><dt><a href="#CO3-3"><span class="callout">3</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_REGION</code> value you retrieved.
									</div></dd><dt><a href="#CO3-4"><span class="callout">4</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_SUBNET_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO3-5"><span class="callout">5</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_VPC_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO3-6"><span class="callout">6</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_SG_IDS</code> value you retrieved.
									</div></dd></dl></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Create</strong></span>.
							</li></ol></div><p>
						The secret object is created. You can see it listed under <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>Secrets</strong></span>.
					</p></section><section class="section" id="sandboxed-containers-create-vm-image-aws-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.2.2.2. Creating an AWS VM image (AMI) using the web console</h4></div></div></div><p>
						To run OpenShift sandboxed containers using peer pods on AWS, you must first create a RHEL AMI using your AWS account and resources.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>Jobs</strong></span>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Jobs</strong></span> window, in the top left corner, verify that you are in the <span class="strong strong"><strong>openshift-sandboxed-containers-operator</strong></span> project.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Create Job</strong></span>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Create Job</strong></span> window, paste <a class="link" href="https://raw.githubusercontent.com/openshift/sandboxed-containers-operator/peer-pods-tech-preview/hack/aws-image-job.yaml">this complete YAML manifest</a>.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Create</strong></span>.
							</li></ol></div><p>
						The image is created.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							This image is not managed by OpenShift sandboxed containers. You can delete it if necessary using the AWS web console or AWS CLI tool.
						</p></div></div><p>
						Once the image is created, you must set the image using a peer-pod ConfigMap.
					</p></section><section class="section" id="sandboxed-containers-create-config-map-peer-pods-aws-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.2.2.3. Creating a peer-pod ConfigMap for AWS using the web console</h4></div></div></div><p>
						When creating a ConfigMap for AWS, you must set the AMI ID. You can retrieve this value before you create the ConfigMap. Retrieving this value must be done using the CLI. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index#sandboxed-containers-create-config-map-peer-pods-aws-cli_deploying-sandboxed-containers-peer-pods">Creating a peer-pod ConfigMap for AWS using the CLI</a>.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
							</li><li class="listitem">
								Select the OpenShift sandboxed containers Operator from the list of operators.
							</li><li class="listitem">
								Click the Import icon (<span class="strong strong"><strong>+</strong></span>) in the top right corner.
							</li><li class="listitem"><p class="simpara">
								In the <span class="strong strong"><strong>Import YAML</strong></span> window, paste the following YAML manifest:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: peer-pods-cm
  namespace: openshift-sandboxed-containers-operator
data:
  CLOUD_PROVIDER: "aws"
  VXLAN_PORT: "9000"
  PODVM_INSTANCE_TYPE: "t3.small"
  PROXY_TIMEOUT: "5m"
  PODVM_AMI_ID: "&lt;enter value&gt;" <span id="CO4-1"><!--Empty--></span><span class="callout">1</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO4-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">PODVM_AMI_ID</code> value you retrieved.
									</div></dd></dl></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Create</strong></span>.
							</li></ol></div><p>
						The ConfigMap object is created. You can see it listed under <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>ConfigMaps</strong></span>.
					</p><p>
						Once you create the <code class="literal">KataConfig</code> CR, you can run OpenShift sandboxed containers using peer pods on AWS.
					</p></section></section><section class="section" id="sandboxed-containers-peer-pod-parameters-azure-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.2.3. Configuring peer-pod parameters for Azure using the web console</h3></div></div></div><p>
					You must create a secret object and a ConfigMap in order to deploy OpenShift sandboxed containers using peer pods on Microsoft Azure.
				</p><p>
					After creating the secret object, you must still create the <code class="literal">KataConfig</code> custom resource (CR) to deploy OpenShift sandboxed containers using peer pods.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li></ul></div><section class="section" id="sandboxed-containers-create-secret-object-peer-pods-azure-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.2.3.1. Creating a secret object for Azure using the web console</h4></div></div></div><p>
						Set your Azure access keys and configure your network in a secret object. The secret object is used to create the pod VM image and used by peer pods.
					</p><p>
						When creating a secret object for Azure, you must set specific environment values. You can retrieve some of these values before creating the secret object. Retrieving these values must be done using the CLI. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index#sandboxed-containers-create-secret-object-peer-pods-azure-cli_deploying-sandboxed-containers-peer-pods">Creating a secret object for Azure using the CLI</a>.
					</p><p>
						In addition, in the Azure web console, you must locate and prepare the following values:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">AZURE_CLIENT_ID</code>
							</li><li class="listitem">
								<code class="literal">AZURE_CLIENT_SECRET</code>
							</li><li class="listitem">
								<code class="literal">AZURE_TENANT_ID</code>
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
							</li><li class="listitem">
								Select the OpenShift sandboxed containers Operator from the list of operators.
							</li><li class="listitem">
								Click the Import icon (<span class="strong strong"><strong>+</strong></span>) in the top right corner.
							</li><li class="listitem"><p class="simpara">
								In the <span class="strong strong"><strong>Import YAML</strong></span> window, paste the following YAML manifest:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: peer-pods-secret
  namespace: openshift-sandboxed-containers-operator
type: Opaque
stringData:
  AZURE_CLIENT_ID: "&lt;enter value&gt;" <span id="CO5-1"><!--Empty--></span><span class="callout">1</span>
  AZURE_CLIENT_SECRET: "&lt;enter value&gt;" <span id="CO5-2"><!--Empty--></span><span class="callout">2</span>
  AZURE_TENANT_ID: "&lt;enter value&gt;" <span id="CO5-3"><!--Empty--></span><span class="callout">3</span>
  AZURE_SUBSCRIPTION_ID: "&lt;enter value&gt;" <span id="CO5-4"><!--Empty--></span><span class="callout">4</span>
  AZURE_REGION: "&lt;enter value&gt;" <span id="CO5-5"><!--Empty--></span><span class="callout">5</span>
  AZURE_RESOURCE_GROUP: "&lt;enter value&gt;" <span id="CO5-6"><!--Empty--></span><span class="callout">6</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO5-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_CLIENT_ID</code> value you prepared before you began.
									</div></dd><dt><a href="#CO5-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_CLIENT_SECRET</code> value you prepared before you began.
									</div></dd><dt><a href="#CO5-3"><span class="callout">3</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_TENANT_ID</code> value you prepared before you began.
									</div></dd><dt><a href="#CO5-4"><span class="callout">4</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_SUBSCRIPTION_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO5-5"><span class="callout">5</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_REGION</code> value you retrieved.
									</div></dd><dt><a href="#CO5-6"><span class="callout">6</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_RESOURCE_GROUP</code> value you retrieved.
									</div></dd></dl></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Create</strong></span>.
							</li></ol></div><p>
						The secret object is created. You can see it listed under <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>Secrets</strong></span>.
					</p></section><section class="section" id="sandboxed-containers-create-vm-image-azure-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.2.3.2. Creating an Azure VM image using the web console</h4></div></div></div><p>
						To run OpenShift sandboxed containers using peer pods on Azure, you must first create a RHEL image for Azure using your Azure account and resources.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>Jobs</strong></span>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Jobs</strong></span> window, in the top left corner, verify that you are in the openshift-sandboxed-containers-operator project.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Create Job</strong></span>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Create Job</strong></span> window, paste <a class="link" href="https://raw.githubusercontent.com/openshift/sandboxed-containers-operator/peer-pods-tech-preview/hack/azure-image-job.yaml">this complete YAML manifest</a>.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Create</strong></span>.
							</li></ol></div><p>
						The image is created.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							This image is not managed by OpenShift sandboxed containers. You can delete it if necessary using the Azure web console or Azure CLI tool.
						</p></div></div><p>
						Once the image is created, you must set the image using a peer-pod ConfigMap.
					</p></section><section class="section" id="sandboxed-containers-create-config-map-peer-pods-azure-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.2.3.3. Creating a peer-pod ConfigMap for Azure using the web console</h4></div></div></div><p>
						When creating a ConfigMap for Azure, you must set specific configuration values. Retrieving these values must be done using the CLI. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_sandboxed_containers/1.4/html-single/openshift_sandboxed_containers_user_guide/index#sandboxed-containers-create-config-map-peer-pods-azure-cli_deploying-sandboxed-containers-peer-pods">Creating a peer-pod ConfigMap for Azure using the CLI</a>.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
							</li><li class="listitem">
								Select the OpenShift sandboxed containers Operator from the list of operators.
							</li><li class="listitem">
								Click the Import icon (<span class="strong strong"><strong>+</strong></span>) in the top right corner.
							</li><li class="listitem"><p class="simpara">
								In the <span class="strong strong"><strong>Import YAML</strong></span> window, paste the following YAML manifest:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: peer-pods-cm
  namespace: openshift-sandboxed-containers-operator
data:
  CLOUD_PROVIDER: "azure"
  VXLAN_PORT: "9000"
  AZURE_INSTANCE_SIZE: "Standard_D8as_v5"
  AZURE_SUBNET_ID: "&lt;enter value&gt;" <span id="CO6-1"><!--Empty--></span><span class="callout">1</span>
  AZURE_NSG_ID: "&lt;enter value&gt;" <span id="CO6-2"><!--Empty--></span><span class="callout">2</span>
  AZURE_IMAGE_ID: "&lt;enter value&gt;" <span id="CO6-3"><!--Empty--></span><span class="callout">3</span>
  PROXY_TIMEOUT: "5m"
  DISABLECVM: "true"</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO6-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_SUBNET_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO6-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_NSG_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO6-3"><span class="callout">3</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_IMAGE_ID</code> value you retrieved.
									</div></dd></dl></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Create</strong></span>.
							</li></ol></div><p>
						The ConfigMap object is created. You can see it listed under <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>ConfigMaps</strong></span>.
					</p></section><section class="section" id="sandboxed-containers-generate-shh-keys-peer-pods-azure-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.2.3.4. Creating an SSH key secret object for Azure using the web console</h4></div></div></div><p>
						You must create an SSH key secret object to use peer pods with Azure. If you do not already have an SSH key to create the object, you must generate one using the CLI. Fo more information, see
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>Secrets</strong></span>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Secrets</strong></span> window, in the top left corner, verify that you are in the <span class="strong strong"><strong>openshift-sandboxed-containers-operator</strong></span> project.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Create</strong></span> and select <span class="strong strong"><strong>Key/value secret</strong></span> from the list.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Secret name</strong></span> field, enter <code class="literal">ssh-key-secret</code>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Key</strong></span> field, enter <code class="literal">id_rsa.pub</code>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Value</strong></span> field, paste your public SSH key.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Create</strong></span>.
							</li></ol></div><p>
						The SSH key secret object is created. You can see it listed under <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>Secrets</strong></span>.
					</p><p>
						Once you create the <code class="literal">KataConfig</code> CR, you can run OpenShift sandboxed containers using peer pods on Azure.
					</p></section></section><section class="section" id="sandboxed-containers-create-kataconfig-resource-web-console_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.2.4. Creating the KataConfig custom resource in the web console</h3></div></div></div><p>
					You must create one <code class="literal">KataConfig</code> custom resource (CR) to enable installing <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code> on your cluster nodes.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Creating the <code class="literal">KataConfig</code> CR automatically reboots the worker nodes. The reboot can take from 10 to more than 60 minutes. Factors that impede reboot time are as follows:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								A larger Red Hat OpenShift deployment with a greater number of worker nodes.
							</li><li class="listitem">
								Activation of the BIOS and Diagnostics utility.
							</li><li class="listitem">
								Deployment on a hard disk drive rather than an SSD.
							</li><li class="listitem">
								Deployment on physical nodes such as bare metal, rather than on virtual nodes.
							</li><li class="listitem">
								A slow CPU and network.
							</li></ul></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Kata for peer pods is installed on all worker nodes by default. If you want to install <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code> only on specific nodes, you can add labels to those nodes, then define the label in the <code class="literal">KataConfig</code> CR when you create it.
					</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
						</li><li class="listitem">
							Select the OpenShift sandboxed containers Operator from the list of operators.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>KataConfig</strong></span> tab, click <span class="strong strong"><strong>Create KataConfig</strong></span>.
						</li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Create KataConfig</strong></span> page, enter the following details:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Name</strong></span>: Enter a name for the <code class="literal">KataConfig</code> resource. By default, the name is defined as <code class="literal">example-kataconfig</code>.
								</li><li class="listitem">
									<span class="strong strong"><strong>Labels</strong></span> (Optional): Enter any relevant, identifying attributes to the <code class="literal">KataConfig</code> resource. Each label represents a key-value pair.
								</li><li class="listitem">
									<span class="strong strong"><strong><code class="literal">checkNodeEligibility</code></strong></span> (Optional, not relevant for peer pods): Select this checkbox to use the Node Feature Discovery Operator (NFD) to detect node eligibility to run <code class="literal">kata</code> as a <code class="literal">RuntimeClass</code>. For more information, see "Checking whether cluster nodes are eligible to run OpenShift sandboxed containers".
								</li><li class="listitem">
									<span class="strong strong"><strong><code class="literal">enablePeerPods</code></strong></span> (For peer pods): Select this checkbox to enable peer pods and use OpenShift sandboxed containers in a public cloud environment.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong><code class="literal">kataConfigPoolSelector</code></strong></span>: By default, <code class="literal">kata-remote-cc</code> is installed as a <code class="literal">RuntimeClass</code> on all nodes. If you want to install <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code> only on selected nodes, you must add a <span class="strong strong"><strong>matchExpression</strong></span>:
								</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
											Expand the <span class="strong strong"><strong><code class="literal">kataConfigPoolSelector</code></strong></span> area.
										</li><li class="listitem">
											In the <span class="strong strong"><strong><code class="literal">kataConfigPoolSelector</code></strong></span>, expand <span class="strong strong"><strong>matchExpressions</strong></span>. This is a list of label selector requirements.
										</li><li class="listitem">
											Click <span class="strong strong"><strong>Add matchExpressions</strong></span>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>key</strong></span> field, add the label key the selector applies to.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>operator</strong></span> field, add the key’s relationship to the label values. Valid operators are <code class="literal">In</code>, <code class="literal">NotIn</code>, <code class="literal">Exists</code>, and <code class="literal">DoesNotExist</code>.
										</li><li class="listitem">
											Expand the <span class="strong strong"><strong>values</strong></span> area, and then click <span class="strong strong"><strong>Add value</strong></span>.
										</li><li class="listitem">
											In the <span class="strong strong"><strong>Value</strong></span> field, enter <code class="literal">true</code> or <code class="literal">false</code> for <span class="strong strong"><strong>key</strong></span> label value.
										</li></ol></div></li><li class="listitem">
									<span class="strong strong"><strong><code class="literal">logLevel</code></strong></span>: Define the level of log data retrieved for nodes running <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code>. For more information, see "Collecting OpenShift sandboxed containers data".
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Create</strong></span>.
						</li></ol></div><p>
					The new <code class="literal">KataConfig</code> CR is created and begins to install <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code> on the worker nodes. Wait for the installation to complete and the worker nodes to reboot before continuing to the next step.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						OpenShift sandboxed containers installs <code class="literal">kata-remote-cc</code> only as a secondary, optional runtime on the cluster and not as the primary runtime.
					</p></div></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>KataConfig</strong></span> tab, select the new <code class="literal">KataConfig</code> CR.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>KataConfig</strong></span> page, select the <span class="strong strong"><strong>YAML</strong></span> tab.
						</li><li class="listitem"><p class="simpara">
							Monitor the <span class="strong strong"><strong>installationStatus</strong></span> field in the status.
						</p><p class="simpara">
							A message appears each time there is an update. Click <span class="strong strong"><strong>Reload</strong></span> to view the updated <code class="literal">KataConfig</code> CR.
						</p><p class="simpara">
							Once the value of <span class="strong strong"><strong>Completed nodes</strong></span> equals the number of worker or labeled nodes, the installation is complete. The status also contains a list of nodes where the installation is completed.
						</p></li></ol></div></section><section class="section" id="sandboxed-containers-deploying-workloads-with-kata-runtime-web_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.2.5. Deploying a workload with peer pods in a sandboxed container using the web console</h3></div></div></div><p>
					OpenShift sandboxed containers installs Kata as a secondary, optional runtime on your cluster, and not as the primary runtime.
				</p><p>
					To deploy a pod-templated workload using peer pods in a sandboxed container, you must manually add <code class="literal">kata-remote-cc</code> as the <code class="literal">runtimeClassName</code> to the workload YAML file.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li><li class="listitem">
							You have created a secret object and peer-pod config map unique to your cloud provider.
						</li><li class="listitem">
							You have created a <code class="literal">KataConfig</code> custom resource (CR).
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, expand <span class="strong strong"><strong>Workloads</strong></span> and select the type of workload you want to create.
						</li><li class="listitem">
							In the workload page, click to create the workload.
						</li><li class="listitem"><p class="simpara">
							In the YAML file for the workload, in the <span class="strong strong"><strong>spec</strong></span> field where the container is listed, add <code class="literal">runtimeClassName: kata-remote-cc</code>.
						</p><div class="formalpara"><p class="title"><strong>Example for Pod object</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: example
abels:
  app: httpd
namespace: openshift-sandboxed-containers-operator
spec:
  runtimeClassName: kata-remote-cc
  containers:
    - name: httpd
      image: 'image-registry.openshift-image-registry.svc:5000/openshift/httpd:latest'
      ports: null
    - containerPort: 8080</pre>

							</p></div><div class="formalpara"><p class="title"><strong>Example for Deployment object</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: example
  namespace: openshift-sandboxed-containers-operator
spec:
  selector:
    matchLabels:
      app: httpd
  replicas: 3
  template:
    metadata:
      labels:
        app: httpd
    spec:
      runtimeClassName: kata-remote-cc
      containers:
        - name: httpd
          image: &gt;-
            image-registry.openshift-image-registry.svc:5000/openshift/httpd:latest
          ports:
            - containerPort: 8080</pre>

							</p></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span>.
						</li></ol></div><p>
					Red Hat OpenShift creates the workload and begins scheduling it.
				</p></section></section><section class="section" id="deploying-sandboxed-containers-workloads-peer-pods-cli"><div class="titlepage"><div><div><h2 class="title">3.3. Deploying OpenShift sandboxed containers workloads using peer pods with the CLI</h2></div></div></div><p>
				You can deploy OpenShift sandboxed containers workloads using the CLI. First, you must install the OpenShift sandboxed containers Operator, then create the <code class="literal">KataConfig</code> custom resource. Once you are ready to deploy a workload in a sandboxed container, you must add <code class="literal">kata-remote-cc</code> as the <code class="literal">runtimeClassName</code> to the workload YAML file.
			</p><section class="section" id="sandboxed-containers-installing-operator-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.3.1. Installing the OpenShift sandboxed containers Operator using the CLI</h3></div></div></div><p>
					You can install the OpenShift sandboxed containers Operator using the Red Hat OpenShift CLI.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem"><p class="simpara">
							You have subscribed to the OpenShift sandboxed containers catalog.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Subscribing to the OpenShift sandboxed containers catalog provides <code class="literal">openshift-sandboxed-containers-operator</code> namespace access to the OpenShift sandboxed containers Operator.
							</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">Namespace</code> object for the OpenShift sandboxed containers Operator.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create a <code class="literal">Namespace</code> object YAML file that contains the following manifest:
								</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Namespace
metadata:
  name: openshift-sandboxed-containers-operator</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">Namespace</code> object:
								</p><pre class="programlisting language-terminal">$ oc create -f Namespace.yaml</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">OperatorGroup</code> object for the OpenShift sandboxed containers Operator.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create an <code class="literal">OperatorGroup</code> object YAML file that contains the following manifest:
								</p><pre class="programlisting language-yaml">apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: openshift-sandboxed-containers-operator
  namespace: openshift-sandboxed-containers-operator
spec:
  targetNamespaces:
  - openshift-sandboxed-containers-operator</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">OperatorGroup</code> object:
								</p><pre class="programlisting language-terminal">$ oc create -f OperatorGroup.yaml</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">Subscription</code> object to subscribe the <code class="literal">Namespace</code> to the OpenShift sandboxed containers Operator.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create a <code class="literal">Subscription</code> object YAML file that contains the following manifest:
								</p><pre class="programlisting language-yaml">apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: openshift-sandboxed-containers-operator
  namespace: openshift-sandboxed-containers-operator
spec:
  channel: stable
  installPlanApproval: Automatic
  name: sandboxed-containers-operator
  source: redhat-operators
  sourceNamespace: openshift-marketplace
  startingCSV: sandboxed-containers-operator.v1.4.0</pre></li><li class="listitem"><p class="simpara">
									Create the <code class="literal">Subscription</code> object:
								</p><pre class="programlisting language-terminal">$ oc create -f Subscription.yaml</pre></li></ol></div></li></ol></div><p>
					The OpenShift sandboxed containers Operator is now installed on your cluster.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						All the object file names listed above are suggestions. You can create the object YAML files using other names.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Ensure that the Operator is correctly installed:
						</p><pre class="programlisting language-terminal">$ oc get csv -n openshift-sandboxed-containers-operator</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                             DISPLAY                                  VERSION  REPLACES     PHASE
openshift-sandboxed-containers   openshift-sandboxed-containers-operator  1.4.0    1.3.3        Succeeded</pre>

							</p></div></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://docs.openshift.com/container-platform/latest/operators/admin/olm-adding-operators-to-cluster.html">Installing from OperatorHub using the CLI</a>
						</li></ul></div></section><section class="section" id="sandboxed-containers-peer-pod-setup-aws-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.3.2. Setting up peer pods for AWS using the CLI</h3></div></div></div><p>
					To set up peer pods for use on AWS, you must create a secret object, an AWS image VM (AMI), and a peer-pod ConfigMap.
				</p><p>
					After setting up peer pods for AWS, you must still create the <code class="literal">KataConfig</code> custom resource (CR) to deploy OpenShift sandboxed containers using peer pods.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li></ul></div><section class="section" id="sandboxed-containers-create-secret-object-peer-pods-aws-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.3.2.1. Creating a secret object for AWS using the CLI</h4></div></div></div><p>
						Set your AWS access keys and configure your network in a secret object. The secret object is used to create the pod VM image and used by peer pods.
					</p><p>
						When creating a secret object for AWS, you must set specific environment values. You can retrieve some of these values before creating the secret object. However, you must have the following values prepared:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">AWS_ACCESS_KEY_ID</code>
							</li><li class="listitem">
								<code class="literal">AWS_SECRET_ACCESS_KEY</code>
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Collect the necessary parameter values for the secret object. Make sure to write down each value.
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Retrieve the instance ID:
									</p><pre class="programlisting language-terminal">$ INSTANCE_ID=$(oc get nodes -l 'node-role.kubernetes.io/worker' -o jsonpath='{.items[0].spec.providerID}' | sed 's#[^ ]*/##g')</pre><p class="simpara">
										This value is not needed for the secret object itself, but is used to retrieve other values for the secret object.
									</p></li><li class="listitem"><p class="simpara">
										Retrieve the AWS region:
									</p><pre class="programlisting language-terminal">$ AWS_REGION=$(oc get infrastructure/cluster -o jsonpath='{.status.platformStatus.aws.region}') &amp;&amp; echo "AWS_REGION: \"$AWS_REGION\""</pre></li><li class="listitem"><p class="simpara">
										Retrieve the AWS subnet ID:
									</p><pre class="programlisting language-terminal">$ AWS_SUBNET_ID=$(aws ec2 describe-instances --instance-ids ${INSTANCE_ID} --query 'Reservations[*].Instances[*].SubnetId' --region ${AWS_REGION} --output text) &amp;&amp; echo "AWS_SUBNET_ID: \"$AWS_SUBNET_ID\""</pre></li><li class="listitem"><p class="simpara">
										Retrieve the AWS VPC ID:
									</p><pre class="programlisting language-terminal">$ AWS_VPC_ID=$(aws ec2 describe-instances --instance-ids ${INSTANCE_ID} --query 'Reservations[*].Instances[*].VpcId' --region ${AWS_REGION} --output text) &amp;&amp; echo "AWS_VPC_ID: \"$AWS_VPC_ID\""</pre></li><li class="listitem"><p class="simpara">
										Retrieve the AWS security group IDs:
									</p><pre class="programlisting language-terminal">$ AWS_SG_IDS=$(aws ec2 describe-instances --instance-ids ${INSTANCE_ID} --query 'Reservations[*].Instances[*].SecurityGroups[*].GroupId' --region ${AWS_REGION} --output text)
&amp;&amp; echo "AWS_SG_IDS: \"$AWS_SG_IDS\""</pre></li></ol></div></li><li class="listitem"><p class="simpara">
								Create a YAML file with the following manifest:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: peer-pods-secret
  namespace: openshift-sandboxed-containers-operator
type: Opaque
stringData:
  AWS_ACCESS_KEY_ID: "&lt;enter value&gt;" <span id="CO7-1"><!--Empty--></span><span class="callout">1</span>
  AWS_SECRET_ACCESS_KEY: "&lt;enter value&gt;" <span id="CO7-2"><!--Empty--></span><span class="callout">2</span>
  AWS_REGION: "&lt;enter value&gt;" <span id="CO7-3"><!--Empty--></span><span class="callout">3</span>
  AWS_SUBNET_ID: "&lt;enter value&gt;" <span id="CO7-4"><!--Empty--></span><span class="callout">4</span>
  AWS_VPC_ID: "&lt;enter value&gt;" <span id="CO7-5"><!--Empty--></span><span class="callout">5</span>
  AWS_SG_IDS: "&lt;enter value&gt;" <span id="CO7-6"><!--Empty--></span><span class="callout">6</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO7-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_ACCESS_KEY_ID</code> value you prepared before you began.
									</div></dd><dt><a href="#CO7-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_SECRET_ACCESS_KEY</code> value you prepared before you began.
									</div></dd><dt><a href="#CO7-3"><span class="callout">3</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_REGION</code> value you retrieved.
									</div></dd><dt><a href="#CO7-4"><span class="callout">4</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_SUBNET_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO7-5"><span class="callout">5</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_VPC_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO7-6"><span class="callout">6</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AWS_SG_IDS</code> value you retrieved.
									</div></dd></dl></div></li><li class="listitem"><p class="simpara">
								Apply the secret object:
							</p><pre class="programlisting language-terminal">$ oc apply -f peer-pods-secret.yaml</pre></li></ol></div><p>
						The secret object is applied.
					</p></section><section class="section" id="sandboxed-containers-create-vm-image-aws-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.3.2.2. Creating an AWS VM image (AMI) using the CLI</h4></div></div></div><p>
						To run OpenShift sandboxed containers using peer pods on AWS, you must first create a RHEL AMI using your AWS account and resources.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Run the following K8s job to create the image:
							</p><pre class="programlisting language-terminal">$ oc apply -f https://raw.githubusercontent.com/openshift/sandboxed-containers-operator/peer-pods-tech-preview/hack/aws-image-job.yaml</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									This image is not managed by OpenShift sandboxed containers. You can delete it if necessary using the AWS web console or AWS CLI tool.
								</p></div></div></li><li class="listitem"><p class="simpara">
								Wait for the job to complete:
							</p><pre class="programlisting language-terminal">$ oc wait --for=condition=complete job.batch/aws-image-creation --timeout=7m -n openshift-sandboxed-containers-operator</pre></li></ol></div><p>
						Once the image is created, you must set the image using a peer-pod ConfigMap.
					</p></section><section class="section" id="sandboxed-containers-create-config-map-peer-pods-aws-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.3.2.3. Creating a peer-pod ConfigMap for AWS using the CLI</h4></div></div></div><p>
						When creating a ConfigMap for AWS, you must set the AMI ID. You can retrieve this value before you create the ConfigMap.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Retrieve the AMI ID. Make sure to save the value for later.
							</p><pre class="programlisting language-terminal">$ PODVM_AMI_ID=$(aws ec2 describe-images --query "Images[*].[ImageId]" --filters "Name=name,Values=peer-pod-ami" --region ${AWS_REGION} --output text) &amp;&amp; echo "PODVM_AMI_ID: \"$PODVM_AMI_ID\""</pre></li><li class="listitem"><p class="simpara">
								Create a YAML file with the following manifest:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: peer-pods-cm
  namespace: openshift-sandboxed-containers-operator
data:
  CLOUD_PROVIDER: "aws"
  VXLAN_PORT: "9000"
  PODVM_INSTANCE_TYPE: "t3.small"
  PROXY_TIMEOUT: "5m"
  PODVM_AMI_ID: "&lt;enter value&gt;" <span id="CO8-1"><!--Empty--></span><span class="callout">1</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO8-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										Enter the AMI ID value you retrieved.
									</div></dd></dl></div></li><li class="listitem"><p class="simpara">
								Deploy the ConfigMap:
							</p><pre class="programlisting language-terminal">$ oc apply -f peer-pods-cm.yaml</pre></li></ol></div><p>
						The ConfigMap is deployed. Once you create the <code class="literal">KataConfig</code> CR, you can run OpenShift sandboxed containers using peer pods on AWS.
					</p></section></section><section class="section" id="sandboxed-containers-peer-pod-setup-azure-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.3.3. Setting up peer pods for Azure using the CLI</h3></div></div></div><p>
					To set up peer pods for use on Microsoft Azure, you must create a secret object, an Azure image VM, a peer-pod ConfigMap, and an SSH key secret object.
				</p><p>
					After setting up peer pods for Azure, you must still create the <code class="literal">KataConfig</code> custom resource (CR) to deploy OpenShift sandboxed containers using peer pods.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li></ul></div><section class="section" id="sandboxed-containers-create-secret-object-peer-pods-azure-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.3.3.1. Creating a secret object for Azure using the CLI</h4></div></div></div><p>
						Set your Azure access keys and configure your network in a secret object. The secret object is used to create the pod VM image and used by peer pods.
					</p><p>
						When creating a secret object for Azure, you must set specific environment values. You can retrieve some of these values before creating the secret object. However, you must have the following values prepared:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">AZURE_CLIENT_ID</code>
							</li><li class="listitem">
								<code class="literal">AZURE_CLIENT_SECRET</code>
							</li><li class="listitem">
								<code class="literal">AZURE_TENANT_ID</code>
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Collect additional parameter values for the secret object. Make sure to write down each value.
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Retrieve the subscription ID:
									</p><pre class="programlisting language-terminal">$ AZURE_SUBSCRIPTION_ID=$(az account list --query "[?isDefault].id" -o tsv) &amp;&amp; echo "AZURE_SUBSCRIPTION_ID: \"$AZURE_SUBSCRIPTION_ID\""</pre></li><li class="listitem"><p class="simpara">
										Retrieve the resource group:
									</p><pre class="programlisting language-terminal">$ AZURE_RESOURCE_GROUP=$(oc get infrastructure/cluster -o jsonpath='{.status.platformStatus.azure.resourceGroupName}') &amp;&amp; echo "AZURE_RESOURCE_GROUP: \"$AZURE_RESOURCE_GROUP\""</pre></li><li class="listitem"><p class="simpara">
										Retrieve the Azure region:
									</p><pre class="programlisting language-terminal">$ AZURE_REGION=$(az group show --resource-group ${AZURE_RESOURCE_GROUP} --query "{Location:location}" --output tsv) &amp;&amp; echo "AZURE_REGION: \"$AZURE_REGION\""</pre></li></ol></div></li><li class="listitem"><p class="simpara">
								Create a YAML file with the following manifest:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: peer-pods-secret
  namespace: openshift-sandboxed-containers-operator
type: Opaque
stringData:
  AZURE_CLIENT_ID: "&lt;enter value&gt;" <span id="CO9-1"><!--Empty--></span><span class="callout">1</span>
  AZURE_CLIENT_SECRET: "&lt;enter value&gt;" <span id="CO9-2"><!--Empty--></span><span class="callout">2</span>
  AZURE_TENANT_ID: "&lt;enter value&gt;" <span id="CO9-3"><!--Empty--></span><span class="callout">3</span>
  AZURE_SUBSCRIPTION_ID: "&lt;enter value&gt;" <span id="CO9-4"><!--Empty--></span><span class="callout">4</span>
  AZURE_REGION: "&lt;enter value&gt;" <span id="CO9-5"><!--Empty--></span><span class="callout">5</span>
  AZURE_RESOURCE_GROUP: "&lt;enter value&gt;" <span id="CO9-6"><!--Empty--></span><span class="callout">6</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO9-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_CLIENT_ID</code> value you prepared before you began.
									</div></dd><dt><a href="#CO9-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_CLIENT_SECRET</code> value you prepared before you began.
									</div></dd><dt><a href="#CO9-3"><span class="callout">3</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_TENANT_ID</code> value you prepared before you began.
									</div></dd><dt><a href="#CO9-4"><span class="callout">4</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_SUBSCRIPTION_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO9-5"><span class="callout">5</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_REGION</code> value you retrieved.
									</div></dd><dt><a href="#CO9-6"><span class="callout">6</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_RESOURCE_GROUP</code> value you retrieved.
									</div></dd></dl></div></li><li class="listitem"><p class="simpara">
								Apply the secret object:
							</p><pre class="programlisting language-terminal">$ oc apply -f peer-pods-secret.yaml</pre></li></ol></div><p>
						The secret object is applied.
					</p></section><section class="section" id="sandboxed-containers-create-vm-image-azure-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.3.3.2. Creating an Azure VM image using the CLI</h4></div></div></div><p>
						To run OpenShift sandboxed containers using peer pods on Azure, you must first create a RHEL image for Azure using your Azure account and resources.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Run the following K8s job to create the image:
							</p><pre class="programlisting language-terminal">$ oc apply -f https://raw.githubusercontent.com/openshift/sandboxed-containers-operator/peer-pods-tech-preview/hack/azure-image-job.yaml</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									This image is not managed by OpenShift sandboxed containers. You can delete it if necessary using the Azure web console or Azure CLI tool.
								</p></div></div></li><li class="listitem"><p class="simpara">
								Wait for the job to complete:
							</p><pre class="programlisting language-terminal">$ oc wait --for=condition=complete job.batch/azure-image-creation --timeout=7m -n openshift-sandboxed-containers-operator</pre></li></ol></div><p>
						Once the image is created, you must set the image using a peer-pod ConfigMap.
					</p></section><section class="section" id="sandboxed-containers-create-config-map-peer-pods-azure-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.3.3.3. Creating a peer-pod ConfigMap for Azure using the CLI</h4></div></div></div><p>
						When creating a ConfigMap for Azure, you must set specific configuration values. You can retrieve these values before you create the ConfigMap.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Collect the configuration values for the Azure peer-pod ConfigMap. Make sure to write down each value.
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Retrieve the Azure image ID:
									</p><pre class="programlisting language-terminal">$ AZURE_IMAGE_ID=$(az image list --resource-group ${AZURE_RESOURCE_GROUP} --query "[].{Id: id} | [? contains(Id, 'peer-pod-vmimage')]" --output tsv) &amp;&amp; echo "AZURE_IMAGE_ID: \"$AZURE_IMAGE_ID\""</pre></li><li class="listitem"><p class="simpara">
										Retrieve the Azure VNet name:
									</p><pre class="programlisting language-terminal">$ AZURE_VNET_NAME=$(az network vnet list --resource-group ${AZURE_RESOURCE_GROUP} --query "[].{Name:name}" --output tsv)</pre><p class="simpara">
										This value is not needed for the ConfigMap, but is used to retrieve the Azure subnet ID.
									</p></li><li class="listitem"><p class="simpara">
										Retrieve the Azure subnet ID:
									</p><pre class="programlisting language-terminal">$ AZURE_SUBNET_ID=$(az network vnet subnet list --resource-group ${AZURE_RESOURCE_GROUP} --vnet-name $AZURE_VNET_NAME --query "[].{Id:id} | [? contains(Id, 'worker')]" --output tsv) &amp;&amp; echo "AZURE_SUBNET_ID: \"$AZURE_SUBNET_ID\""</pre></li><li class="listitem"><p class="simpara">
										Retrieve the Azure network security group (NSG) ID:
									</p><pre class="programlisting language-terminal">$ AZURE_NSG_ID=$(az network nsg list --resource-group ${AZURE_RESOURCE_GROUP} --query "[].{Id:id}" --output tsv) &amp;&amp; echo "AZURE_NSG_ID: \"$AZURE_NSG_ID\""</pre></li></ol></div></li><li class="listitem"><p class="simpara">
								Create a YAML file with the following manifest:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: peer-pods-cm
  namespace: openshift-sandboxed-containers-operator
data:
  CLOUD_PROVIDER: "azure"
  VXLAN_PORT: "9000"
  AZURE_INSTANCE_SIZE: "Standard_D8as_v5"
  AZURE_SUBNET_ID: "&lt;enter value&gt;" <span id="CO10-1"><!--Empty--></span><span class="callout">1</span>
  AZURE_NSG_ID: "&lt;enter value&gt;" <span id="CO10-2"><!--Empty--></span><span class="callout">2</span>
  AZURE_IMAGE_ID: "&lt;enter value&gt;" <span id="CO10-3"><!--Empty--></span><span class="callout">3</span>
  PROXY_TIMEOUT: "5m"
  DISABLECVM: "true"</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO10-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_SUBNET_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO10-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_NSG_ID</code> value you retrieved.
									</div></dd><dt><a href="#CO10-3"><span class="callout">3</span></a> </dt><dd><div class="para">
										Enter the <code class="literal">AZURE_IMAGE_ID</code> value you retrieved.
									</div></dd></dl></div></li><li class="listitem"><p class="simpara">
								Deploy the ConfigMap:
							</p><pre class="programlisting language-terminal">$ oc apply -f peer-pods-cm.yaml</pre></li></ol></div><p>
						The ConfigMap is deployed.
					</p></section><section class="section" id="sandboxed-containers-generate-shh-keys-peer-pods-azure-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h4 class="title">3.3.3.4. Creating an SSH key secret object for Azure using the CLI</h4></div></div></div><p>
						You must generate an SSH key and create an SSH key secret object to use peer pods with Azure.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Generate the SSH key:
							</p><pre class="programlisting language-terminal">$ ssh-keygen -f ./id_rsa -N ""</pre></li><li class="listitem"><p class="simpara">
								Create the SHH secret object:
							</p><pre class="programlisting language-terminal">$ oc create secret generic ssh-key-secret -n openshift-sandboxed-containers-operator --from-file=id_rsa.pub=./id_rsa.pub --from-file=id_rsa=./id_rsa</pre></li></ol></div><p>
						The SSH key is created and the SSH key secret object is created. Once you create the <code class="literal">KataConfig</code> CR, you can run OpenShift sandboxed containers using peer pods on Azure.
					</p></section></section><section class="section" id="sandboxed-containers-create-kataconfig-rsource-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.3.4. Creating the KataConfig custom resource using the CLI</h3></div></div></div><p>
					You must create one <code class="literal">KataConfig</code> custom resource (CR) to install <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code> on your nodes. Creating the <code class="literal">KataConfig</code> CR triggers the OpenShift sandboxed containers Operator to do the following:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Install the needed RHCOS extensions, such as QEMU and <code class="literal">kata-containers</code>, on your RHCOS node.
						</li><li class="listitem">
							Ensure that the <a class="link" href="https://github.com/cri-o/cri-o">CRI-O</a> runtime is configured with the correct runtime handlers.
						</li><li class="listitem">
							Create a <code class="literal">RuntimeClass</code> CR named <code class="literal">kata-remote-cc</code> with a default configuration. This enables users to configure workloads to use <code class="literal">kata-remote-cc</code> as the runtime by referencing the CR in the <code class="literal">RuntimeClassName</code> field. This CR also specifies the resource overhead for the runtime.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Kata for peer pods is installed on all worker nodes by default. If you want to install <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code> only on specific nodes, you can add labels to those nodes, and then define the label in the <code class="literal">KataConfig</code> CR when you create it.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Creating the <code class="literal">KataConfig</code> CR automatically reboots the worker nodes. The reboot can take from 10 to more than 60 minutes. Factors that impede reboot time are as follows:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								A larger Red Hat OpenShift deployment with a greater number of worker nodes.
							</li><li class="listitem">
								Activation of the BIOS and Diagnostics utility.
							</li><li class="listitem">
								Deployment on a hard disk drive rather than an SSD.
							</li><li class="listitem">
								Deployment on physical nodes such as bare metal, rather than on virtual nodes.
							</li><li class="listitem">
								A slow CPU and network.
							</li></ul></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a YAML file with the following manifest:
						</p><pre class="programlisting language-yaml">apiVersion: kataconfiguration.openshift.io/v1
kind: KataConfig
metadata:
  name: cluster-kataconfig
spec:
  enablePeerPods: true
  logLevel: info</pre></li><li class="listitem"><p class="simpara">
							(Optional) If you want to install <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code> only on selected nodes, create a YAML file that includes the label in the manifest:
						</p><pre class="programlisting language-yaml">apiVersion: kataconfiguration.openshift.io/v1
kind: KataConfig
metadata:
  name: cluster-kataconfig
spec:
  enablePeerPods: true
  logLevel: info
  kataConfigPoolSelector:
    matchLabels:
      &lt;label_key&gt;: '&lt;label_value&gt;' <span id="CO11-1"><!--Empty--></span><span class="callout">1</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO11-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Labels in <code class="literal">kataConfigPoolSelector</code> only support single values; <code class="literal">nodeSelector</code> syntax is not supported.
								</div></dd></dl></div></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">KataConfig</code> resource:
						</p><pre class="programlisting language-terminal">$ oc create -f cluster-kataconfig.yaml</pre></li></ol></div><p>
					The new <code class="literal">KataConfig</code> CR is created and begins to install <code class="literal">kata-remote-cc</code> as a <code class="literal">RuntimeClass</code> on the worker nodes. Wait for the <code class="literal">kata-remote-cc</code> installation to complete and the worker nodes to reboot before continuing to the next step.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						OpenShift sandboxed containers installs <code class="literal">kata-remote-cc</code> only as a secondary, optional runtime on the cluster and not as the primary runtime.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Monitor the installation progress:
						</p><pre class="programlisting language-terminal">$ watch "oc describe kataconfig | sed -n /^Status:/,/^Events/p"</pre><p class="simpara">
							Once the value of <span class="strong strong"><strong>Is In Progress</strong></span> appears as <code class="literal">false</code>, the installation is complete.
						</p></li></ul></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://docs.openshift.com/container-platform/latest/nodes/nodes/nodes-nodes-working.html#nodes-nodes-working-updating_nodes-nodes-working">Understanding how to update labels on nodes</a>
						</li></ul></div></section><section class="section" id="sandboxed-containers-deploying-workloads-with-kata-runtime-cli_deploying-sandboxed-containers-peer-pods"><div class="titlepage"><div><div><h3 class="title">3.3.5. Deploying a workload with peer pods in a sandboxed container using the CLI</h3></div></div></div><p>
					OpenShift sandboxed containers installs Kata as a secondary, optional runtime on your cluster, and not as the primary runtime.
				</p><p>
					To deploy a pod-templated workload using peer pods in a sandboxed container, you must add <code class="literal">kata-remote-cc</code> as the <code class="literal">runtimeClassName</code> to the workload YAML file.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed Red Hat OpenShift 4.12 on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have installed the OpenShift sandboxed containers Operator.
						</li><li class="listitem">
							You have created a secret object and peer-pod config map unique to your cloud provider.
						</li><li class="listitem">
							You have created a <code class="literal">KataConfig</code> custom resource (CR).
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Add <code class="literal">runtimeClassName: kata-remote-cc</code> to any pod-templated object:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									<code class="literal">Pod</code> objects
								</li><li class="listitem">
									<code class="literal">ReplicaSet</code> objects
								</li><li class="listitem">
									<code class="literal">ReplicationController</code> objects
								</li><li class="listitem">
									<code class="literal">StatefulSet</code> objects
								</li><li class="listitem">
									<code class="literal">Deployment</code> objects
								</li><li class="listitem">
									<code class="literal">DeploymentConfig</code> objects
								</li></ul></div></li></ul></div><div class="formalpara"><p class="title"><strong>Example for Pod object</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: mypod
spec:
  runtimeClassName: kata-remote-cc</pre>

					</p></div><div class="formalpara"><p class="title"><strong>Example for Deployment object</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: mypod
  labels:
    app: mypod
spec:
  replicas: 3
  selector:
    matchLabels:
      app: mypod
  template:
    metadata:
      labels:
        app: mypod
    spec:
      runtimeClassName: kata-remote-cc
      containers:
        - name: mypod
      image: myImage</pre>

					</p></div><p>
					Red Hat OpenShift creates the workload and begins scheduling it.
				</p><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Inspect the <code class="literal">runtimeClassName</code> field on a pod-templated object. If the <code class="literal">runtimeClassName</code> is <code class="literal">kata-remote-cc</code>, then the workload is running on OpenShift sandboxed containers, using peer pods.
						</li></ul></div></section></section><section class="section _additional-resources" id="deploying-sandboxed-containers-workloads-peer-pods_additional-resources"><div class="titlepage"><div><div><h2 class="title">3.4. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The OpenShift sandboxed containers Operator is supported in a restricted network environment. For more information, see <a class="link" href="https://docs.openshift.com/container-platform/latest/operators/admin/olm-restricted-networks.html">Using Operator Lifecycle Manager on restricted networks</a>.
					</li><li class="listitem">
						When using a disconnected cluster on a restricted network, you must <a class="link" href="https://docs.openshift.com/container-platform/latest/operators/admin/olm-configuring-proxy-support.html">configure proxy support in Operator Lifecycle Manager</a> to access the OperatorHub. Using a proxy allows the cluster to fetch the OpenShift sandboxed containers Operator.
					</li></ul></div></section></section><section class="chapter" id="monitoring-sandboxed-containers"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Monitoring OpenShift sandboxed containers</h1></div></div></div><p class="_abstract _abstract">
			You can use the Red Hat OpenShift web console to monitor metrics related to the health status of your sandboxed workloads and nodes.
		</p><p>
			OpenShift sandboxed containers has a pre-configured dashboard available in the web console, and administrators can also access and query raw metrics through Prometheus.
		</p><section class="section" id="sandboxed-containers-metrics-list_monitoring-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">4.1. About OpenShift sandboxed containers metrics</h2></div></div></div><p>
				OpenShift sandboxed containers metrics enable administrators to monitor how their sandboxed containers are running. You can query for these metrics in Metrics UI in the web console.
			</p><p>
				OpenShift sandboxed containers metrics are collected for the following categories:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Kata agent metrics</span></dt><dd>
							Kata agent metrics display information about the kata agent process running in the VM embedded in your sandboxed containers. These metrics include data from <code class="literal">/proc/&lt;pid&gt;/[io, stat, status]</code>.
						</dd><dt><span class="term">Kata guest OS metrics</span></dt><dd>
							Kata guest OS metrics display data from the guest OS running in your sandboxed containers. These metrics include data from <code class="literal">/proc/[stats, diskstats, meminfo, vmstats]</code> and <code class="literal">/proc/net/dev</code>.
						</dd><dt><span class="term">Hypervisor metrics</span></dt><dd>
							Hypervisor metrics display data regarding the hypervisor running the VM embedded in your sandboxed containers. These metrics mainly include data from <code class="literal">/proc/&lt;pid&gt;/[io, stat, status]</code>.
						</dd><dt><span class="term">Kata monitor metrics</span></dt><dd>
							Kata monitor is the process that gathers metric data and makes it available to Prometheus. The kata monitor metrics display detailed information about the resource usage of the kata-monitor process itself. These metrics also include counters from Prometheus data collection.
						</dd><dt><span class="term">Kata containerd shim v2 metrics</span></dt><dd>
							Kata containerd shim v2 metrics display detailed information about the kata shim process. These metrics include data from <code class="literal">/proc/&lt;pid&gt;/[io, stat, status]</code> and detailed resource usage metrics.
						</dd></dl></div></section><section class="section" id="sandboxed-containers-querying-metrics_monitoring-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">4.2. Viewing metrics for OpenShift sandboxed containers</h2></div></div></div><p>
				You can access the metrics for OpenShift sandboxed containers in the <span class="strong strong"><strong>Metrics</strong></span> page in the web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Red Hat OpenShift 4.12 installed.
					</li><li class="listitem">
						You have OpenShift sandboxed containers installed.
					</li><li class="listitem">
						You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role or with view permissions for all projects.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Observe</strong></span> → <span class="strong strong"><strong>Metrics</strong></span>.
					</li><li class="listitem"><p class="simpara">
						In the input field, enter the query for the metric you want to observe.
					</p><p class="simpara">
						All kata-related metrics begin with <span class="strong strong"><strong>kata</strong></span>. Typing <span class="strong strong"><strong>kata</strong></span> will display a list with all of the available kata metrics.
					</p></li></ol></div><p>
				The metrics from your query are visualized on the page.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						For more information about creating PromQL queries to view metrics, see <a class="link" href="https://docs.openshift.com/container-platform/latest/monitoring/querying-metrics.html">Querying metrics</a>.
					</li></ul></div></section><section class="section" id="sandboxed-containers-dashboard_monitoring-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">4.3. Viewing the OpenShift sandboxed containers dashboard</h2></div></div></div><p>
				You can access the OpenShift sandboxed containers dashboard in the <span class="strong strong"><strong>Dashboards</strong></span> page in the web console.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have Red Hat OpenShift 4.12 installed.
					</li><li class="listitem">
						You have OpenShift sandboxed containers installed.
					</li><li class="listitem">
						You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role or with view permissions for all projects.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						From the <span class="strong strong"><strong>Administrator</strong></span> perspective in the web console, navigate to <span class="strong strong"><strong>Observe</strong></span> → <span class="strong strong"><strong>Dashboards</strong></span>.
					</li><li class="listitem">
						From the <span class="strong strong"><strong>Dashboard</strong></span> drop-down list, select the <span class="strong strong"><strong>Sandboxed Containers</strong></span> dashboard.
					</li><li class="listitem"><p class="simpara">
						Optional: Select a time range for the graphs in the <span class="strong strong"><strong>Time Range</strong></span> list.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Select a pre-defined time period.
							</li><li class="listitem"><p class="simpara">
								Set a custom time range by selecting <span class="strong strong"><strong>Custom time range</strong></span> in the <span class="strong strong"><strong>Time Range</strong></span> list.
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
										Define the date and time range for the data you want to view.
									</li><li class="listitem">
										Click <span class="strong strong"><strong>Save</strong></span> to save the custom time range.
									</li></ol></div></li></ul></div></li><li class="listitem">
						Optional: Select a <span class="strong strong"><strong>Refresh Interval</strong></span>.
					</li></ol></div><p>
				The dashboard appears on the page with the following metrics from the Kata guest OS category:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Number of running VMs</span></dt><dd>
							Displays the total number of sandboxed containers running on your cluster.
						</dd><dt><span class="term">CPU Usage (per VM)</span></dt><dd>
							Displays the CPU usage for each individual sandboxed container.
						</dd><dt><span class="term">Memory Usage (per VM)</span></dt><dd>
							Displays the memory usage for each individual sandboxed container.
						</dd></dl></div><p>
				Hover over each of the graphs within a dashboard to display detailed information about specific items.
			</p></section><section class="section _additional-resources" id="monitoring-sandboxed-containers_additional-resources"><div class="titlepage"><div><div><h2 class="title">4.4. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about gathering data for support, see <a class="link" href="https://docs.openshift.com/container-platform/latest/support/gathering-cluster-data.html">Gathering data about your cluster</a>.
					</li></ul></div></section></section><section class="chapter" id="uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Uninstalling OpenShift sandboxed containers</h1></div></div></div><p>
			You can uninstall OpenShift sandboxed containers by using either the Red Hat OpenShift web console or OpenShift CLI (<code class="literal">oc</code>). Both procedures are explained below.
		</p><section class="section" id="uninstalling_openshift_sandboxed_containers_using_the_web_console"><div class="titlepage"><div><div><h2 class="title">5.1. Uninstalling OpenShift sandboxed containers using the web console</h2></div></div></div><p>
				Use the Red Hat OpenShift web console to delete the relevant OpenShift sandboxed containers pods, resources, and namespace.
			</p><section class="section" id="sandboxed-containers-deleting-pods-web-console_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.1.1. Deleting OpenShift sandboxed containers pods using the web console</h3></div></div></div><p>
					To uninstall OpenShift sandboxed containers, you must first delete all running pods that use <code class="literal">kata</code> as the <code class="literal">runtimeClass</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have a list of the pods that use <code class="literal">kata</code> as the <code class="literal">runtimeClass</code>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective, navigate to <span class="strong strong"><strong>Workloads</strong></span> → <span class="strong strong"><strong>Pods</strong></span>.
						</li><li class="listitem">
							Search for the pod that you want to delete using the <span class="strong strong"><strong>Search by name</strong></span> field.
						</li><li class="listitem">
							Click the pod name to open it.
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Details</strong></span> page, check that <code class="literal">kata</code> is displayed for <span class="strong strong"><strong>Runtime class</strong></span>.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Actions</strong></span> menu and select <span class="strong strong"><strong>Delete Pod</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Delete</strong></span> in the confirmation window.
						</li></ol></div><div class="_additional-resources _additional-resources"><p class="title"><strong>Additional resources</strong></p><p>
						You can retrieve a list of running pods that use <code class="literal">kata</code> as the <code class="literal">runtimeClass</code> from the OpenShift CLI. For details, see <a class="link" href="#sandboxed-containers-deleting-pods-cli_uninstalling-sandboxed-containers" title="5.2.1. Deleting OpenShift sandboxed containers pods using the CLI">Deleting OpenShift sandboxed containers pods</a>.
					</p></div></section><section class="section" id="sandboxed-containers-deleting-kataconfig-web-console_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.1.2. Deleting the KataConfig custom resource using the web console</h3></div></div></div><p>
					Deleting the <code class="literal">KataConfig</code> custom resource (CR) removes and uninstalls the <code class="literal">kata</code> runtime and its related resources from your cluster.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Deleting the <code class="literal">KataConfig</code> CR automatically reboots the worker nodes. The reboot can take from 10 to more than 60 minutes. Factors that impede reboot time are as follows:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								A larger Red Hat OpenShift deployment with a greater number of worker nodes.
							</li><li class="listitem">
								Activation of the BIOS and Diagnostics utility.
							</li><li class="listitem">
								Deployment on a hard drive rather than an SSD.
							</li><li class="listitem">
								Deployment on physical nodes such as bare metal, rather than on virtual nodes.
							</li><li class="listitem">
								A slow CPU and network.
							</li></ul></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have no running pods that use <code class="literal">kata</code> as the <code class="literal">runtimeClass</code>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
						</li><li class="listitem">
							Search for the OpenShift sandboxed containers Operator using the <span class="strong strong"><strong>Search by name</strong></span> field.
						</li><li class="listitem">
							Click the Operator to open it, and then select the <span class="strong strong"><strong>KataConfig</strong></span> tab.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Options</strong></span> menu 
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Sandboxed_Containers-1.4-OpenShift_sandboxed_containers_user_guide-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
							 for the <code class="literal">KataConfig</code> resource, and then select <span class="strong strong"><strong>Delete <code class="literal">KataConfig</code></strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Delete</strong></span> in the confirmation window.
						</li></ol></div><p>
					Wait for the <code class="literal">kata</code> runtime and resources to uninstall and for the worker nodes to reboot before continuing to the next step.
				</p></section><section class="section" id="sandboxed-containers-deleting-operator-web-console_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.1.3. Deleting the OpenShift sandboxed containers Operator using the web console</h3></div></div></div><p>
					Deleting the OpenShift sandboxed containers Operator removes the catalog subscription, Operator group, and cluster service version (CSV) for that Operator.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
						</li><li class="listitem">
							Search for the OpenShift sandboxed containers Operator using the <span class="strong strong"><strong>Search by name</strong></span> field.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Options</strong></span> menu 
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Sandboxed_Containers-1.4-OpenShift_sandboxed_containers_user_guide-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
							 for the Operator and select <span class="strong strong"><strong>Uninstall Operator</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Uninstall</strong></span> in the confirmation window.
						</li></ol></div></section><section class="section" id="sandboxed-containers-deleting-namespace-web-console_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.1.4. Deleting the OpenShift sandboxed containers namespace using the web console</h3></div></div></div><p>
					After you run the preceding commands, your cluster is restored to the state that it was prior to the installation process. You can now revoke namespace access to the Operator by deleting the <code class="literal">openshift-sandboxed-containers-operator</code> namespace.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective, navigate to <span class="strong strong"><strong>Administration</strong></span> → <span class="strong strong"><strong>Namespaces</strong></span>.
						</li><li class="listitem">
							Search for the <code class="literal">openshift-sandboxed-containers-operator</code> namespace using the <span class="strong strong"><strong>Search by name</strong></span> field.
						</li><li class="listitem"><p class="simpara">
							Click the <span class="strong strong"><strong>Options</strong></span> menu 
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Sandboxed_Containers-1.4-OpenShift_sandboxed_containers_user_guide-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
							 for the namespace and select <span class="strong strong"><strong>Delete Namespace</strong></span>.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If the <span class="strong strong"><strong>Delete Namespace</strong></span> option is not available, you do not have permission to delete the namespace.
							</p></div></div></li><li class="listitem">
							In the <span class="strong strong"><strong>Delete Namespace</strong></span> pane, enter <code class="literal">openshift-sandboxed-containers-operator</code> and click <span class="strong strong"><strong>Delete</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Delete</strong></span>.
						</li></ol></div></section><section class="section" id="sandboxed-containers-deleting-kataconfig-crd-web_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.1.5. Deleting the <code class="literal">KataConfig</code> custom resource definition using the web console</h3></div></div></div><p>
					The <code class="literal">KataConfig</code> custom resource definition (CRD) lets you define the <code class="literal">KataConfig</code> CR. To complete the uninstall process, delete the <code class="literal">KataConfig</code> CRD from your cluster.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have removed the <code class="literal">KataConfig</code> CR from your cluster.
						</li><li class="listitem">
							You have removed the OpenShift sandboxed containers Operator from your cluster.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective, navigate to <span class="strong strong"><strong>Administration</strong></span> → <span class="strong strong"><strong>CustomResourceDefinitions</strong></span>.
						</li><li class="listitem">
							Search for <code class="literal">KataConfig</code> using the <span class="strong strong"><strong>Search by name</strong></span> field.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Options</strong></span> menu 
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Sandboxed_Containers-1.4-OpenShift_sandboxed_containers_user_guide-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
							 for the <code class="literal">KataConfig</code> CRD, and then select <span class="strong strong"><strong>Delete CustomResourceDefinition</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Delete</strong></span> in the confirmation window.
						</li><li class="listitem">
							Wait for the <code class="literal">KataConfig</code> CRD to disappear from the list. This can take several minutes.
						</li></ol></div></section></section><section class="section" id="uninstalling_openshift_sandboxed_containers_using_the_cli"><div class="titlepage"><div><div><h2 class="title">5.2. Uninstalling OpenShift sandboxed containers using the CLI</h2></div></div></div><p>
				You can uninstall OpenShift sandboxed containers by using the Red Hat OpenShift <a class="link" href="https://docs.openshift.com/container-platform/latest/cli_reference/openshift_cli/getting-started-cli.html">command-line interface (CLI)</a>. Follow the steps below in the order that they are presented.
			</p><section class="section" id="sandboxed-containers-deleting-pods-cli_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.2.1. Deleting OpenShift sandboxed containers pods using the CLI</h3></div></div></div><p>
					To uninstall OpenShift sandboxed containers, you must first delete all running pods that use <code class="literal">kata</code> as the <code class="literal">runtimeClass</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have the command-line JSON processor (<code class="literal">jq</code>) installed.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Search for pods that use <code class="literal">kata</code> as the <code class="literal">runtimeClass</code> by running the following command:
						</p><pre class="programlisting language-terminal">$ oc get pods -A -o json | jq -r '.items[] | select(.spec.runtimeClassName == "kata").metadata.name'</pre></li><li class="listitem"><p class="simpara">
							To delete each pod, run the following command:
						</p><pre class="programlisting language-terminal">$ oc delete pod &lt;pod-name&gt;</pre></li></ol></div></section><section class="section" id="sandboxed-containers-deleting-kataconfig-cli_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.2.2. Deleting the KataConfig custom resource using the CLI</h3></div></div></div><p>
					Remove and uninstall the <code class="literal">kata</code> runtime and all its related resources, such as CRI-O config and <code class="literal">RuntimeClass</code>, from your cluster.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Deleting the <code class="literal">KataConfig</code> CR automatically reboots the worker nodes. The reboot can take from 10 to more than 60 minutes. Factors that impede reboot time are as follows:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								A larger Red Hat OpenShift deployment with a greater number of worker nodes.
							</li><li class="listitem">
								Activation of the BIOS and Diagnostics utility.
							</li><li class="listitem">
								Deployment on a hard drive rather than an SSD.
							</li><li class="listitem">
								Deployment on physical nodes such as bare metal, rather than on virtual nodes.
							</li><li class="listitem">
								A slow CPU and network.
							</li></ul></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Delete the <code class="literal">KataConfig</code> custom resource by running the following command:
						</p><pre class="programlisting language-terminal">$ oc delete kataconfig &lt;KataConfig_CR_Name&gt;</pre></li></ol></div><p>
					The OpenShift sandboxed containers Operator removes all resources that were initially created to enable the runtime on your cluster.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						During deletion, the CLI stops responding until all worker nodes reboot. Wait for the process to complete before performing the verification or continuing to the next procedure.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To verify that the <code class="literal">KataConfig</code> custom resource is deleted, run the following command:
						</p><pre class="programlisting language-terminal">$ oc get kataconfig &lt;KataConfig_CR_Name&gt;</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">No KataConfig instances exist</pre>

							</p></div></li></ul></div></section><section class="section" id="sandboxed-containers-deleting-operator-cli_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.2.3. Deleting the OpenShift sandboxed containers Operator using the CLI</h3></div></div></div><p>
					Remove the OpenShift sandboxed containers Operator from your cluster by deleting the Operator subscription, Operator group, cluster service version (CSV), and namespace.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.10 installed on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have installed the comand-line JSON processor (<code class="literal">jq</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Fetch the cluster service version (CSV) name for OpenShift sandboxed containers from the subscription by running the following command:
						</p><pre class="programlisting language-terminal">CSV_NAME=$(oc get csv -n openshift-sandboxed-containers-operator -o=custom-columns=:metadata.name)</pre></li><li class="listitem"><p class="simpara">
							Delete the OpenShift sandboxed containers Operator subscription from Operator Lifecyle Manager (OLM) by running the following command:
						</p><pre class="programlisting language-terminal">$ oc delete subscription sandboxed-containers-operator -n openshift-sandboxed-containers-operator</pre></li><li class="listitem"><p class="simpara">
							Delete the CSV name for OpenShift sandboxed containers by running the following command:
						</p><pre class="programlisting language-terminal">$ oc delete csv ${CSV_NAME} -n openshift-sandboxed-containers-operator</pre></li><li class="listitem"><p class="simpara">
							Fetch the OpenShift sandboxed containers Operator group name by running the following command:
						</p><pre class="programlisting language-terminal">$ OG_NAME=$(oc get operatorgroup -n openshift-sandboxed-containers-operator -o=jsonpath={..name})</pre></li><li class="listitem"><p class="simpara">
							Delete the OpenShift sandboxed containers Operator group name by running the following command:
						</p><pre class="programlisting language-terminal">$ oc delete operatorgroup ${OG_NAME} -n openshift-sandboxed-containers-operator</pre></li><li class="listitem"><p class="simpara">
							Delete the OpenShift sandboxed containers namespace by running the following command:
						</p><pre class="programlisting language-terminal">$ oc delete namespace openshift-sandboxed-containers-operator</pre></li></ol></div></section><section class="section" id="sandboxed-containers-deleting-kataconfig-CRD-cli_uninstalling-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">5.2.4. Deleting the <code class="literal">KataConfig</code> custom resource definition using the CLI</h3></div></div></div><p>
					The <code class="literal">KataConfig</code> custom resource definition (CRD) lets you define the <code class="literal">KataConfig</code> CR. Delete the <code class="literal">KataConfig</code> CRD from your cluster.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li><li class="listitem">
							You have removed the <code class="literal">KataConfig</code> CR from your cluster.
						</li><li class="listitem">
							You have removed the OpenShift sandboxed containers Operator from your cluster.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Delete the <code class="literal">KataConfig</code> CRD by running the following command:
						</p><pre class="programlisting language-terminal">$ oc delete crd kataconfigs.kataconfiguration.openshift.io</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To verify that the <code class="literal">KataConfig</code> CRD is deleted, run the following command:
						</p><pre class="programlisting language-terminal">$ oc get crd kataconfigs.kataconfiguration.openshift.io</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">Unknown CR KataConfig</pre>

							</p></div></li></ul></div></section></section></section><section class="chapter" id="upgrading-sandboxed-containers"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Upgrading OpenShift sandboxed containers</h1></div></div></div><p>
			The upgrade of the OpenShift sandboxed containers components consists of the following three steps:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Upgrading Red Hat OpenShift to update the <code class="literal">Kata</code> runtime and its dependencies.
				</li><li class="listitem">
					Upgrading the OpenShift sandboxed containers Operator to update the Operator subscription.
				</li><li class="listitem">
					Manually patching the <code class="literal">KataConfig</code> custom resource (CR) to update the monitor pods.
				</li></ul></div><p>
			You can upgrade Red Hat OpenShift before or after the OpenShift sandboxed containers Operator upgrade, with the one exception noted below. Always apply the <code class="literal">KataConfig</code> patch immediately after upgrading OpenShift sandboxed containers Operator.
		</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				If you are upgrading to Red Hat OpenShift 4.11 with OpenShift sandboxed containers 1.3, the recommended order is to first upgrade OpenShift sandboxed containers from 1.2 to 1.3, and then upgrade Red Hat OpenShift from 4.10 to 4.11.
			</p></div></div><section class="section" id="sandboxed-containers-upgrade-resources"><div class="titlepage"><div><div><h2 class="title">6.1. Upgrading the OpenShift sandboxed containers resources</h2></div></div></div><p>
				The OpenShift sandboxed containers resources are deployed onto the cluster using Red Hat Enterprise Linux CoreOS (RHCOS) extensions.
			</p><p>
				The RHCOS extension <code class="literal">sandboxed containers</code> contains the required components to run Kata Containers such as the Kata containers runtime, the hypervisor QEMU, and other dependencies. You upgrade the extension by upgrading the cluster to a new release of Red Hat OpenShift.
			</p><p>
				For more information about upgrading Red Hat OpenShift, see <a class="link" href="https://docs.openshift.com/container-platform/latest/updating/index.html">Updating Clusters</a>.
			</p></section><section class="section" id="sandboxed-containers-upgrading-operator"><div class="titlepage"><div><div><h2 class="title">6.2. Upgrading the OpenShift sandboxed containers Operator</h2></div></div></div><p>
				Use Operator Lifecycle Manager (OLM) to upgrade the OpenShift sandboxed containers Operator either manually or automatically. Selecting between manual or automatic upgrade during the initial deployment determines the future upgrade mode. For manual upgrades, the web console shows the available updates that can be installed by the cluster administrator.
			</p><p>
				For more information about upgrading the OpenShift sandboxed containers Operator in Operator Lifecycle Manager (OLM), see <a class="link" href="https://docs.openshift.com/container-platform/latest/operators/admin/olm-upgrading-operators.html">Updating installed Operators</a>.
			</p></section><section class="section" id="sandboxed-containers-upgrading-monitor-pods"><div class="titlepage"><div><div><h2 class="title">6.3. Upgrading the OpenShift sandboxed containers monitor pods</h2></div></div></div><p>
				After upgrading OpenShift sandboxed containers, you need to update the monitor image in the <code class="literal">KataConfig</code> CR to upgrade the monitor pods. Otherwise, the monitor pods will continue running images from the previous version.
			</p><p>
				You can perform the update using the web console or the CLI.
			</p><section class="section" id="sandboxed-containers-upgrading-monitor-pods-web_upgrading-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">6.3.1. Upgrading the monitor pods using the web console</h3></div></div></div><p>
					The <code class="literal">KataConfig</code> YAML file in the Red Hat OpenShift contains the version number for the monitor image. Update the version number with the correct version.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							From the <span class="strong strong"><strong>Administrator</strong></span> perspective of Red Hat OpenShift, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>Installed Operators</strong></span>.
						</li><li class="listitem">
							Select the <span class="strong strong"><strong>OpenShift sandboxed containers Operator</strong></span> and go to the <span class="strong strong"><strong>KataConfig</strong></span> tab.
						</li><li class="listitem">
							Search for the <code class="literal">KataConfig</code> resource using the <span class="strong strong"><strong>Search by name</strong></span> field. The default name for the <code class="literal">KataConfig</code> resource is <span class="strong strong"><strong>example-kataconfig</strong></span>.
						</li><li class="listitem">
							Select the <code class="literal">KataConfig</code> resource and go to the <span class="strong strong"><strong>KataConfig</strong></span> tab.
						</li><li class="listitem"><p class="simpara">
							Modify the version number for <code class="literal">kataMonitorImage</code>:
						</p><pre class="programlisting language-yaml">    checkNodeEligibility: false
    kataConfigPoolSelector: null
    kataMonitorImage: 'registry.redhat.io/openshift-sandboxed-containers/osc-monitor-rhel8:1.3.0'</pre></li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span>.
						</li></ol></div></section><section class="section" id="sandboxed-containers-upgrading-monitor-pods-cli_upgrading-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">6.3.2. Upgrading the monitor pods using the CLI</h3></div></div></div><p>
					You can manually patch the monitor image in the <code class="literal">KataConfig</code> CR to update the monitor pods.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have Red Hat OpenShift 4.12 installed on your cluster.
						</li><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							In the Red Hat OpenShift CLI, run the following command:
						</p><pre class="programlisting language-terminal">$ oc patch kataconfig &lt;kataconfig_name&gt; --type merge --patch
'{"spec":{"kataMonitorImage":"registry.redhat.io/openshift-sandboxed-containers/osc-monitor-rhel8:1.3.0"}}'</pre><p class="simpara">
							where: <code class="literal">&lt;kataconfig_name&gt;</code>:: specifies the name of your Kata configuration file, such as <code class="literal">example-kataconfig</code>.
						</p></li></ul></div></section></section></section><section class="chapter" id="troubleshooting-sandboxed-containers"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Collecting OpenShift sandboxed containers data</h1></div></div></div><p class="_abstract _abstract">
			When troubleshooting OpenShift sandboxed containers, you can open a support case and provide debugging information using the <code class="literal">must-gather</code> tool.
		</p><p>
			If you are a cluster administrator, you can also review logs on your own, enabling a more detailed level of logs.
		</p><section class="section" id="sandboxed-containers-collect_data_rh_support_troubleshooting-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">7.1. Collecting OpenShift sandboxed containers data for Red Hat Support</h2></div></div></div><p>
				When opening a support case, it is helpful to provide debugging information about your cluster to Red Hat Support.
			</p><p>
				The <code class="literal">must-gather</code> tool enables you to collect diagnostic information about your Red Hat OpenShift cluster, including virtual machines and other data related to OpenShift sandboxed containers.
			</p><p>
				For prompt support, supply diagnostic information for both Red Hat OpenShift and OpenShift sandboxed containers.
			</p><section class="section" id="about-must-gather_troubleshooting-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">7.1.1. About the must-gather tool</h3></div></div></div><p>
					The <code class="literal">oc adm must-gather</code> CLI command collects the information from your cluster that is most likely needed for debugging issues, including:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Resource definitions
						</li><li class="listitem">
							Service logs
						</li></ul></div><p>
					By default, the <code class="literal">oc adm must-gather</code> command uses the default plugin image and writes into <code class="literal">./must-gather.local</code>.
				</p><p>
					Alternatively, you can collect specific information by running the command with the appropriate arguments as described in the following sections:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To collect data related to one or more specific features, use the <code class="literal">--image</code> argument with an image, as listed in a following section.
						</p><p class="simpara">
							For example:
						</p><pre class="programlisting language-terminal">$ oc adm must-gather  --image=registry.redhat.io/container-native-virtualization/cnv-must-gather-rhel8:v4.12.0</pre></li><li class="listitem"><p class="simpara">
							To collect the audit logs, use the <code class="literal">-- /usr/bin/gather_audit_logs</code> argument, as described in a following section.
						</p><p class="simpara">
							For example:
						</p><pre class="programlisting language-terminal">$ oc adm must-gather -- /usr/bin/gather_audit_logs</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Audit logs are not collected as part of the default set of information to reduce the size of the files.
							</p></div></div></li></ul></div><p>
					When you run <code class="literal">oc adm must-gather</code>, a new pod with a random name is created in a new project on the cluster. The data is collected on that pod and saved in a new directory that starts with <code class="literal">must-gather.local</code>. This directory is created in the current working directory.
				</p><p>
					For example:
				</p><pre class="programlisting language-terminal">NAMESPACE                      NAME                 READY   STATUS      RESTARTS      AGE
...
openshift-must-gather-5drcj    must-gather-bklx4    2/2     Running     0             72s
openshift-must-gather-5drcj    must-gather-s8sdh    2/2     Running     0             72s
...</pre><p>
					Optionally, you can run the <code class="literal">oc adm must-gather</code> command in a specific namespace by using the <code class="literal">--run-namespace</code> option.
				</p><p>
					For example:
				</p><pre class="programlisting language-terminal">$ oc adm must-gather --run-namespace &lt;namespace&gt; --image=registry.redhat.io/container-native-virtualization/cnv-must-gather-rhel8:v4.12.0</pre><p>
					To collect OpenShift sandboxed containers data with <code class="literal">must-gather</code>, you must specify the OpenShift sandboxed containers image:
				</p><pre class="programlisting language-terminal">--image=registry.redhat.io/openshift-sandboxed-containers/osc-must-gather-rhel8:1.4.0</pre></section></section><section class="section" id="sandboxed-containers-collecting-data_troubleshooting-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">7.2. About OpenShift sandboxed containers log data</h2></div></div></div><p>
				When you collect log data about your cluster, the following features and objects are associated with OpenShift sandboxed containers:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						All namespaces and their child objects that belong to any OpenShift sandboxed containers resources
					</li><li class="listitem">
						All OpenShift sandboxed containers custom resource definitions (CRDs)
					</li></ul></div><p>
				The following OpenShift sandboxed containers component logs are collected for each pod running with the <code class="literal">kata</code> runtime:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Kata agent logs
					</li><li class="listitem">
						Kata runtime logs
					</li><li class="listitem">
						QEMU logs
					</li><li class="listitem">
						Audit logs
					</li><li class="listitem">
						CRI-O logs
					</li></ul></div></section><section class="section" id="sandboxed-containers-enable-debug-logs_troubleshooting-sandboxed-containers"><div class="titlepage"><div><div><h2 class="title">7.3. Enabling debug logs for OpenShift sandboxed containers</h2></div></div></div><p>
				As a cluster administrator, you can collect a more detailed level of logs for OpenShift sandboxed containers. You can also enhance logging by changing the <code class="literal">logLevel</code> field in the <code class="literal">KataConfig</code> CR. This changes the <code class="literal">log_level</code> in the CRI-O runtime for the worker nodes running OpenShift sandboxed containers.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Change the <code class="literal">logLevel</code> field in your existing <code class="literal">KataConfig</code> CR to <code class="literal">debug</code>:
					</li></ol></div><pre class="programlisting language-terminal">$ oc patch kataconfig &lt;name_of_kataconfig_file&gt; --type merge --patch '{"spec":{"logLevel":"debug"}}'</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When running this command, reference the name of your <code class="literal">KataConfig</code> CR. This is the name you used to create the CR when setting up OpenShift sandboxed containers.
				</p></div></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Monitor the <code class="literal">kata-oc</code> machine config pool until the <code class="literal">UPDATED</code> field appears as <code class="literal">True</code>, meaning all worker nodes are updated:
					</p><pre class="programlisting language-terminal">$ oc get mcp kata-oc</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
							
<pre class="programlisting language-terminal">NAME     CONFIG                 UPDATED  UPDATING  DEGRADED  MACHINECOUNT  READYMACHINECOUNT  UPDATEDMACHINECOUNT  DEGRADEDMACHINECOUNT  AGE
kata-oc  rendered-kata-oc-169   False    True      False     3             1                  1                    0                     9h</pre>

						</p></div></li><li class="listitem"><p class="simpara">
						Verify that the <code class="literal">log_level</code> was updated in CRI-O:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Open an <code class="literal">oc debug</code> session to a node in the machine config pool and run <code class="literal">chroot /host</code>.
							</p><pre class="programlisting language-terminal">$ oc debug node/&lt;node_name&gt;</pre><pre class="programlisting language-terminal">sh-4.4# chroot /host</pre></li><li class="listitem"><p class="simpara">
								Verify the changes in the <code class="literal">crio.conf</code> file:
							</p><pre class="programlisting language-terminal">sh-4.4# crio config | egrep 'log_level</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">log_level = "debug"</pre>

								</p></div></li></ol></div></li></ol></div><section class="section" id="sandboxed-containers-view-debug-logs_troubleshooting-sandboxed-containers"><div class="titlepage"><div><div><h3 class="title">7.3.1. Viewing debug logs for OpenShift sandboxed containers</h3></div></div></div><p>
					Cluster administrators can use the enhanced debug logs for OpenShift sandboxed containers to troubleshoot issues. The logs for each node are printed to the node journal.
				</p><p>
					You can review the logs for the following OpenShift sandboxed containers components:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Kata agent
						</li><li class="listitem">
							Kata runtime (<code class="literal">containerd-shim-kata-v2</code>)
						</li><li class="listitem">
							virtiofsd
						</li></ul></div><p>
					QEMU only generates warning and error logs. These warnings and errors print to the node journal in both the Kata runtime logs and the CRI-O logs with an extra <code class="literal">qemuPid</code> field.
				</p><div class="formalpara"><p class="title"><strong>Example of QEMU logs</strong></p><p>
						
<pre class="programlisting language-text">Mar 11 11:57:28 openshift-worker-0 kata[2241647]: time="2023-03-11T11:57:28.587116986Z" level=info msg="Start logging QEMU (qemuPid=2241693)" name=containerd-shim-v2 pid=2241647 sandbox=d1d4d68efc35e5ccb4331af73da459c13f46269b512774aa6bde7da34db48987 source=virtcontainers/hypervisor subsystem=qemu

Mar 11 11:57:28 openshift-worker-0 kata[2241647]: time="2023-03-11T11:57:28.607339014Z" level=error msg="qemu-kvm: -machine q35,accel=kvm,kernel_irqchip=split,foo: Expected '=' after parameter 'foo'" name=containerd-shim-v2 pid=2241647 qemuPid=2241693 sandbox=d1d4d68efc35e5ccb4331af73da459c13f46269b512774aa6bde7da34db48987 source=virtcontainers/hypervisor subsystem=qemu

Mar 11 11:57:28 openshift-worker-0 kata[2241647]: time="2023-03-11T11:57:28.60890737Z" level=info msg="Stop logging QEMU (qemuPid=2241693)" name=containerd-shim-v2 pid=2241647 sandbox=d1d4d68efc35e5ccb4331af73da459c13f46269b512774aa6bde7da34db48987 source=virtcontainers/hypervisor subsystem=qemu</pre>

					</p></div><p>
					The Kata runtime prints <code class="literal">Start logging QEMU</code> when QEMU starts, and <code class="literal">Stop Logging QEMU</code> when QEMU stops. The error appears in between these two log messages with the <code class="literal">qemuPid</code> field. The actual error message from QEMU appears in red.
				</p><p>
					The console of the QEMU guest is printed to the node journal as well. You can view the guest console logs together with the Kata agent logs.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have installed the OpenShift CLI (<code class="literal">oc</code>).
						</li><li class="listitem">
							You have access to the cluster as a user with the <code class="literal">cluster-admin</code> role.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To review the Kata agent logs and guest console logs, run:
						</p><pre class="programlisting language-terminal">$ oc debug node/&lt;nodename&gt; -- journalctl -D /host/var/log/journal -t kata -g “reading guest console”</pre></li><li class="listitem"><p class="simpara">
							To review the kata runtime logs, run:
						</p><pre class="programlisting language-terminal">$ oc debug node/&lt;nodename&gt; -- journalctl -D /host/var/log/journal -t kata</pre></li><li class="listitem"><p class="simpara">
							To review the virtiofsd logs, run:
						</p><pre class="programlisting language-terminal">$ oc debug node/&lt;nodename&gt; -- journalctl -D /host/var/log/journal -t virtiofsd</pre></li><li class="listitem"><p class="simpara">
							To review the QEMU logs, run:
						</p><pre class="programlisting language-terminal">$ oc debug node/&lt;nodename&gt; -- journalctl -D /host/var/log/journal -t kata -g "qemuPid=\d+"</pre></li></ul></div></section></section><section class="section _additional-resources" id="troubleshooting-sandboxed-containers_additional-resources"><div class="titlepage"><div><div><h2 class="title">7.4. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						For more information about gathering data for support, see <a class="link" href="https://docs.openshift.com/container-platform/latest/support/gathering-cluster-data.html">Gathering data about your cluster</a>.
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm139717453664544"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2023 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div>


  <nav class="pvof-doc__book-nav">
  <ol class="book-nav__list">
              </ol>
</nav>


          </div>
              </div>
              <div id="comments-footer" class="book-comments">
          

  

        </div>
          </div>
  </article>
<meta itemscope="" itemref="md1">



    </div>
      <!-- CP_PRIMER_FOOTER -->            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

              <div role="navigation" aria-label="quick">
                  <h3>Quick Links</h3>
                  <ul>
                      <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                      <li><a class="manage-subscriptions" href="https://access.redhat.com/management">Subscriptions</a></li>
                      <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                      <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                      <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="help">
                  <h3>Help</h3>
                  <ul>
                      <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                      <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                      <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="site">
                  <h3>Site Info</h3>
                  <ul>
                      <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                      <li><a class="browser-support-policy" href="https://www.redhat.com/en/about/browser-support">Browser Support Policy</a></li>
                      <li><a class="accessibility" href="https://www.redhat.com/en/about/digital-accessibility">Accessibility</a></li>
                      <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                      <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="other">
                  <h3>Related Sites</h3>
                  <ul>
                      <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                      <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                      <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                      <li><a href="https://cloud.redhat.com/" class="cloud-com">cloud.redhat.com</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="about">
                  <h3>About</h3>
                  <ul>
                      <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                      <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                      <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                  </ul>
              </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                        <span class="status-description"></span>
                        <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2023 Red Hat, Inc.</div>
                        <div role="navigation" aria-label="legal" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://www.redhat.com/en/about/terms-use" class="terms-of-use">Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                                <li><a id="teconsent"></a></li>
                            </ul>
                            <div id="privacy_policy">We've updated our <a href='http://www.redhat.com/en/about/privacy-policy' class='privacy-policy'>Privacy Statement</a> effective September 15, 2023.
                            </div>
                          </div>
                        </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                        <img src="https://access.redhat.com/chrome_themes/nimbus/img/rh-summit-red-a.svg" alt="Red Hat Summit" /> <span class="offscreen">Red Hat Summit</span>
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHat" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>                        
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- TrustArc -->
    <div id="consent_blackbar"></div> 
    <!--googleon: all-->
</div>
<!-- /CP_PRIMER_FOOTER -->


  </div>

    
  </body>
</html>
