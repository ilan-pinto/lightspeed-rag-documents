<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="og: https://ogp.me/ns#">
  <head>
    <meta charset="utf-8" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/index" />
<meta property="og:title" content="Building applications OpenShift Container Platform 4.13 | Red Hat Customer Portal" />
<meta property="og:description" content="This document provides instructions for the various ways to create and manage instances of user-provisioned applications running on OpenShift Container Platform. This includes working with projects and provisioning applications using the Open Service Broker API." />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="This document provides instructions for the various ways to create and manage instances of user-provisioned applications running on OpenShift Container Platform. This includes working with projects and provisioning applications using the Open Service Broker API." />
<meta name="twitter:title" content="Building applications OpenShift Container Platform 4.13 | Red Hat Customer Portal" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/index" />
<meta name="twitter:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="title" content="Building applications OpenShift Container Platform 4.13 | Red Hat Customer Portal" />
<link rel="alternate" hreflang="en" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="ko" href="https://access.redhat.com/documentation/ko-kr/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="zh-hans" href="https://access.redhat.com/documentation/zh-cn/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="ja" href="https://access.redhat.com/documentation/ja-jp/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="es" href="https://access.redhat.com/documentation/es-es/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="ru" href="https://access.redhat.com/documentation/ru-ru/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="pt-br" href="https://access.redhat.com/documentation/pt-br/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="it" href="https://access.redhat.com/documentation/it-it/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="de" href="https://access.redhat.com/documentation/de-de/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="fr" href="https://access.redhat.com/documentation/fr-fr/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="zh-hant" href="https://access.redhat.com/documentation/zh-tw/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="id" href="https://access.redhat.com/documentation/id-id/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="th" href="https://access.redhat.com/documentation/th-th/openshift_container_platform/4.13/html-single/building_applications/index" />
<link rel="alternate" hreflang="vi" href="https://access.redhat.com/documentation/vi-vn/openshift_container_platform/4.13/html-single/building_applications/index" />
<meta name="Generator" content="Drupal 9 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="revision" product="b0738f19-59ac-47eb-9512-8a439cd6dfb0" title="cbda52a8-69ef-46b7-bd10-416f4bc163a6" page="c30e8005-a26d-4832-a717-0c52716704ad" revision="a9b2f940183f7b22b049f578bab422b40265d849:en-us" body="cb50a75ead5afb24b7b14633335120d9.html" toc="a8609799a0150416526f6fefa7870080.json" />

    <title>Building applications OpenShift Container Platform 4.13 | Red Hat Customer Portal</title>
    <link rel="stylesheet" media="all" href="/sites/dxp-docs/files/css/css_87GMcmxT1ib8ziQiU2KUAnTDFtZQV6iP-KGslA9LigM.css" />
<link rel="stylesheet" media="all" href="/sites/dxp-docs/files/css/css__Xq4GfgPDJw9K_yYJFmlRZGJeCENu3R3r4s0K7Tr_9g.css" />

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"documentation\/en-us\/openshift_container_platform\/4.13\/html-single\/building_applications\/index","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","suppressDeprecationErrors":true,"red_hat_jwt":{"client_id":"customer-portal","cookie_name":"rh_jwt","leeway":"0","realm":"redhat-external","sso_host":"https:\/\/sso.redhat.com\/","user_integration":1,"user_plugin":"drupal_user_auth","use_external_js":0,"use_internal_js":0,"use_in_admin":0},"user":{"uid":0,"permissionsHash":"d8ea0bce2d740dacbdfe0257cf55baa0e33f7fb8468a26d055ce75daaaa2d315"}}</script>
<script src="/sites/dxp-docs/files/js/js_EQWKo9EokWkWS99x_e1oM-NEM0zlKyTkp_83mGdm5Ks.js"></script>

    <!-- CP_PRIMER_HEAD -->  <!-- TrustArc & DTM -->
  <script src="//static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>
  <script src="//www.redhat.com/dtm.js"></script><meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="dxp-kbase-prod-139-77b4fb8768-25dr9" />
<meta name="avalon-version" content="27861f77" />
<meta name="cp-chrome-build-date" content="2023-10-06T19:17:59.039Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />
<!-- title -->
<title>Red Hat Customer Portal - Access to 24x7 support and knowledge</title>
<!-- /title -->
<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en", 
        version   : "27861f77",
        builddate : "2023-10-06T19:17:59.039Z",        fetchdate : "2023-10-10T17:45:08-0400",        nrid      : "NOLONGERSUPPORTED",
        nrlk      : "NOLONGERSUPPORTED"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="https://access.redhat.com/webassets/avalon/g/favicon.ico" /><link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/bootstrap.css?v=27861f77" />
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/bootstrap-grid.css?v=27861f77" />
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/main.css?v=27861f77" />
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/components.css?v=27861f77" />
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/pages.css?v=27861f77" />

<link href="https://access.redhat.com/webassets/avalon/s/chosen.css?v=27861f77" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]--><noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/webassets/avalon/j/public_modules/node_modules/@cpelements/pfe-navigation/dist/pfe-navigation--lightdom.min.css" />
<!-- /cssInclude -->
<script src="https://access.redhat.com/webassets/avalon/j/public_modules/node_modules/@cpelements/pfe-navigation/dist/ie-polyfills.js?v=27861f77"></script>

<script async>
  if (!HTMLScriptElement.supports || !HTMLScriptElement.supports('importmap')) {
    import("https://www.redhatstatic.com/dx/v1-alpha/es-module-shims@1.7.3.js");
  }
</script>
<script type="importmap">
{
  "imports": {
    "@patternfly/elements/" : "https://www.redhatstatic.com/dx/v1-alpha/@patternfly/elements@2.2.2/",
    "@rhds/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/elements/",
    "@rhds/elements/lib/":"https://www.redhatstatic.com/dx/v1-alpha/@rhds/elements@1.1.0/lib/",
    "@cpelements/elements/":"https://www.redhatstatic.com/dx/v1-alpha/@cpelements/elements@2.0.0-alpha.7/elements/"
  }
}
</script><script type="text/javascript" src="https://access.redhat.com/webassets/avalon/j/lib/require.js?v=27861f77" data-main="/webassets/avalon/j/"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->
<script type="text/javascript" src="https://access.redhat.com/chrome_themes/nimbus/js/new-nav.js?v=27861f77" ></script>
<!-- /CP_PRIMER_HEAD -->

  </head>
  <body>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
      <!-- CP_PRIMER_HEADER -->
<div id="page-wrap" class="page-wrap">
    <div id="pers-top-page-wrap" class="top-page-wrap pers-loader-bg">

      <div id="hero-bg-top-left" class="summit-bg-shapes"></div>
      <div id="hero-bg-top-right" class="summit-bg-shapes"></div>

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <a href="#pfe-navigation" id="global-skip-to-nav" class="skip-link visually-hidden">Skip to navigation</a>
            <a href="#cp-main" class="skip-link visually-hidden">Skip to main content</a>            <nav id="portal-utility-nav" class="utility-navigation utility-navigation--bar hidden-at-mobile" data-analytics-region="utility" aria-labelledby="nav__utility-nav--desktop">
                <h3 id="nav__utility-nav--desktop" class="element-invisible">Utilities
                </h3>
                <ul aria-labelledby="nav__utility-nav--desktop">
                    <li id="nav-subscription" data-portal-tour-1="1">
                        <a class="top-nav-subscriptions" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Subscription" href="https://access.redhat.com/management/" >Subscriptions
                        </a>
                    </li>
                    <li id="nav-downloads" data-portal-tour-1="2">
                        <a class="top-nav-downloads" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/" >Downloads
                        </a>
                    </li>
                    <li id="nav-containers">
                        <a class="top-nav-containers" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/" >Containers
                        </a>
                    </li>
                    <li id="nav-support" data-portal-tour-1="3">
                        <a class="top-nav-support-cases" data-analytics-level="2" data-analytics-category="Utilities" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/" >Support Cases
                        </a>
                    </li>
                </ul>
            </nav>

            <pfe-navigation id="pfe-navigation" data-analytics-region="mega menu">
                <div class="pfe-navigation__logo-wrapper" id="pfe-navigation__logo-wrapper">
                    <a href="https://access.redhat.com/" class="pfe-navigation__logo-link" data-analytics-text="logo" data-analytics-category="MM|logo">
                        <img class="pfe-navigation__logo-image" alt="Red Hat Customer Portal" src="https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg" />
                    </a>
                </div>

                <nav class="pfe-navigation" aria-label="Main Navigation" data-analytics-region="main nav">
                    <ul class="pfe-navigation__menu" id="pfe-navigation__menu">                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-subscription--mobile" data-portal-tour-1="1">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Subscription" href="https://access.redhat.com/management/" >Subscriptions
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-downloads--mobile" data-portal-tour-1="2">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Downloads" href="https://access.redhat.com/downloads/" >Downloads
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-containers--mobile">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Containers" href="https://catalog.redhat.com/software/containers/explore/" >Containers
                            </a>
                        </li>
                        <li class="pfe-navigation__menu-item hidden-at-tablet hidden-at-desktop" id="nav-support--mobile" data-portal-tour-1="3">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Support Cases" href="https://access.redhat.com/support/cases/" >Support Cases
                            </a>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Products and Services">Products &amp; Services
                            </a>
                            <div class="pfe-navigation__dropdown has-primary-detail">                                <div class="desktop-col-span-2 tablet-col-span-all">
                                    <h3>
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Products" href="https://access.redhat.com/products/">Products
                                        </a>
                                    </h3>
                                    <slot name="main-menu__dropdown--product__product-listing"></slot>
                                </div>                                <div>
                                    <h3 id="nav__products__support">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Support" href="https://access.redhat.com/support">Support
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__support">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Production Support" href="https://access.redhat.com/support/offerings/production/">Production Support
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Development Support" href="https://access.redhat.com/support/offerings/developer/">Development Support
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Support" data-analytics-text="Product Life Cycles" href="https://access.redhat.com/product-life-cycles/">Product Life Cycles
                                                    </a></li>
                                    </ul>

                                    <h3 id="nav__products__services">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Services" href="https://www.redhat.com/en/services">Services
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__services">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Consulting" href="https://www.redhat.com/en/services/consulting">Consulting
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Technical Account Management" href="https://access.redhat.com/support/offerings/tam/">Technical Account Management
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Services" data-analytics-text="Training and Certifications" href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__products__documentation">
                                        <a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Documentation" href="https://access.redhat.com/documentation">Documentation
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__products__documentation">
                                        <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform
                                                        </a></li>
                                    </ul>
                                    <pfe-cta>
                                        <a data-analytics-level="3" data-analytics-category="Products and Services|Documentation" data-analytics-text="All Documentation" data-analytics-linkType="cta" href="https://access.redhat.com/documentation">All Documentation
                                        </a>
                                    </pfe-cta>

                                    <h3 id="nav__products__catalog"><a data-analytics-level="2" data-analytics-category="Products and Services" data-analytics-text="Ecosystem Catalog" href="https://catalog.redhat.com/">Ecosystem Catalog
                                        </a></h3>
                                        <ul aria-labelledby="nav__products__catalog">
                                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Red Hat Partner Ecosystem" href="https://access.redhat.com/ecosystem/">Red Hat Partner Ecosystem
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Products and Services|Ecosystem Catalog" data-analytics-text="Partner Resources" href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources
                                                    </a></li>
                                        </ul>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Tools" href="https://access.redhat.com/labs/">Tools
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__tools__tools" data-analytics-level="2" data-analytics-text="Tools" data-analytics-category="Tools">Tools
                                    </h3>
                                    <ul aria-labelledby="nav__tools__tools">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Solution Engine" href="https://access.redhat.com/support/cases/#/troubleshoot">Troubleshoot a product issue
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Packages" href="https://access.redhat.com/downloads/content/package-browser">Packages
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Tools" data-analytics-text="Errata" href="https://access.redhat.com/errata/">Errata
                                                    </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__tools__labs">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Customer Portal Labs" href="https://access.redhat.com/labs/">Customer Portal Labs
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__tools__labs">
                                        <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Configuration" href="https://access.redhat.com/labs/#!?type=config">Configuration
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Deployment" href="https://access.redhat.com/labs/#!?type=deploy">Deployment
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Security" href="https://access.redhat.com/labs/#!?type=security">Security
                                                    </a></li>                                                    <li><a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="Troubleshooting" href="https://access.redhat.com/labs/#!?type=troubleshoot">Troubleshoot
                                                        </a></li>
                                    </ul>
                                    <pfe-cta>
                                        <a data-analytics-level="3" data-analytics-category="Tools|Customer Portal Labs" data-analytics-text="All Labs" data-analytics-linkType="cta" href="https://access.redhat.com/labs/">All labs
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h4 id="nav__tools__red-hat-insights">
                                        <a data-analytics-level="2" data-analytics-category="Tools" data-analytics-text="Red Hat Insights" href="//www.redhat.com/en/technologies/management/insights">Red Hat Insights
                                        </a>
                                    </h4>
                                    <p>Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Learn more" href="https://www.redhat.com/en/technologies/management/insights">Learn More
                                    </a>
                                    <br>
                                    <a data-analytics-level="3" data-analytics-category="Tools|Red Hat Insights" data-analytics-text="Go to Insights" href="https://cloud.redhat.com/insights">Go to Insights
                                    </a>
                                </div>
                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Security" href="https://access.redhat.com/security/">Security
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="security__security-center">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Red Hat Product Security Center" href="https://access.redhat.com/security">Red Hat Product Security Center
                                        </a>
                                    </h3>
                                    <p>Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.
                                    </p>
                                    <pfe-cta pfe-priority="primary">
                                        <a data-analytics-level="3" data-analytics-category="Security|Red Hat Product Security Center" data-analytics-text="Product Security Center" data-analytics-linkType="cta" href="https://access.redhat.com/security/">Product Security Center
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__updates" data-analytics-level="2" data-analytics-text="Security Updates" data-analytics-category="Security">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Security Updates" href="/security">Security Updates
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__updates">
                                        <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Advisories" href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Red Hat CVE Database" href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="Security Labs" href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs
                                                    </a></li>
                                    </ul>
                                    <p class="margin-top-xl">Keep your systems secure with Red Hat&#039;s specialized responses to security vulnerabilities.
                                    </p>
                                    <pfe-cta>
                                        <a data-analytics-level="3" data-analytics-category="Security|Security Updates" data-analytics-text="View Responses" data-analytics-linkType="cta" href="https://access.redhat.com/security/vulnerability">View Responses
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__security__resources">
                                        <a data-analytics-level="2" data-analytics-category="Security" data-analytics-text="Resources" href="https://access.redhat.com/security/overview">Resources
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__security__resources">                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Blog" href="//redhat.com/en/blog/channel/security">Security Blog
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Security Measurement" href="https://www.redhat.com/security/data/metrics/">Security Measurement
                                                    </a></li>
                                                    <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Severity Ratings" href="https://access.redhat.com/security/updates/classification/">Severity Ratings
                                                        </a></li>
                                                        <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Backporting Policies" href="https://access.redhat.com/security/updates/backporting/">Backporting Policies
                                                            </a></li>
                                                            <li><a data-analytics-level="3" data-analytics-category="Security|Resources" data-analytics-text="Product Signing (GPG) Keys" href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys
                                                                </a></li>
                                    </ul>
                                </div>

                            </div>
                        </li>                        <li class="pfe-navigation__menu-item">
                            <a href="https://access.redhat.com/community/" class="pfe-navigation__menu-link" data-analytics-level="1" data-analytics-text="Community">Community
                            </a>
                            <div class="pfe-navigation__dropdown pfe-navigation__dropdown--3-column">                                <div>
                                    <h3 id="nav__community__cp-community">
                                        <a href="https://access.redhat.com/community" data-analytics-level="2" data-analytics-text="Customer Portal Community" data-analytics-text="Customer Portal Community" data-analytics-category="Community">Customer Portal Community
                                        </a>
                                    </h3>
                                    <ul aria-labelledby="nav__community__cp-community">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Discussions" href="https://access.redhat.com/discussions">Discussions
                                            </a></li>                                                <li><a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Private Groups" href="https://access.redhat.com/groups/">Private Groups
                                                    </a></li>
                                    </ul>

                                    <pfe-cta pfe-priority="primary">
                                        <a data-analytics-level="3" data-analytics-category="Community|Customer Portal Community" data-analytics-text="Community Activity" data-analytics-linkType="cta" href="https://access.redhat.com/community/">Community Activity
                                        </a>
                                    </pfe-cta>
                                </div>                                <div>
                                    <h3 id="nav__community__events" data-analytics-level="2" data-analytics-text="Customer Events" data-analytics-category="Community">Customer Events
                                    </h3>
                                    <ul aria-labelledby="nav__community__events">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Convergence" href="https://access.redhat.com/convergence/">Red Hat Convergence
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-category="Community|Customer Events" data-analytics-text="Red Hat Summit" href="http://www.redhat.com/summit/">Red Hat Summit
                                                </a></li>
                                    </ul>
                                </div>                                <div>
                                    <h3 id="nav__community__stories" data-analytics-level="2" data-analytics-text="Stories" data-analytics-category="Community">Stories
                                    </h3>
                                    <ul aria-labelledby="nav__community__stories">
                                        <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Red Hat Subscription Value" href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value
                                            </a></li>
                                            <li><a data-analytics-level="3" data-analytics-text="You Asked. We Acted." data-analytics-category="Community|Stories" href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.
                                                </a></li>
                                                <li><a data-analytics-level="3" data-analytics-category="Community|Stories" data-analytics-text="Open Source Communities" href="http://www.redhat.com/en/open-source">Open Source Communities
                                                    </a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>                </nav>                <div id="site-search" slot="search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <cp-search-autocomplete class="push-bottom" path="/webassets/avalon/j/data.json"></cp-search-autocomplete>                            <div>Or <a href="/support/cases/#/troubleshoot">troubleshoot an issue</a>.
                            </div>
                        </form>
                    </div>
                </div>


                <div slot="secondary-links" id="localesMenu">
                    <button class="pfe-navigation__secondary-link">
                        <pfe-icon icon="web-icon-globe" size="sm" aria-hidden="true"></pfe-icon>English
                    </button>

                    <pfe-navigation-dropdown dropdown-width="single">
                        <h2 class="utility-header">Select Your Language
                        </h2>
                        <ul class="reset">
                            <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en" data-analytics-text="English">English</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko" data-analytics-text="Korean">한국어</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja" data-analytics-text="Japanese">日本語</a></li>
                            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN" data-analytics-text="Chinese">中文 (中国)</a></li>
                        </ul>

                    </pfe-navigation-dropdown>
                </div>                <rh-account-dropdown slot="account"></rh-account-dropdown>                <pfe-primary-detail breakpoint-width="600" class="main-menu__dropdown--product__product-listing" slot="main-menu__dropdown--product__product-listing" consistent-height>
                    <h3 slot="details-nav">Infrastructure and Management                    </h3>
                    <div slot="details">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Enterprise Linux" href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Satellite" href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Subscription Management" href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Insights" href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights
                                </a>
                            </li>
                            <li><a data-analytics-level="3" data-analytics-category="Products and Services|Products:Infrastructure and Management" data-analytics-text="Red Hat Ansible Automation Platform" href="https://access.redhat.com/products/red-hat-ansible-automation-platform/">Red Hat Ansible Automation Platform
                                </a></li>
                        </ul>
                    </div>

                    <h3 slot="details-nav">Cloud Computing                    </h3>
                    <div slot="details">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift" href="https://access.redhat.com/products/openshift">Red Hat OpenShift
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenStack Platform" href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Container Platform" href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat OpenShift Data Science" href="https://access.redhat.com/products/red-hat-openshift-data-science/">Red Hat OpenShift Data Science
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Dedicated" href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing Platform" data-analytics-text="Red Hat Advanced Cluster Security for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/">Red Hat Advanced Cluster Security for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Advanced Cluster Management for Kubernetes" href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat Quay" href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat CodeReady Workspaces" href="https://access.redhat.com/products/red-hat-codeready-workspaces/">OpenShift Dev Spaces
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Cloud Computing" data-analytics-text="Red Hat OpenShift Service on AWS" href="https://access.redhat.com/products/red-hat-openshift-service-aws">Red Hat OpenShift Service on AWS
                                </a>
                            </li>
                        </ul>
                    </div>

                    <h3 slot="details-nav">Storage                    </h3>
                    <div slot="details">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Gluster Storage" href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Hyperconverged Infrastructure" href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Ceph Storage" href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Storage" data-analytics-text="Red Hat Openshift Container Storage" href="https://access.redhat.com/products/red-hat-openshift-data-foundation">Red Hat OpenShift Data Foundation
                                </a>
                            </li>
                        </ul>
                    </div>

                    <h3 slot="details-nav">Runtimes                    </h3>
                    <div slot="details">
                        <ul>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Runtimes" href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Enterprise Application Platform" href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Data Grid" href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat JBoss Web Server" href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat Single Sign On" href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat support for Spring Boot" href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Node.js" href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js
                                </a>
                            </li>                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Runtimes" data-analytics-text="Red Hat build of Quarkus" href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus
                                </a>
                            </li>
                        </ul>
                    </div>

                    <h3 slot="details-nav">Integration and Automation                    </h3>
                    <div slot="details">
                        <ul class="border-bottom" id="portal-menu-border-bottom">
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Application Foundations" href="https://access.redhat.com/products/red-hat-application-foundations/">Red Hat Application Foundations
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat Fuse" href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat AMQ" href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ
                                </a>
                            </li>
                            <li>
                                <a data-analytics-level="3" data-analytics-category="Products and Services|Products:Integration and Automation" data-analytics-text="Red Hat 3scale API Management" href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div slot="details-nav--footer">
                        <pfe-cta pfe-priority="primary">
                            <a href="https://access.redhat.com/products/" class="pfe-navigation__menu-link" data-analytics-level="2" data-analytics-text="All Products" data-analytics-category="Products and Services|Products:" data-analytics-linkType="cta">All Products
                            </a>
                        </pfe-cta>
                    </div>
                </pfe-primary-detail>

            </pfe-navigation>

            <div id="scroll-anchor"></div>

            <!--[if IE 8]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>
                You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
                </div>
            <![endif]-->
            <!--[if IE 9]>
                <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                <span class="icon-warning alert-icon" aria-hidden="true"></span>As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
                </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">                            <!-- /CP_PRIMER_HEADER -->

      <div class="container">
        

                                                                                                        <script>breadcrumbs = [["Products & Services","\/products\/"],["Product Documentation","\/documentation"],["OpenShift Container Platform","\/documentation\/en-us\/openshift_container_platform"],["4.13","\/documentation\/en-us\/openshift_container_platform\/4.13"],["Building applications","\/documentation\/en-us\/openshift_container_platform\/4.13\/html\/building_applications"],["Building applications","\/documentation\/en-us\/openshift_container_platform\/4.13\/html\/building_applications\/--single-page-document--"]]</script>

<div data-drupal-messages-fallback class="hidden"></div>


    </div>
        <div class="container">
        

  

  


  <article class="pvof-doc__content-wrapper__outer pvof-doc__content-wrapper__outer--css-not-removed">
    <script>
      'use strict';

            var $outerWrapper = document.querySelector('.pvof-doc__content-wrapper__outer');
      if ($outerWrapper && $outerWrapper.closest) {
        var $containerWrapper = $outerWrapper.closest('.container');
        if ($containerWrapper) {
          $containerWrapper.classList.remove('container');
          $containerWrapper.classList.add('j-chrome-content-container');
        }
      }

            var cssRemoved = false;
      try {
        var $crapCss = document.querySelectorAll(
          'link[href*="/chrome_themes/nimbus/css/pages.css"], link[href*="/chrome_themes/nimbus/css/components.css"]'
        );
        if ($crapCss.length) {
          for (let index = 0; index < $crapCss.length; index++) {
            const $stylesheet = $crapCss[index];
            $stylesheet.remove();
          }
        }
        cssRemoved = true;
      }
      catch (error) {
        console.error('Ran into an issue while trying to retheme page', error);
        cssRemoved = false;
      }

            if (cssRemoved) {
        var $pvofOuterWrapper = document.querySelector('.pvof-doc__content-wrapper__outer--css-not-removed');
        if ($pvofOuterWrapper) {
          $pvofOuterWrapper.classList.remove('pvof-doc__content-wrapper__outer--css-not-removed');
        }
      }
    </script>
    <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
    <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
    <div class="pvof-doc__content-wrapper pvof-doc__content-wrapper--has-sidebar">
                                <div class="pvof-doc__content-wrapper__inner j-superdoc j-superdoc--has-nav">
                            <div class="pvof-sidebar__wrapper j-doc-nav j-superdoc__nav">
            <div class="j-sidebar__menu-container">
              <button class="j-sidebar__menu-trigger content-expander__trigger">
                <span class="j-sidebar__menu-trigger__open-text">Jump To</span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>

              <div class="pvof-sidebar__inner-wrapper j-doc-nav__wrapper content-expander">
                <div class="j-sidebar__menu-details-container">
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--expand">
                    Expand all
                  </button>
                  <button class="j-sidebar__menu-details-button j-sidebar__menu-details-button--collapse">
                    Collapse all
                  </button>
                </div>
                

  <nav id="pvof-doc__toc" class="pvof-doc__toc">
  <h2 class="j-doc-nav__title" id="j-doc-nav__title">
    Table of contents
  </h2>
  <div class="pvof-doc__toc-inner">
              <ol class="j-doc-nav__list" aria-labelledby="j-doc-nav__title">
                  <li class="j-doc-nav__list-item">
                                    

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications" class="j-doc-nav__link ">
    Building applications
  </a>
  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#building-applications-overview" class="j-doc-nav__link j-doc-nav__link--has-children">
    1. Building applications overview
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "1. Building applications overview"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "1. Building applications overview"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#working-on-a-project" class="j-doc-nav__link ">
    1.1. Working on a project
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#working-on-application" class="j-doc-nav__link j-doc-nav__link--has-children">
    1.2. Working on an application
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "1.2. Working on an application"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "1.2. Working on an application"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-application" class="j-doc-nav__link ">
    1.2.1. Creating an application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#maintaining-application" class="j-doc-nav__link ">
    1.2.2. Maintaining an application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#connecting-application" class="j-doc-nav__link ">
    1.2.3. Connecting an application to services
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deploying-application" class="j-doc-nav__link ">
    1.2.4. Deploying an application
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#redhat-marketplace" class="j-doc-nav__link ">
    1.3. Using the Red Hat Marketplace
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#projects" class="j-doc-nav__link j-doc-nav__link--has-children">
    2. Projects
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2. Projects"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2. Projects"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#working-with-projects" class="j-doc-nav__link j-doc-nav__link--has-children">
    2.1. Working with projects
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2.1. Working with projects"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2.1. Working with projects"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-a-project-using-the-web-console_projects" class="j-doc-nav__link ">
    2.1.1. Creating a project using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-creating-projects-using-developer-perspective_projects" class="j-doc-nav__link ">
    2.1.2. Creating a project using the Developer perspective in the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-a-project-using-the-CLI_projects" class="j-doc-nav__link ">
    2.1.3. Creating a project using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#viewing-a-project-using-the-web-console_projects" class="j-doc-nav__link ">
    2.1.4. Viewing a project using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#viewing-a-project-using-the-CLI_projects" class="j-doc-nav__link ">
    2.1.5. Viewing a project using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-providing-project-permissions-using-developer-perspective_projects" class="j-doc-nav__link ">
    2.1.6. Providing access permissions to your project using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-customizing-available-cluster-roles-using-developer-perspective_projects" class="j-doc-nav__link ">
    2.1.7. Customizing the available cluster roles using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#adding-to-a-project_projects" class="j-doc-nav__link ">
    2.1.8. Adding to a project
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#checking-project-status-using-the-web-console_projects" class="j-doc-nav__link ">
    2.1.9. Checking project status using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#checking-project-status-using-the-CLI_projects" class="j-doc-nav__link ">
    2.1.10. Checking project status using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deleting-a-project-using-the-web-console_projects" class="j-doc-nav__link ">
    2.1.11. Deleting a project using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deleting-a-project-using-the-CLI_projects" class="j-doc-nav__link ">
    2.1.12. Deleting a project using the CLI
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-project-other-user" class="j-doc-nav__link j-doc-nav__link--has-children">
    2.2. Creating a project as another user
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2.2. Creating a project as another user"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2.2. Creating a project as another user"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#authentication-api-impersonation_creating-project-other-user" class="j-doc-nav__link ">
    2.2.1. API impersonation
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#impersonation-project-creation_creating-project-other-user" class="j-doc-nav__link ">
    2.2.2. Impersonating a user when you create a project
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#configuring-project-creation" class="j-doc-nav__link j-doc-nav__link--has-children">
    2.3. Configuring project creation
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "2.3. Configuring project creation"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "2.3. Configuring project creation"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#about-project-creation_configuring-project-creation" class="j-doc-nav__link ">
    2.3.1. About project creation
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#modifying-template-for-new-projects_configuring-project-creation" class="j-doc-nav__link ">
    2.3.2. Modifying the template for new projects
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#disabling-project-self-provisioning_configuring-project-creation" class="j-doc-nav__link ">
    2.3.3. Disabling project self-provisioning
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#customizing-project-request-message_configuring-project-creation" class="j-doc-nav__link ">
    2.3.4. Customizing the project request message
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-applications" class="j-doc-nav__link j-doc-nav__link--has-children">
    3. Creating applications
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3. Creating applications"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3. Creating applications"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-creating-applications-using-developer-perspective" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.1. Creating applications using the Developer perspective
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.1. Creating applications using the Developer perspective"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.1. Creating applications using the Developer perspective"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#prerequisites_odc-creating-applications-using-developer-perspective" class="j-doc-nav__link ">
    3.1.1. Prerequisites
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-creating-sample-applications_odc-creating-applications-using-developer-perspective" class="j-doc-nav__link ">
    3.1.2. Creating Sample applications
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-using-quickstarts_odc-creating-applications-using-developer-perspective" class="j-doc-nav__link ">
    3.1.3. Creating applications using Quick Starts
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-importing-codebase-from-git-to-create-application_odc-creating-applications-using-developer-perspective" class="j-doc-nav__link ">
    3.1.4. Importing a codebase from Git to create an application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-deploying-java-applications_odc-creating-applications-using-developer-perspective" class="j-doc-nav__link ">
    3.1.5. Deploying a Java application by uploading a JAR file
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-using-the-devfile-registry_odc-creating-applications-using-developer-perspective" class="j-doc-nav__link ">
    3.1.6. Using the Devfile registry to access devfiles
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-using-the-developer-catalog-to-add-services-or-components_odc-creating-applications-using-developer-perspective" class="j-doc-nav__link ">
    3.1.7. Using the Developer Catalog to add services or components to your application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources_odc-creating-applications-using-developer-perspective" class="j-doc-nav__link ">
    3.1.8. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-apps-from-installed-operators" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.2. Creating applications from installed Operators
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.2. Creating applications from installed Operators"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.2. Creating applications from installed Operators"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#olm-creating-etcd-cluster-from-operator_creating-apps-from-installed-operators" class="j-doc-nav__link ">
    3.2.1. Creating an etcd cluster using an Operator
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-applications-using-cli" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.3. Creating applications using the CLI
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.3. Creating applications using the CLI"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.3. Creating applications using the CLI"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#applications-create-using-cli-source-code_creating-applications-using-cli" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.3.1. Creating an application from source code
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.3.1. Creating an application from source code"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.3.1. Creating an application from source code"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#local_creating-applications-using-cli" class="j-doc-nav__link ">
    3.3.1.1. Local
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#remote_creating-applications-using-cli" class="j-doc-nav__link ">
    3.3.1.2. Remote
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#build-strategy-detection_creating-applications-using-cli" class="j-doc-nav__link ">
    3.3.1.3. Build strategy detection
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#language-detection_creating-applications-using-cli" class="j-doc-nav__link ">
    3.3.1.4. Language detection
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#applications-create-using-cli-image_creating-applications-using-cli" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.3.2. Creating an application from an image
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.3.2. Creating an application from an image"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.3.2. Creating an application from an image"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#docker-hub-mysql-image" class="j-doc-nav__link ">
    3.3.2.1. Docker Hub MySQL image
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#image-in-a-private-registry" class="j-doc-nav__link ">
    3.3.2.2. Image in a private registry
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#existing-image-stream-and-optional-image-stream-tag" class="j-doc-nav__link ">
    3.3.2.3. Existing image stream and optional image stream tag
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#applications-create-using-cli-template_creating-applications-using-cli" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.3.3. Creating an application from a template
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.3.3. Creating an application from a template"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.3.3. Creating an application from a template"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#template-parameters" class="j-doc-nav__link ">
    3.3.3.1. Template parameters
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#applications-create-using-cli-modify_creating-applications-using-cli" class="j-doc-nav__link j-doc-nav__link--has-children">
    3.3.4. Modifying application creation
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "3.3.4. Modifying application creation"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "3.3.4. Modifying application creation"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#specifying-environment-variables" class="j-doc-nav__link ">
    3.3.4.1. Specifying environment variables
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#specifying-build-environment-variables" class="j-doc-nav__link ">
    3.3.4.2. Specifying build environment variables
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#specifying-labels" class="j-doc-nav__link ">
    3.3.4.3. Specifying labels
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#viewing-the-output-without-creation" class="j-doc-nav__link ">
    3.3.4.4. Viewing the output without creation
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-objects-with-different-names" class="j-doc-nav__link ">
    3.3.4.5. Creating objects with different names
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-objects-in-a-different-project" class="j-doc-nav__link ">
    3.3.4.6. Creating objects in a different project
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-multiple-objects" class="j-doc-nav__link ">
    3.3.4.7. Creating multiple objects
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#grouping-images-and-source-in-a-single-pod" class="j-doc-nav__link ">
    3.3.4.8. Grouping images and source in a single pod
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#searching-for-images-templates-and-other-inputs" class="j-doc-nav__link ">
    3.3.4.9. Searching for images, templates, and other inputs
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-viewing-application-composition-using-topology-view" class="j-doc-nav__link j-doc-nav__link--has-children">
    4. Viewing application composition using the Topology view
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "4. Viewing application composition using the Topology view"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "4. Viewing application composition using the Topology view"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#prerequisites" class="j-doc-nav__link ">
    4.1. Prerequisites
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-viewing-application-topology_viewing-application-composition-using-topology-view" class="j-doc-nav__link ">
    4.2. Viewing the topology of your application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-interacting-with-applications-and-components_viewing-application-composition-using-topology-view" class="j-doc-nav__link ">
    4.3. Interacting with applications and components
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-scaling-application-pods-and-checking-builds-and-routes_viewing-application-composition-using-topology-view" class="j-doc-nav__link ">
    4.4. Scaling application pods and checking builds and routes
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-adding-components-to-an-existing-project_viewing-application-composition-using-topology-view" class="j-doc-nav__link ">
    4.5. Adding components to an existing project
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-grouping-multiple-components_viewing-application-composition-using-topology-view" class="j-doc-nav__link ">
    4.6. Grouping multiple components within an application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-adding-services-to-your-application_viewing-application-composition-using-topology-view" class="j-doc-nav__link ">
    4.7. Adding services to your application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-removing-services-from-your-application_viewing-application-composition-using-topology-view" class="j-doc-nav__link ">
    4.8. Removing services from your application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-labels-and-annotations-used-for-topology-view_viewing-application-composition-using-topology-view" class="j-doc-nav__link ">
    4.9. Labels and annotations used for the Topology view
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources" class="j-doc-nav__link ">
    4.10. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-exporting-applications" class="j-doc-nav__link j-doc-nav__link--has-children">
    5. Exporting applications
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "5. Exporting applications"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "5. Exporting applications"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#prerequisites_odc-exporting-applications" class="j-doc-nav__link ">
    5.1. Prerequisites
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-exporting-applications-procedure" class="j-doc-nav__link ">
    5.2. Procedure
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#connecting-applications-to-services" class="j-doc-nav__link j-doc-nav__link--has-children">
    6. Connecting applications to services
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6. Connecting applications to services"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6. Connecting applications to services"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1. Release notes for Service Binding Operator
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1. Release notes for Service Binding Operator"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1. Release notes for Service Binding Operator"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#support-matrix" class="j-doc-nav__link ">
    6.1.1. Support matrix
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#servicebinding-inclusive-language" class="j-doc-nav__link ">
    6.1.2. Making open source more inclusive
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-release-notes-1-3-3_servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1.3. Release notes for Service Binding Operator 1.3.3
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1.3. Release notes for Service Binding Operator 1.3.3"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1.3. Release notes for Service Binding Operator 1.3.3"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#fixed-issues-1-3-3_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.3.1. Fixed issues
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-release-notes-1-3-1_servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1.4. Release notes for Service Binding Operator 1.3.1
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1.4. Release notes for Service Binding Operator 1.3.1"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1.4. Release notes for Service Binding Operator 1.3.1"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#fixed-issues-1-3-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.4.1. Fixed issues
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-release-notes-1-3_servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1.5. Release notes for Service Binding Operator 1.3
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1.5. Release notes for Service Binding Operator 1.3"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1.5. Release notes for Service Binding Operator 1.3"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#removal-notice-1-3_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.5.1. Removed functionality
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-release-notes-1-2_servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1.6. Release notes for Service Binding Operator 1.2
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1.6. Release notes for Service Binding Operator 1.2"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1.6. Release notes for Service Binding Operator 1.2"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#new-features-1-2_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.6.1. New features
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#known-issues-1-2_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.6.2. Known issues
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-release-notes-1-1-1_servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1.7. Release notes for Service Binding Operator 1.1.1
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1.7. Release notes for Service Binding Operator 1.1.1"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1.7. Release notes for Service Binding Operator 1.1.1"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#fixed-issues-1-1-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.7.1. Fixed issues
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#known-issues-1-1-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.7.2. Known issues
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-release-notes-1-1_servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1.8. Release notes for Service Binding Operator 1.1
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1.8. Release notes for Service Binding Operator 1.1"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1.8. Release notes for Service Binding Operator 1.1"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#new-features-1-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.8.1. New features
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#fixed-issues-1-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.8.2. Fixed issues
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#known-issues-1-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.8.3. Known issues
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-release-notes-1-0-1_servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1.9. Release notes for Service Binding Operator 1.0.1
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1.9. Release notes for Service Binding Operator 1.0.1"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1.9. Release notes for Service Binding Operator 1.0.1"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#support-matrix-1-0-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.9.1. Support matrix
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#fixed-issues-1-0-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.9.2. Fixed issues
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#known-issues-1-0-1_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.9.3. Known issues
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-release-notes-1-0_servicebinding-release-notes" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.1.10. Release notes for Service Binding Operator 1.0
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.1.10. Release notes for Service Binding Operator 1.0"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.1.10. Release notes for Service Binding Operator 1.0"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#support-matrix-1-0_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.10.1. Support matrix
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#new-features-1-0_servicebinding-release-notes" class="j-doc-nav__link ">
    6.1.10.2. New features
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources_release-notes-sbo" class="j-doc-nav__link ">
    6.1.11. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#understanding-service-binding-operator" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.2. Understanding Service Binding Operator
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.2. Understanding Service Binding Operator"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.2. Understanding Service Binding Operator"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-service-binding-terminology_understanding-service-binding-operator" class="j-doc-nav__link ">
    6.2.1. Service Binding terminology
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-about-service-binding-operator_understanding-service-binding-operator" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.2.2. About Service Binding Operator
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.2.2. About Service Binding Operator"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.2.2. About Service Binding Operator"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#making-an-operator-managed-backing-service-bindable_understanding-service-binding-operator" class="j-doc-nav__link ">
    6.2.2.1. Making an Operator-managed backing service bindable
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#binding-a-workload-together-with-a-backing-service_understanding-service-binding-operator" class="j-doc-nav__link ">
    6.2.2.2. Binding a workload together with a backing service
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-key-features_understanding-service-binding-operator" class="j-doc-nav__link ">
    6.2.3. Key features
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-api-differences_understanding-service-binding-operator" class="j-doc-nav__link ">
    6.2.4. API differences
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources_understanding-sbo" class="j-doc-nav__link ">
    6.2.5. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#installing-sbo" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.3. Installing Service Binding Operator
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.3. Installing Service Binding Operator"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.3. Installing Service Binding Operator"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#op-installing-sbo-operator-using-the-web-console_installing-sbo" class="j-doc-nav__link ">
    6.3.1. Installing the Service Binding Operator using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources-2" class="j-doc-nav__link ">
    6.3.2. Additional Resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#getting-started-with-service-binding" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.4. Getting started with service binding
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.4. Getting started with service binding"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.4. Getting started with service binding"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-creating-a-postgresql-database-instance_getting-started-with-service-binding" class="j-doc-nav__link ">
    6.4.1. Creating a PostgreSQL database instance
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-deploying-the-spring-petclinic-sample-application_getting-started-with-service-binding" class="j-doc-nav__link ">
    6.4.2. Deploying the Spring PetClinic sample application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#connecting-the-spring-petclinic-sample-application-to-the-postgresql-database-service" class="j-doc-nav__link ">
    6.4.3. Connecting the Spring PetClinic sample application to the PostgreSQL database service
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources_getting-started-sbo" class="j-doc-nav__link ">
    6.4.4. Additional Resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#getting-started-with-service-binding-ibm-power-ibm-z" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.5. Getting started with service binding on IBM Power, IBM Z, and IBM(R) LinuxONE
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.5. Getting started with service binding on IBM Power, IBM Z, and IBM(R) LinuxONE"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.5. Getting started with service binding on IBM Power, IBM Z, and IBM(R) LinuxONE"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-deploying-a-postgresql-operator-instance-power-z_getting-started-with-service-binding-ibm-power-ibm-z" class="j-doc-nav__link ">
    6.5.1. Deploying a PostgreSQL Operator
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-creating-a-postgresql-database-instance-power-z_getting-started-with-service-binding-ibm-power-ibm-z" class="j-doc-nav__link ">
    6.5.2. Creating a PostgreSQL database instance
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-deploying-the-spring-petclinic-sample-application-ibm-power-z_getting-started-with-service-binding-ibm-power-ibm-z" class="j-doc-nav__link ">
    6.5.3. Deploying the Spring PetClinic sample application
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-connecting-spring-petclinic-sample-app-to-postgresql-database-service-ibm-power-z_getting-started-with-service-binding-ibm-power-ibm-z" class="j-doc-nav__link ">
    6.5.4. Connecting the Spring PetClinic sample application to the PostgreSQL database service
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources_getting-started-with-service-binding-ibm-power-ibm-z" class="j-doc-nav__link ">
    6.5.5. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-binding-data-from-a-service" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.6. Exposing binding data from a service
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.6. Exposing binding data from a service"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.6. Exposing binding data from a service"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-methods-of-exposing-binding-data_exposing-binding-data-from-a-service" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.6.1. Methods of exposing binding data
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.6.1. Methods of exposing binding data"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.6.1. Methods of exposing binding data"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#provisioned-service_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.1.1. Provisioned service
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#direct-secret-reference_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.1.2. Direct secret reference
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#declaring-binding-data-through-CRD-or-CR-annotations_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.1.3. Declaring binding data through CRD or CR annotations
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#detection-of-binding-data-through-owned-resources_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.1.4. Detection of binding data through owned resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-data-model_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.2. Data model
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-setting-annotations-mapping-optional_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.3. Setting annotations mapping to be optional
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-rbac-requirements_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.4. RBAC requirements
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-categories-of-exposable-binding-data_exposing-binding-data-from-a-service" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.6.5. Categories of exposable binding data
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.6.5. Categories of exposable binding data"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.6.5. Categories of exposable binding data"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-a-string-from-a-resource_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.5.1. Exposing a string from a resource
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-a-constant-value-as-the-binding-item_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.5.2. Exposing a constant value as the binding item
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-an-entire-config-map-or-secret-that-is-referenced-from-a-resource_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.5.3. Exposing an entire config map or secret that is referenced from a resource
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-a-specific-entry-from-a-config-map-or-secret-that-is-referenced-from-a-resource_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.5.4. Exposing a specific entry from a config map or secret that is referenced from a resource
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-a-resource-definition-value_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.5.5. Exposing a resource definition value
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-entries-of-a-collection-with-the-key-and-value-from-each-entry_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.5.6. Exposing entries of a collection with the key and value from each entry
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-items-of-a-collection-with-one-key-per-item_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.5.7. Exposing items of a collection with one key per item
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#exposing-values-of-collection-entries-with-one-key-per-entry-value_exposing-binding-data-from-a-service" class="j-doc-nav__link ">
    6.6.5.8. Exposing values of collection entries with one key per entry value
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources_exposing-binding-data" class="j-doc-nav__link ">
    6.6.6. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#projecting-binding-data" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.7. Projecting binding data
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.7. Projecting binding data"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.7. Projecting binding data"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#consumption-of-binding-data" class="j-doc-nav__link ">
    6.7.1. Consumption of binding data
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-configuration-of-directory-path-to-project-binding-data_projecting-binding-data" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.7.2. Configuration of the directory path to project the binding data inside workload container
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.7.2. Configuration of the directory path to project the binding data inside workload container"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.7.2. Configuration of the directory path to project the binding data inside workload container"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#computation-of-the-final-path-for-projecting-the-binding-data-as-files_projecting-binding-data" class="j-doc-nav__link ">
    6.7.2.1. Computation of the final path for projecting the binding data as files
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-projecting-the-binding-data_projecting-binding-data" class="j-doc-nav__link ">
    6.7.3. Projecting the binding data
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources_projecting-binding-data-sbo" class="j-doc-nav__link ">
    6.7.4. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#binding-workloads-using-sbo" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.8. Binding workloads using Service Binding Operator
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.8. Binding workloads using Service Binding Operator"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.8. Binding workloads using Service Binding Operator"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-naming-strategies_binding-workloads-using-sbo" class="j-doc-nav__link ">
    6.8.1. Naming strategies
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-advanced-binding-options_binding-workloads-using-sbo" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.8.2. Advanced binding options
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.8.2. Advanced binding options"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.8.2. Advanced binding options"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#changing-binding-names_binding-workloads-using-sbo" class="j-doc-nav__link ">
    6.8.2.1. Changing the binding names before projecting them into the workload
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#composing-custom-binding-data_binding-workloads-using-sbo" class="j-doc-nav__link ">
    6.8.2.2. Composing custom binding data
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#binding-workloads-using-a-label-selector_binding-workloads-using-sbo" class="j-doc-nav__link ">
    6.8.2.3. Binding workloads using a label selector
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-binding-workloads-that-are-not-compliant-with-PodSpec_binding-workloads-using-sbo" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.8.3. Binding secondary workloads that are not compliant with PodSpec
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.8.3. Binding secondary workloads that are not compliant with PodSpec"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.8.3. Binding secondary workloads that are not compliant with PodSpec"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#configuring-custom-location-of-container-path_binding-workloads-using-sbo" class="j-doc-nav__link ">
    6.8.3.1. Configuring the custom location of the container path
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#configuring-custom-location-of-secret-path_binding-workloads-using-sbo" class="j-doc-nav__link ">
    6.8.3.2. Configuring the custom location of the secret path
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#workload-resource-mapping_binding-workloads-using-sbo" class="j-doc-nav__link ">
    6.8.3.3. Workload resource mapping
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#sbo-unbinding-workloads-from-a-backing-service_binding-workloads-using-sbo" class="j-doc-nav__link ">
    6.8.4. Unbinding workloads from a backing service
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources_binding-workloads-sbo" class="j-doc-nav__link ">
    6.8.5. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-connecting-an-application-to-a-service-using-the-developer-perspective" class="j-doc-nav__link j-doc-nav__link--has-children">
    6.9. Connecting an application to a service using the Developer perspective
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "6.9. Connecting an application to a service using the Developer perspective"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "6.9. Connecting an application to a service using the Developer perspective"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-discovering-and-identifying-operator-backed-bindable-services_odc-connecting-an-application-to-a-service-using-the-developer-perspective" class="j-doc-nav__link ">
    6.9.1. Discovering and identifying Operator-backed bindable services
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-creating-a-visual-connection-between-components_odc-connecting-an-application-to-a-service-using-the-developer-perspective" class="j-doc-nav__link ">
    6.9.2. Creating a visual connection between components
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-creating-a-binding-connection-between-components_odc-connecting-an-application-to-a-service-using-the-developer-perspective" class="j-doc-nav__link ">
    6.9.3. Creating a binding connection between components
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-verifying-the-status-of-your-service-binding-from-the-topology-view_odc-connecting-an-application-to-a-service-using-the-developer-perspective" class="j-doc-nav__link ">
    6.9.4. Verifying the status of your service binding from the Topology view
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-visualizing-the-binding-connections-to-resources_odc-connecting-an-application-to-a-service-using-the-developer-perspective" class="j-doc-nav__link ">
    6.9.5. Visualizing the binding connections to resources
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources-odc-connecting-an-application-to-a-service-using-the-developer-perspective" class="j-doc-nav__link ">
    6.9.6. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#working-with-helm-charts" class="j-doc-nav__link j-doc-nav__link--has-children">
    7. Working with Helm charts
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7. Working with Helm charts"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7. Working with Helm charts"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#understanding-helm" class="j-doc-nav__link j-doc-nav__link--has-children">
    7.1. Understanding Helm
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7.1. Understanding Helm"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7.1. Understanding Helm"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#key-features" class="j-doc-nav__link ">
    7.1.1. Key features
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#red-hat-certification-of-helm-charts-for-openshift" class="j-doc-nav__link ">
    7.1.2. Red Hat Certification of Helm charts for OpenShift
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources-3" class="j-doc-nav__link ">
    7.1.3. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#installing-helm" class="j-doc-nav__link j-doc-nav__link--has-children">
    7.2. Installing Helm
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7.2. Installing Helm"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7.2. Installing Helm"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#on-linux" class="j-doc-nav__link ">
    7.2.1. On Linux
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#on-windows-7-8" class="j-doc-nav__link ">
    7.2.2. On Windows 7/8
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#on-windows-10" class="j-doc-nav__link ">
    7.2.3. On Windows 10
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#on-macos" class="j-doc-nav__link ">
    7.2.4. On MacOS
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#configuring-custom-helm-chart-repositories" class="j-doc-nav__link j-doc-nav__link--has-children">
    7.3. Configuring custom Helm chart repositories
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7.3. Configuring custom Helm chart repositories"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7.3. Configuring custom Helm chart repositories"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#installing-a-helm-chart-on-an-openshift-cluster_configuring-custom-helm-chart-repositories" class="j-doc-nav__link ">
    7.3.1. Installing a Helm chart on an OpenShift Container Platform cluster
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-creating-helm-releases-using-developer-perspective_configuring-custom-helm-chart-repositories" class="j-doc-nav__link ">
    7.3.2. Creating Helm releases using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#using-helm-in-the-web-terminal" class="j-doc-nav__link ">
    7.3.3. Using Helm in the web terminal
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-a-custom-helm-chart-on-openshift_configuring-custom-helm-chart-repositories" class="j-doc-nav__link ">
    7.3.4. Creating a custom Helm chart on OpenShift Container Platform
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#adding-helm-chart-repositories_configuring-custom-helm-chart-repositories" class="j-doc-nav__link ">
    7.3.5. Adding custom Helm chart repositories
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#adding-namespace-scoped-helm-chart-repositories.adoc_configuring-custom-helm-chart-repositories" class="j-doc-nav__link ">
    7.3.6. Adding namespace-scoped custom Helm chart repositories
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#creating-credentials-and-certificates-to-add-helm-repositories_configuring-custom-helm-chart-repositories" class="j-doc-nav__link ">
    7.3.7. Creating credentials and CA certificates to add Helm chart repositories
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#filtering-helm-charts-by-certification-level_configuring-custom-helm-chart-repositories" class="j-doc-nav__link ">
    7.3.8. Filtering Helm Charts by their certification level
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#helm-disabling-helm-chart-repositories_configuring-custom-helm-chart-repositories" class="j-doc-nav__link ">
    7.3.9. Disabling Helm Chart repositories
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-working-with-helm-releases" class="j-doc-nav__link j-doc-nav__link--has-children">
    7.4. Working with Helm releases
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "7.4. Working with Helm releases"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "7.4. Working with Helm releases"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#prerequisites-5" class="j-doc-nav__link ">
    7.4.1. Prerequisites
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-upgrading-helm-release_working-with-helm-releases" class="j-doc-nav__link ">
    7.4.2. Upgrading a Helm release
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-rolling-back-helm-release_working-with-helm-releases" class="j-doc-nav__link ">
    7.4.3. Rolling back a Helm release
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-deleting-helm-release_working-with-helm-releases" class="j-doc-nav__link ">
    7.4.4. Deleting a Helm release
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments" class="j-doc-nav__link j-doc-nav__link--has-children">
    8. Deployments
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8. Deployments"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8. Deployments"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#what-deployments-are" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.1. Understanding Deployment and DeploymentConfig objects
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.1. Understanding Deployment and DeploymentConfig objects"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.1. Understanding Deployment and DeploymentConfig objects"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#what-deployments-are-build-blocks" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.1.1. Building blocks of a deployment
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.1.1. Building blocks of a deployment"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.1.1. Building blocks of a deployment"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-repliasets_what-deployments-are" class="j-doc-nav__link ">
    8.1.1.1. Replica sets
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-replicationcontrollers_what-deployments-are" class="j-doc-nav__link ">
    8.1.1.2. Replication controllers
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-kube-deployments_what-deployments-are" class="j-doc-nav__link ">
    8.1.2. Deployments
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-and-deploymentconfigs_what-deployments-are" class="j-doc-nav__link ">
    8.1.3. DeploymentConfig objects
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-comparing-deploymentconfigs_what-deployments-are" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.1.4. Comparing Deployment and DeploymentConfig objects
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.1.4. Comparing Deployment and DeploymentConfig objects"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.1.4. Comparing Deployment and DeploymentConfig objects"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-design_what-deployments-are" class="j-doc-nav__link ">
    8.1.4.1. Design
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#delpoyments-specific-features_what-deployments-are" class="j-doc-nav__link ">
    8.1.4.2. Deployment-specific features
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#delpoymentconfigs-specific-features_what-deployments-are" class="j-doc-nav__link ">
    8.1.4.3. DeploymentConfig object-specific features
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployment-operations" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.2. Managing deployment processes
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.2. Managing deployment processes"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.2. Managing deployment processes"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deploymentconfig-operations" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.2.1. Managing DeploymentConfig objects
  </a>
                              <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.2.1. Managing DeploymentConfig objects"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.2.1. Managing DeploymentConfig objects"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-starting-a-deployment_deployment-operations" class="j-doc-nav__link ">
    8.2.1.1. Starting a deployment
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-viewing-a-deployment_deployment-operations" class="j-doc-nav__link ">
    8.2.1.2. Viewing a deployment
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-retrying-deployment_deployment-operations" class="j-doc-nav__link ">
    8.2.1.3. Retrying a deployment
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-rolling-back_deployment-operations" class="j-doc-nav__link ">
    8.2.1.4. Rolling back a deployment
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-exe-cmd-in-container_deployment-operations" class="j-doc-nav__link ">
    8.2.1.5. Executing commands inside a container
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-viewing-logs_deployment-operations" class="j-doc-nav__link ">
    8.2.1.6. Viewing deployment logs
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-triggers_deployment-operations" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.2.1.7. Deployment triggers
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.2.1.7. Deployment triggers"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.2.1.7. Deployment triggers"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-setting-triggers_deployment-operations" class="j-doc-nav__link ">
    8.2.1.7.1. Setting deployment triggers
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-setting-resources_deployment-operations" class="j-doc-nav__link ">
    8.2.1.8. Setting deployment resources
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-scaling-manually_deployment-operations" class="j-doc-nav__link ">
    8.2.1.9. Scaling manually
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-accessing-private-repos_deployment-operations" class="j-doc-nav__link ">
    8.2.1.10. Accessing private repositories from DeploymentConfig objects
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-assigning-pods-to-nodes_deployment-operations" class="j-doc-nav__link ">
    8.2.1.11. Assigning pods to specific nodes
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-running-pod-svc-acct_deployment-operations" class="j-doc-nav__link ">
    8.2.1.12. Running a pod with a different service account
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployment-strategies" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.3. Using deployment strategies
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.3. Using deployment strategies"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.3. Using deployment strategies"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#choosing-deployment-strategies" class="j-doc-nav__link ">
    8.3.1. Choosing a deployment strategy
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-rolling-strategy_deployment-strategies" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.3.2. Rolling strategy
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.3.2. Rolling strategy"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.3.2. Rolling strategy"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-canary-deployments_deployment-strategies" class="j-doc-nav__link ">
    8.3.2.1. Canary deployments
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-creating-rolling-deployment_deployment-strategies" class="j-doc-nav__link ">
    8.3.2.2. Creating a rolling deployment
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-editing-deployments_rolling-strategy" class="j-doc-nav__link ">
    8.3.2.3. Editing a deployment by using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-starting-rolling-deployment_rolling-strategy" class="j-doc-nav__link ">
    8.3.2.4. Starting a rolling deployment using the Developer perspective
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-recreate-strategy_rolling-strategy" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.3.3. Recreate strategy
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.3.3. Recreate strategy"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.3.3. Recreate strategy"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-editing-deployments_recreate-strategy" class="j-doc-nav__link ">
    8.3.3.1. Editing a deployment by using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-starting-recreate-deployment_recreate-strategy" class="j-doc-nav__link ">
    8.3.3.2. Starting a recreate deployment using the Developer perspective
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-custom-strategy_recreate-strategy" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.3.4. Custom strategy
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.3.4. Custom strategy"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.3.4. Custom strategy"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-editing-deployments_custom-strategy" class="j-doc-nav__link ">
    8.3.4.1. Editing a deployment by using the Developer perspective
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-lifecycle-hooks_custom-strategy" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.3.5. Lifecycle hooks
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.3.5. Lifecycle hooks"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.3.5. Lifecycle hooks"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-setting-lifecycle-hooks_custom-strategy" class="j-doc-nav__link ">
    8.3.5.1. Setting lifecycle hooks
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#route-based-deployment-strategies" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.4. Using route-based deployment strategies
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.4. Using route-based deployment strategies"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.4. Using route-based deployment strategies"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-proxy-shard_route-based-deployment-strategies" class="j-doc-nav__link ">
    8.4.1. Proxy shards and traffic splitting
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-n1-compatibility_route-based-deployment-strategies" class="j-doc-nav__link ">
    8.4.2. N-1 compatibility
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-graceful-termination_route-based-deployment-strategies" class="j-doc-nav__link ">
    8.4.3. Graceful termination
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-blue-green_route-based-deployment-strategies" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.4.4. Blue-green deployments
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.4.4. Blue-green deployments"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.4.4. Blue-green deployments"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-blue-green-setting-up_route-based-deployment-strategies" class="j-doc-nav__link ">
    8.4.4.1. Setting up a blue-green deployment
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-ab-testing_route-based-deployment-strategies" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.4.5. A/B deployments
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.4.5. A/B deployments"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.4.5. A/B deployments"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-ab-testing-lb_route-based-deployment-strategies" class="j-doc-nav__link j-doc-nav__link--has-children">
    8.4.5.1. Load balancing for A/B testing
  </a>
                              <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "8.4.5.1. Load balancing for A/B testing"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "8.4.5.1. Load balancing for A/B testing"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-ab-testing-lb-web_route-based-deployment-strategies" class="j-doc-nav__link ">
    8.4.5.1.1. Managing weights of an existing route using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-ab-testing-lb-web-new-route_route-based-deployment-strategies" class="j-doc-nav__link ">
    8.4.5.1.2. Managing weights of an new route using the web console
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-ab-testing-lb-cli_route-based-deployment-strategies" class="j-doc-nav__link ">
    8.4.5.1.3. Managing weights using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#deployments-ab-one-service-multi-dc_route-based-deployment-strategies" class="j-doc-nav__link ">
    8.4.5.1.4. One service, multiple Deployment objects
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas" class="j-doc-nav__link j-doc-nav__link--has-children">
    9. Quotas
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "9. Quotas"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "9. Quotas"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-setting-per-project" class="j-doc-nav__link j-doc-nav__link--has-children">
    9.1. Resource quotas per project
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "9.1. Resource quotas per project"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "9.1. Resource quotas per project"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-resources-managed_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.1. Resources managed by quotas
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-scopes_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.2. Quota scopes
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quota-enforcement_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.3. Quota enforcement
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-requests-vs-limits_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.4. Requests versus limits
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-sample-resource-quota-definitions_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.5. Sample resource quota definitions
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-creating-a-quota_quotas-setting-per-project" class="j-doc-nav__link j-doc-nav__link--has-children">
    9.1.6. Creating a quota
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "9.1.6. Creating a quota"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "9.1.6. Creating a quota"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quota-creating-object-count-quotas_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.6.1. Creating object count quotas
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#setting-resource-quota-for-extended-resources_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.6.2. Setting resource quota for extended resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quota-viewing-quotas_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.7. Viewing a quota
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#configuring-explicit-resource-quotas_quotas-setting-per-project" class="j-doc-nav__link ">
    9.1.8. Configuring explicit resource quotas
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#setting-quotas-across-multiple-projects" class="j-doc-nav__link j-doc-nav__link--has-children">
    9.2. Resource quotas across multiple projects
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "9.2. Resource quotas across multiple projects"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "9.2. Resource quotas across multiple projects"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-setting-projects_setting-quotas-across-multiple-projects" class="j-doc-nav__link ">
    9.2.1. Selecting multiple projects during quota creation
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-viewing-clusterresourcequotas_setting-quotas-across-multiple-projects" class="j-doc-nav__link ">
    9.2.2. Viewing applicable cluster resource quotas
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#quotas-selection-granularity_setting-quotas-across-multiple-projects" class="j-doc-nav__link ">
    9.2.3. Selection granularity
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#config-maps" class="j-doc-nav__link j-doc-nav__link--has-children">
    10. Using config maps with applications
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "10. Using config maps with applications"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "10. Using config maps with applications"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#nodes-pods-configmap-overview_config-maps" class="j-doc-nav__link ">
    10.1. Understanding config maps
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#nodes-pods-config-maps-consuming-configmap-in-pods" class="j-doc-nav__link j-doc-nav__link--has-children">
    10.2. Use cases: Consuming config maps in pods
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "10.2. Use cases: Consuming config maps in pods"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "10.2. Use cases: Consuming config maps in pods"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#nodes-pods-configmaps-use-case-consuming-in-env-vars_config-maps" class="j-doc-nav__link ">
    10.2.1. Populating environment variables in containers by using config maps
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#nodes-pods-configmaps-use-case-setting-command-line-arguments_config-maps" class="j-doc-nav__link ">
    10.2.2. Setting command-line arguments for container commands with config maps
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#nodes-pods-configmaps-use-case-consuming-in-volumes_config-maps" class="j-doc-nav__link ">
    10.2.3. Injecting content into a volume by using config maps
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-monitoring-project-and-application-metrics-using-developer-perspective" class="j-doc-nav__link j-doc-nav__link--has-children">
    11. Monitoring project and application metrics using the Developer perspective
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "11. Monitoring project and application metrics using the Developer perspective"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "11. Monitoring project and application metrics using the Developer perspective"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#prerequisites_odc-monitoring-project-and-application-metrics-using-developer-perspective" class="j-doc-nav__link ">
    11.1. Prerequisites
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-monitoring-your-project-metrics_monitoring-project-and-application-metrics-using-developer-perspective" class="j-doc-nav__link ">
    11.2. Monitoring your project metrics
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-monitoring-your-application-metrics_monitoring-project-and-application-metrics-using-developer-perspective" class="j-doc-nav__link ">
    11.3. Monitoring your application metrics
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-image-vulnerabilities-breakdown_monitoring-project-and-application-metrics-using-developer-perspective" class="j-doc-nav__link ">
    11.4. Image vulnerabilities breakdown
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-monitoring-your-application-image-vulnerabilities-metrics_monitoring-project-and-application-metrics-using-developer-perspective" class="j-doc-nav__link ">
    11.5. Monitoring your application and image vulnerabilities metrics
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#additional-resources-odc-monitoring-project-and-application-metrics-using-developer-perspective" class="j-doc-nav__link ">
    11.6. Additional resources
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#application-health" class="j-doc-nav__link j-doc-nav__link--has-children">
    12. Monitoring application health by using health checks
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "12. Monitoring application health by using health checks"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "12. Monitoring application health by using health checks"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#application-health-about_application-health" class="j-doc-nav__link ">
    12.1. Understanding health checks
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#application-health-configuring_application-health" class="j-doc-nav__link ">
    12.2. Configuring health checks using the CLI
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-monitoring-application-health-using-developer-perspective" class="j-doc-nav__link ">
    12.3. Monitoring application health using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-adding-health-checks" class="j-doc-nav__link ">
    12.4. Adding health checks using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-editing-health-checks" class="j-doc-nav__link ">
    12.5. Editing health checks using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-monitoring-health-checks" class="j-doc-nav__link ">
    12.6. Monitoring health check failures using the Developer perspective
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-editing-applications" class="j-doc-nav__link j-doc-nav__link--has-children">
    13. Editing applications
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "13. Editing applications"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "13. Editing applications"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#prerequisites-6" class="j-doc-nav__link ">
    13.1. Prerequisites
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-editing-source-code-using-developer-perspective_odc-editing-applications" class="j-doc-nav__link ">
    13.2. Editing the source code of an application using the Developer perspective
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-editing-application-configuration-using-developer-perspective_odc-editing-applications" class="j-doc-nav__link ">
    13.3. Editing the application configuration using the Developer perspective
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-objects" class="j-doc-nav__link j-doc-nav__link--has-children">
    14. Pruning objects to reclaim resources
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "14. Pruning objects to reclaim resources"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "14. Pruning objects to reclaim resources"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-basic-operations_pruning-objects" class="j-doc-nav__link ">
    14.1. Basic pruning operations
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-groups_pruning-objects" class="j-doc-nav__link ">
    14.2. Pruning groups
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-deployments_pruning-objects" class="j-doc-nav__link ">
    14.3. Pruning deployment resources
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-builds_pruning-objects" class="j-doc-nav__link ">
    14.4. Pruning builds
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-images_pruning-objects" class="j-doc-nav__link ">
    14.5. Automatically pruning images
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-images-manual_pruning-objects" class="j-doc-nav__link j-doc-nav__link--has-children">
    14.6. Manually pruning images
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "14.6. Manually pruning images"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "14.6. Manually pruning images"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-images-conditions_pruning-objects" class="j-doc-nav__link ">
    14.6.1. Image prune conditions
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-images-running-operation_pruning-objects" class="j-doc-nav__link ">
    14.6.2. Running the image prune operation
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-images-secure-insecure_pruning-objects" class="j-doc-nav__link ">
    14.6.3. Using secure or insecure connections
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-images-problems_pruning-objects" class="j-doc-nav__link ">
    14.6.4. Image pruning problems
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-hard-pruning-registry_pruning-objects" class="j-doc-nav__link ">
    14.7. Hard pruning the registry
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#pruning-cronjobs_pruning-objects" class="j-doc-nav__link ">
    14.8. Pruning cron jobs
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#idling-applications" class="j-doc-nav__link j-doc-nav__link--has-children">
    15. Idling applications
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "15. Idling applications"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "15. Idling applications"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#idle-idling-applications_idling-applications" class="j-doc-nav__link j-doc-nav__link--has-children">
    15.1. Idling applications
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "15.1. Idling applications"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "15.1. Idling applications"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#idle-idling-applications-single_idling-applications" class="j-doc-nav__link ">
    15.1.1. Idling a single service
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#idle-idling-applications-multiple_idling-applications" class="j-doc-nav__link ">
    15.1.2. Idling multiple services
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#idle-unidling-applications_idling-applications" class="j-doc-nav__link ">
    15.2. Unidling applications
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-deleting-applications" class="j-doc-nav__link j-doc-nav__link--has-children">
    16. Deleting applications
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "16. Deleting applications"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "16. Deleting applications"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#odc-deleting-applications-using-developer-perspective_odc-deleting-applications" class="j-doc-nav__link ">
    16.1. Deleting applications using the Developer perspective
  </a>
  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                      

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#red-hat-marketplace" class="j-doc-nav__link j-doc-nav__link--has-children">
    17. Using the Red Hat Marketplace
  </a>
                    <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "17. Using the Red Hat Marketplace"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "17. Using the Red Hat Marketplace"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                          

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#red-hat-marketplace-features_red-hat-marketplace" class="j-doc-nav__link j-doc-nav__link--has-children">
    17.1. Red Hat Marketplace features
  </a>
                              <button class="j-doc-nav__children-toggle content-expander__trigger">
        <span class="visually-hidden j-doc-nav__children-toggle__expand-text">
          Expand section "17.1. Red Hat Marketplace features"
        </span>
        <span class="visually-hidden  j-doc-nav__children-toggle__collapse-text">
          Collapse section "17.1. Red Hat Marketplace features"
        </span>
      </button>

      <ol class="j-doc-nav__subnav j-superdoc-subnav content-expander">
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#marketplace-clusters_red-hat-marketplace" class="j-doc-nav__link ">
    17.1.1. Connect OpenShift Container Platform clusters to the Marketplace
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#marketplace-install-applications_red-hat-marketplace" class="j-doc-nav__link ">
    17.1.2. Install applications
  </a>
  
          </li>
                  <li class="j-superdoc-subnav__item">
                        

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#marketplace-deploy_red-hat-marketplace" class="j-doc-nav__link ">
    17.1.3. Deploy applications from different perspectives
  </a>
  
          </li>
              </ol>

  
          </li>
              </ol>

  
          </li>
                  <li class="j-doc-nav__list-item">
                                    

    <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications#idm140419029580512" class="j-doc-nav__link ">
    Legal Notice
  </a>
  
          </li>
              </ol>
    
  </div>
</nav>


              </div>
            </div>
            <div class="j-options-container j-options-container--mobile">
              <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--options content-expander__trigger">
                <span class="j-sidebar__menu-trigger__open-headline">
                  Settings
                </span>
                <span class="j-sidebar__menu-trigger__close-text">Close</span>
              </button>
              

  <ul class="j-doc-options__list content-expander">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language">
        Language:
      </label>
      <select id="j-doc-language" class="j-doc-option__select">
                  <option value="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications" selected=''>
            English
          </option>
                  <option value="/documentation/ko-kr/openshift_container_platform/4.13/html-single/building_applications" >
            한국어
          </option>
                  <option value="/documentation/ja-jp/openshift_container_platform/4.13/html-single/building_applications" >
            日本語
          </option>
                  <option value="/documentation/zh-cn/openshift_container_platform/4.13/html-single/building_applications" >
            简体中文
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications">English</a>
            </li>
                      <li>
              <a href="/documentation/ko-kr/openshift_container_platform/4.13/html-single/building_applications">한국어</a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/openshift_container_platform/4.13/html-single/building_applications">日本語</a>
            </li>
                      <li>
              <a href="/documentation/zh-cn/openshift_container_platform/4.13/html-single/building_applications">简体中文</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode" class="j-doc-option__select">
              <option value="/documentation/en-us/openshift_container_platform/4.13/html/building_applications"  class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications" selected='' class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/openshift_container_platform/4.13/pdf/building_applications/OpenShift_Container_Platform-4.13-Building_applications-en-US.pdf"  class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/openshift_container_platform/4.13/html/building_applications">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/openshift_container_platform/4.13/pdf/building_applications/OpenShift_Container_Platform-4.13-Building_applications-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


              </div>
          </div>
                <div class="pvof-doc__tertiary-sidebar j-doc__tertiary-sidebar">
          <div class="pvof-doc__tertiary-sidebar__inner j-doc__tertiary-sidebar__inner">
            <div class="j-doc__doc-options">
              <div class="j-options-container j-options-container--desktop">
                <button class="j-sidebar__menu-trigger j-sidebar__menu-trigger--tablet content-expander__trigger">
                  <span class="j-sidebar__menu-trigger-icon"></span>
                  <h2 class="visually-hidden">Language and Page Formatting Options</h2>
                </button>
                  

  <ul class="j-doc-options__list content-expander">
    <li class="j-doc-options__item">
          <label class="j-doc-option__label j-doc-option__label--language" for="j-doc-language--2">
        Language:
      </label>
      <select id="j-doc-language--2" class="j-doc-option__select">
                  <option value="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications" selected=''>
            English
          </option>
                  <option value="/documentation/ko-kr/openshift_container_platform/4.13/html-single/building_applications" >
            한국어
          </option>
                  <option value="/documentation/ja-jp/openshift_container_platform/4.13/html-single/building_applications" >
            日本語
          </option>
                  <option value="/documentation/zh-cn/openshift_container_platform/4.13/html-single/building_applications" >
            简体中文
          </option>
              </select>

            <noscript>
        <div class="j-doc-option__label j-doc-option__label--language" id="j-doc-option__label--language--nojs">
          Language:
        </div>
        <ul aria-labelledby="j-doc-option__label--language--nojs" class="j-doc-option__languages-list">
                      <li>
              <a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications">English</a>
            </li>
                      <li>
              <a href="/documentation/ko-kr/openshift_container_platform/4.13/html-single/building_applications">한국어</a>
            </li>
                      <li>
              <a href="/documentation/ja-jp/openshift_container_platform/4.13/html-single/building_applications">日本語</a>
            </li>
                      <li>
              <a href="/documentation/zh-cn/openshift_container_platform/4.13/html-single/building_applications">简体中文</a>
            </li>
                  </ul>
      </noscript>

      </li>

    <li class="j-doc-options__item">
    <label for="j-doc-mode--2" class="j-doc-option__label j-doc-option__label--format">
      Format:
    </label>
    <select id="j-doc-mode--2" class="j-doc-option__select">
              <option value="/documentation/en-us/openshift_container_platform/4.13/html/building_applications"  class="j-doc-options__option j-doc-options__option--multi-page">
          Multi-page
        </option>
              <option value="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications" selected='' class="j-doc-options__option j-doc-options__option--single-page">
          Single-page
        </option>
              <option value="/documentation/en-us/openshift_container_platform/4.13/pdf/building_applications/OpenShift_Container_Platform-4.13-Building_applications-en-US.pdf"  class="j-doc-options__option j-doc-options__option--pdf">
          PDF
        </option>
          </select>

        <noscript>
      <div class="j-doc-option__label j-doc-option__label--format" id="j-doc-option__label--format--nojs">
        Format:
      </div>
      <ul class="j-doc-option__format-list" aria-labelledby="j-doc-option__label--format--nojs">
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--multi-page"><a href="/documentation/en-us/openshift_container_platform/4.13/html/building_applications">Multi-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--single-page"><a href="/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications">Single-page</a></li>
                  <li class="j-doc-mode-no-js__link j-doc-mode-no-js__link--pdf"><a href="/documentation/en-us/openshift_container_platform/4.13/pdf/building_applications/OpenShift_Container_Platform-4.13-Building_applications-en-US.pdf">PDF</a></li>
              </ul>
    </noscript>
  </li>
</ul>


                </div>
              </div>
          </div>
        </div>

                  <div class="doc-wrapper pvof-doc__wrapper j-superdoc__content-wrapper" id="doc-wrapper">
            

  <div class="pane-page-title">
    <h1 class="title" itemprop="name">Building applications</h1>
  </div>


  <div xml:lang="en-US" class="book" id="idm140419009679872"><div class="titlepage"><div><div class="producttitle"><span class="productname">OpenShift Container Platform</span> <span class="productnumber">4.13</span></div><div><h2 class="subtitle">Creating and managing applications on OpenShift Container Platform </h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat OpenShift Documentation Team</span></div></div><div><a href="#idm140419029580512">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This document provides instructions for the various ways to create and manage instances of user-provisioned applications running on OpenShift Container Platform. This includes working with projects and provisioning applications using the Open Service Broker API.
			</div></div></div></div><hr/></div><section class="chapter" id="building-applications-overview"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Building applications overview</h1></div></div></div><p>
			Using OpenShift Container Platform, you can create, edit, delete, and manage applications using the web console or command line interface (CLI).
		</p><section class="section" id="working-on-a-project"><div class="titlepage"><div><div><h2 class="title">1.1. Working on a project</h2></div></div></div><p>
				Using projects, you can organize and manage applications in isolation. You can manage the entire project lifecycle, including <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#working-with-projects">creating, viewing, and deleting a project</a> in OpenShift Container Platform.
			</p><p>
				After you create the project, you can <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-providing-project-permissions-using-developer-perspective_projects">grant or revoke access to a project</a> and <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-customizing-available-cluster-roles-using-developer-perspective_projects">manage cluster roles</a> for the users using the Developer perspective. You can also <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#configuring-project-creation">edit the project configuration resource</a> while creating a project template that is used for automatic provisioning of new projects.
			</p><p>
				Using the CLI, you can <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#creating-project-other-user">create a project as a different user</a> by impersonating a request to the OpenShift Container Platform API. When you make a request to create a new project, the OpenShift Container Platform uses an endpoint to provision the project according to a customizable template. As a cluster administrator, you can choose to <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#disabling-project-self-provisioning_configuring-project-creation">prevent an authenticated user group from self-provisioning new projects</a>.
			</p></section><section class="section" id="working-on-application"><div class="titlepage"><div><div><h2 class="title">1.2. Working on an application</h2></div></div></div><section class="section" id="creating-application"><div class="titlepage"><div><div><h3 class="title">1.2.1. Creating an application</h3></div></div></div><p>
					To create applications, you must have created a project or have access to a project with the appropriate roles and permissions. You can create an application by using either <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">the Developer perspective in the web console</a>, <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#creating-apps-from-installed-operators">installed Operators</a>, or <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#creating-applications-using-cli">the OpenShift Container Platform CLI</a>. You can source the applications to be added to the project from Git, JAR files, devfiles, or the developer catalog.
				</p><p>
					You can also use components that include source or binary code, images, and templates to create an application by using the OpenShift Container Platform CLI. With the OpenShift Container Platform web console, you can create an application from an Operator installed by a cluster administrator.
				</p></section><section class="section" id="maintaining-application"><div class="titlepage"><div><div><h3 class="title">1.2.2. Maintaining an application</h3></div></div></div><p>
					After you create the application you can use the web console to <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-monitoring-project-and-application-metrics-using-developer-perspective">monitor your project or application metrics</a>. You can also <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-editing-applications">edit</a> or <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-deleting-applications">delete</a> the application using the web console. When the application is running, not all applications resources are used. As a cluster administrator, you can choose to <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#idling-applications">idle these scalable resources</a> to reduce resource consumption.
				</p></section><section class="section" id="connecting-application"><div class="titlepage"><div><div><h3 class="title">1.2.3. Connecting an application to services</h3></div></div></div><p>
					An application uses backing services to build and connect workloads, which vary according to the service provider. Using the <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#understanding-service-binding-operator">Service Binding Operator</a>, as a developer, you can bind workloads together with Operator-managed backing services, without any manual procedures to configure the binding connection. You can apply service binding also on <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#getting-started-with-service-binding-ibm-power-ibm-z">IBM Power, IBM Z, and IBM® LinuxONE environments</a>.
				</p></section><section class="section" id="deploying-application"><div class="titlepage"><div><div><h3 class="title">1.2.4. Deploying an application</h3></div></div></div><p>
					You can deploy your application using <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#what-deployments-are"><code class="literal">Deployment</code> or <code class="literal">DeploymentConfig</code></a> objects and <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#deployment-operations">manage</a> them from the web console. You can create <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#deployment-strategies">deployment strategies</a> that help reduce downtime during a change or an upgrade to the application.
				</p><p>
					You can also use <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#understanding-helm">Helm</a>, a software package manager that simplifies deployment of applications and services to OpenShift Container Platform clusters.
				</p></section></section><section class="section" id="redhat-marketplace"><div class="titlepage"><div><div><h2 class="title">1.3. Using the Red Hat Marketplace</h2></div></div></div><p>
				The <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#red-hat-marketplace">Red Hat Marketplace</a> is an open cloud marketplace where you can discover and access certified software for container-based environments that run on public clouds and on-premises.
			</p></section></section><section class="chapter" id="projects"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Projects</h1></div></div></div><section class="section" id="working-with-projects"><div class="titlepage"><div><div><h2 class="title">2.1. Working with projects</h2></div></div></div><p>
				A <span class="emphasis"><em>project</em></span> allows a community of users to organize and manage their content in isolation from other communities.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Projects starting with <code class="literal">openshift-</code> and <code class="literal">kube-</code> are <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/authentication_and_authorization/#rbac-default-projects_using-rbac">default projects</a>. These projects host cluster components that run as pods and other infrastructure components. As such, OpenShift Container Platform does not allow you to create projects starting with <code class="literal">openshift-</code> or <code class="literal">kube-</code> using the <code class="literal">oc new-project</code> command. Cluster administrators can create these projects using the <code class="literal">oc adm new-project</code> command.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You cannot assign an SCC to pods created in one of the default namespaces: <code class="literal">default</code>, <code class="literal">kube-system</code>, <code class="literal">kube-public</code>, <code class="literal">openshift-node</code>, <code class="literal">openshift-infra</code>, and <code class="literal">openshift</code>. You cannot use these namespaces for running pods or services.
				</p></div></div><section class="section" id="creating-a-project-using-the-web-console_projects"><div class="titlepage"><div><div><h3 class="title">2.1.1. Creating a project using the web console</h3></div></div></div><p>
					If allowed by your cluster administrator, you can create a new project.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Projects starting with <code class="literal">openshift-</code> and <code class="literal">kube-</code> are considered critical by OpenShift Container Platform. As such, OpenShift Container Platform does not allow you to create Projects starting with <code class="literal">openshift-</code> using the web console.
					</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You cannot assign an SCC to pods created in one of the default namespaces: <code class="literal">default</code>, <code class="literal">kube-system</code>, <code class="literal">kube-public</code>, <code class="literal">openshift-node</code>, <code class="literal">openshift-infra</code>, and <code class="literal">openshift</code>. You cannot use these namespaces for running pods or services.
					</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Home</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Create Project</strong></span>.
						</li><li class="listitem">
							Enter your project details.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Create</strong></span>.
						</li></ol></div></section><section class="section" id="odc-creating-projects-using-developer-perspective_projects"><div class="titlepage"><div><div><h3 class="title">2.1.2. Creating a project using the Developer perspective in the web console</h3></div></div></div><p>
					You can use the <span class="strong strong"><strong>Developer</strong></span> perspective in the OpenShift Container Platform web console to create a project in your cluster.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Projects starting with <code class="literal">openshift-</code> and <code class="literal">kube-</code> are considered critical by OpenShift Container Platform. As such, OpenShift Container Platform does not allow you to create projects starting with <code class="literal">openshift-</code> or <code class="literal">kube-</code> using the <span class="strong strong"><strong>Developer</strong></span> perspective. Cluster administrators can create these projects using the <code class="literal">oc adm new-project</code> command.
					</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You cannot assign an SCC to pods created in one of the default namespaces: <code class="literal">default</code>, <code class="literal">kube-system</code>, <code class="literal">kube-public</code>, <code class="literal">openshift-node</code>, <code class="literal">openshift-infra</code>, and <code class="literal">openshift</code>. You cannot use these namespaces for running pods or services.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Ensure that you have the appropriate roles and permissions to create projects, applications, and other workloads in OpenShift Container Platform.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						You can create a project using the <span class="strong strong"><strong>Developer</strong></span> perspective, as follows:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Click the <span class="strong strong"><strong>Project</strong></span> drop-down menu to see a list of all available projects. Select <span class="strong strong"><strong>Create Project</strong></span>.
						</p><div class="figure" id="idm140419029937664"><p class="title"><strong>Figure 2.1. Create project</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/9ea563af5e62860eca0ce59e95f0a833/odc_create_project.png" alt="odc create project"/></div></div></div></li><li class="listitem">
							In the <span class="strong strong"><strong>Create Project</strong></span> dialog box, enter a unique name, such as <code class="literal">myproject</code>, in the <span class="strong strong"><strong>Name</strong></span> field.
						</li><li class="listitem">
							Optional: Add the <span class="strong strong"><strong>Display Name</strong></span> and <span class="strong strong"><strong>Description</strong></span> details for the project.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Create</strong></span>.
						</li><li class="listitem">
							Use the left navigation panel to navigate to the <span class="strong strong"><strong>Project</strong></span> view and see the dashboard for your project.
						</li><li class="listitem"><p class="simpara">
							Optional:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Use the <span class="strong strong"><strong>Project</strong></span> drop-down menu at the top of the screen and select <span class="strong strong"><strong>all projects</strong></span> to list all of the projects in your cluster.
								</li><li class="listitem">
									Use the <span class="strong strong"><strong>Details</strong></span> tab to see the project details.
								</li><li class="listitem">
									If you have adequate permissions for a project, you can use the <span class="strong strong"><strong>Project Access</strong></span> tab to provide or revoke <span class="emphasis"><em>administrator</em></span>, <span class="emphasis"><em>edit</em></span>, and <span class="emphasis"><em>view</em></span> privileges for the project.
								</li></ul></div></li></ol></div></section><section class="section" id="creating-a-project-using-the-CLI_projects"><div class="titlepage"><div><div><h3 class="title">2.1.3. Creating a project using the CLI</h3></div></div></div><p>
					If allowed by your cluster administrator, you can create a new project.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Projects starting with <code class="literal">openshift-</code> and <code class="literal">kube-</code> are considered critical by OpenShift Container Platform. As such, OpenShift Container Platform does not allow you to create Projects starting with <code class="literal">openshift-</code> or <code class="literal">kube-</code> using the <code class="literal">oc new-project</code> command. Cluster administrators can create these Projects using the <code class="literal">oc adm new-project</code> command.
					</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You cannot assign an SCC to pods created in one of the default namespaces: <code class="literal">default</code>, <code class="literal">kube-system</code>, <code class="literal">kube-public</code>, <code class="literal">openshift-node</code>, <code class="literal">openshift-infra</code>, and <code class="literal">openshift</code>. You cannot use these namespaces for running pods or services.
					</p></div></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Run:
						</p><pre class="programlisting language-terminal">$ oc new-project &lt;project_name&gt; \
    --description="&lt;description&gt;" --display-name="&lt;display_name&gt;"</pre><p class="simpara">
							For example:
						</p><pre class="programlisting language-terminal">$ oc new-project hello-openshift \
    --description="This is an example project" \
    --display-name="Hello OpenShift"</pre></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The number of projects you are allowed to create might be limited by the system administrator. After your limit is reached, you might have to delete an existing project in order to create a new one.
					</p></div></div></section><section class="section" id="viewing-a-project-using-the-web-console_projects"><div class="titlepage"><div><div><h3 class="title">2.1.4. Viewing a project using the web console</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Home</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Select a project to view.
						</p><p class="simpara">
							On this page, click <span class="strong strong"><strong>Workloads</strong></span> to see workloads in the project.
						</p></li></ol></div></section><section class="section" id="viewing-a-project-using-the-CLI_projects"><div class="titlepage"><div><div><h3 class="title">2.1.5. Viewing a project using the CLI</h3></div></div></div><p>
					When viewing projects, you are restricted to seeing only the projects you have access to view based on the authorization policy.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To view a list of projects, run:
						</p><pre class="programlisting language-terminal">$ oc get projects</pre></li><li class="listitem"><p class="simpara">
							You can change from the current project to a different project for CLI operations. The specified project is then used in all subsequent operations that manipulate project-scoped content:
						</p><pre class="programlisting language-terminal">$ oc project &lt;project_name&gt;</pre></li></ol></div></section><section class="section" id="odc-providing-project-permissions-using-developer-perspective_projects"><div class="titlepage"><div><div><h3 class="title">2.1.6. Providing access permissions to your project using the Developer perspective</h3></div></div></div><p>
					You can use the <span class="strong strong"><strong>Project</strong></span> view in the <span class="strong strong"><strong>Developer</strong></span> perspective to grant or revoke access permissions to your project.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To add users to your project and provide <span class="strong strong"><strong>Admin</strong></span>, <span class="strong strong"><strong>Edit</strong></span>, or <span class="strong strong"><strong>View</strong></span> access to them:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Developer</strong></span> perspective, navigate to the <span class="strong strong"><strong>Project</strong></span> view.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Project</strong></span> page, select the <span class="strong strong"><strong>Project Access</strong></span> tab.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Add Access</strong></span> to add a new row of permissions to the default ones.
						</p><div class="figure" id="idm140419029204704"><p class="title"><strong>Figure 2.2. Project permissions</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/40c7addbf7c13d2c4661b3875c2f2912/odc_project_permissions.png" alt="odc project permissions"/></div></div></div></li><li class="listitem">
							Enter the user name, click the <span class="strong strong"><strong>Select a role</strong></span> drop-down list, and select an appropriate role.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Save</strong></span> to add the new permissions.
						</li></ol></div><p>
					You can also use:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <span class="strong strong"><strong>Select a role</strong></span> drop-down list, to modify the access permissions of an existing user.
						</li><li class="listitem">
							The <span class="strong strong"><strong>Remove Access</strong></span> icon, to completely remove the access permissions of an existing user to the project.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Advanced role-based access control is managed in the <span class="strong strong"><strong>Roles</strong></span> and <span class="strong strong"><strong>Roles Binding</strong></span> views in the <span class="strong strong"><strong>Administrator</strong></span> perspective.
					</p></div></div></section><section class="section" id="odc-customizing-available-cluster-roles-using-developer-perspective_projects"><div class="titlepage"><div><div><h3 class="title">2.1.7. Customizing the available cluster roles using the Developer perspective</h3></div></div></div><p>
					The users of a project are assigned to a cluster role based on their access control. You can access these cluster roles by navigating to the <span class="strong strong"><strong>Project</strong></span> → <span class="strong strong"><strong>Project access</strong></span> → <span class="strong strong"><strong>Role</strong></span>. By default, these roles are <span class="strong strong"><strong>Admin</strong></span>, <span class="strong strong"><strong>Edit</strong></span>, and <span class="strong strong"><strong>View</strong></span>.
				</p><p>
					To add or edit the cluster roles for a project, you can customize the YAML code of the cluster.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To customize the different cluster roles of a project:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Search</strong></span> view, use the <span class="strong strong"><strong>Resources</strong></span> drop-down list to search for <code class="literal">Console</code>.
						</li><li class="listitem"><p class="simpara">
							From the available options, select the <span class="strong strong"><strong>Console <code class="literal">operator.openshift.io/v1</code></strong></span>.
						</p><div class="figure" id="idm140419032473456"><p class="title"><strong>Figure 2.3. Searching Console resource</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/6d7c31908e5ee5118239da1eb1a6a01a/odc_cluster_console.png" alt="odc cluster console"/></div></div></div></li><li class="listitem">
							Select <span class="strong strong"><strong>cluster</strong></span> under the <span class="strong strong"><strong>Name</strong></span> list.
						</li><li class="listitem">
							Navigate to the <span class="strong strong"><strong>YAML</strong></span> tab to view and edit the YAML code.
						</li><li class="listitem"><p class="simpara">
							In the YAML code under <code class="literal">spec</code>, add or edit the list of <code class="literal">availableClusterRoles</code> and save your changes:
						</p><pre class="programlisting language-yaml">spec:
  customization:
    projectAccess:
      availableClusterRoles:
      - admin
      - edit
      - view</pre></li></ol></div></section><section class="section" id="adding-to-a-project_projects"><div class="titlepage"><div><div><h3 class="title">2.1.8. Adding to a project</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Select <span class="strong strong"><strong>Developer</strong></span> from the context selector at the top of the web console navigation menu.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>+Add</strong></span>
						</li><li class="listitem">
							At the top of the page, select the name of the project that you want to add to.
						</li><li class="listitem">
							Click a method for adding to your project, and then follow the workflow.
						</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You can also add components to the topology using quick search.
					</p></div></div></section><section class="section" id="checking-project-status-using-the-web-console_projects"><div class="titlepage"><div><div><h3 class="title">2.1.9. Checking project status using the web console</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Home</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem">
							Select a project to see its status.
						</li></ol></div></section><section class="section" id="checking-project-status-using-the-CLI_projects"><div class="titlepage"><div><div><h3 class="title">2.1.10. Checking project status using the CLI</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run:
						</p><pre class="programlisting language-terminal">$ oc status</pre><p class="simpara">
							This command provides a high-level overview of the current project, with its components and their relationships.
						</p></li></ol></div></section><section class="section" id="deleting-a-project-using-the-web-console_projects"><div class="titlepage"><div><div><h3 class="title">2.1.11. Deleting a project using the web console</h3></div></div></div><p>
					You can delete a project by using the OpenShift Container Platform web console.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you do not have permissions to delete the project, the <span class="strong strong"><strong>Delete Project</strong></span> option is not available.
					</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Home</strong></span> → <span class="strong strong"><strong>Projects</strong></span>.
						</li><li class="listitem">
							Locate the project that you want to delete from the list of projects.
						</li><li class="listitem">
							On the far right side of the project listing, select <span class="strong strong"><strong>Delete Project</strong></span> from the Options menu 
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
							 .
						</li><li class="listitem">
							When the <span class="strong strong"><strong>Delete Project</strong></span> pane opens, enter the name of the project that you want to delete in the field.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Delete</strong></span>.
						</li></ol></div></section><section class="section" id="deleting-a-project-using-the-CLI_projects"><div class="titlepage"><div><div><h3 class="title">2.1.12. Deleting a project using the CLI</h3></div></div></div><p>
					When you delete a project, the server updates the project status to <span class="strong strong"><strong>Terminating</strong></span> from <span class="strong strong"><strong>Active</strong></span>. Then, the server clears all content from a project that is in the <span class="strong strong"><strong>Terminating</strong></span> state before finally removing the project. While a project is in <span class="strong strong"><strong>Terminating</strong></span> status, you cannot add new content to the project. Projects can be deleted from the CLI or the web console.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Run:
						</p><pre class="programlisting language-terminal">$ oc delete project &lt;project_name&gt;</pre></li></ol></div></section></section><section class="section" id="creating-project-other-user"><div class="titlepage"><div><div><h2 class="title">2.2. Creating a project as another user</h2></div></div></div><p>
				Impersonation allows you to create a project as a different user.
			</p><section class="section" id="authentication-api-impersonation_creating-project-other-user"><div class="titlepage"><div><div><h3 class="title">2.2.1. API impersonation</h3></div></div></div><p>
					You can configure a request to the OpenShift Container Platform API to act as though it originated from another user. For more information, see <a class="link" href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/#user-impersonation">User impersonation</a> in the Kubernetes documentation.
				</p></section><section class="section" id="impersonation-project-creation_creating-project-other-user"><div class="titlepage"><div><div><h3 class="title">2.2.2. Impersonating a user when you create a project</h3></div></div></div><p>
					You can impersonate a different user when you create a project request. Because <code class="literal">system:authenticated:oauth</code> is the only bootstrap group that can create project requests, you must impersonate that group.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To create a project request on behalf of a different user:
						</p><pre class="programlisting language-terminal">$ oc new-project &lt;project&gt; --as=&lt;user&gt; \
    --as-group=system:authenticated --as-group=system:authenticated:oauth</pre></li></ul></div></section></section><section class="section" id="configuring-project-creation"><div class="titlepage"><div><div><h2 class="title">2.3. Configuring project creation</h2></div></div></div><p>
				In OpenShift Container Platform, <span class="emphasis"><em>projects</em></span> are used to group and isolate related objects. When a request is made to create a new project using the web console or <code class="literal">oc new-project</code> command, an endpoint in OpenShift Container Platform is used to provision the project according to a template, which can be customized.
			</p><p>
				As a cluster administrator, you can allow and configure how developers and service accounts can create, or <span class="emphasis"><em>self-provision</em></span>, their own projects.
			</p><section class="section" id="about-project-creation_configuring-project-creation"><div class="titlepage"><div><div><h3 class="title">2.3.1. About project creation</h3></div></div></div><p>
					The OpenShift Container Platform API server automatically provisions new projects based on the project template that is identified by the <code class="literal">projectRequestTemplate</code> parameter in the cluster’s project configuration resource. If the parameter is not defined, the API server creates a default template that creates a project with the requested name, and assigns the requesting user to the <code class="literal">admin</code> role for that project.
				</p><p>
					When a project request is submitted, the API substitutes the following parameters into the template:
				</p><div class="table" id="idm140419050347296"><p class="title"><strong>Table 2.1. Default project template parameters</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419050342496" scope="col">Parameter</th><th align="left" valign="top" id="idm140419027840352" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419050342496"> <p>
									<code class="literal">PROJECT_NAME</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419027840352"> <p>
									The name of the project. Required.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419050342496"> <p>
									<code class="literal">PROJECT_DISPLAYNAME</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419027840352"> <p>
									The display name of the project. May be empty.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419050342496"> <p>
									<code class="literal">PROJECT_DESCRIPTION</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419027840352"> <p>
									The description of the project. May be empty.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419050342496"> <p>
									<code class="literal">PROJECT_ADMIN_USER</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419027840352"> <p>
									The user name of the administrating user.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419050342496"> <p>
									<code class="literal">PROJECT_REQUESTING_USER</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419027840352"> <p>
									The user name of the requesting user.
								</p>
								 </td></tr></tbody></table></div></div><p>
					Access to the API is granted to developers with the <code class="literal">self-provisioner</code> role and the <code class="literal">self-provisioners</code> cluster role binding. This role is available to all authenticated developers by default.
				</p></section><section class="section" id="modifying-template-for-new-projects_configuring-project-creation"><div class="titlepage"><div><div><h3 class="title">2.3.2. Modifying the template for new projects</h3></div></div></div><p>
					As a cluster administrator, you can modify the default project template so that new projects are created using your custom requirements.
				</p><p>
					To create your own custom project template:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Log in as a user with <code class="literal">cluster-admin</code> privileges.
						</li><li class="listitem"><p class="simpara">
							Generate the default project template:
						</p><pre class="programlisting language-terminal">$ oc adm create-bootstrap-project-template -o yaml &gt; template.yaml</pre></li><li class="listitem">
							Use a text editor to modify the generated <code class="literal">template.yaml</code> file by adding objects or modifying existing objects.
						</li><li class="listitem"><p class="simpara">
							The project template must be created in the <code class="literal">openshift-config</code> namespace. Load your modified template:
						</p><pre class="programlisting language-terminal">$ oc create -f template.yaml -n openshift-config</pre></li><li class="listitem"><p class="simpara">
							Edit the project configuration resource using the web console or CLI.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Using the web console:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											Navigate to the <span class="strong strong"><strong>Administration</strong></span> → <span class="strong strong"><strong>Cluster Settings</strong></span> page.
										</li><li class="listitem">
											Click <span class="strong strong"><strong>Configuration</strong></span> to view all configuration resources.
										</li><li class="listitem">
											Find the entry for <span class="strong strong"><strong>Project</strong></span> and click <span class="strong strong"><strong>Edit YAML</strong></span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									Using the CLI:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
											Edit the <code class="literal">project.config.openshift.io/cluster</code> resource:
										</p><pre class="programlisting language-terminal">$ oc edit project.config.openshift.io/cluster</pre></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Update the <code class="literal">spec</code> section to include the <code class="literal">projectRequestTemplate</code> and <code class="literal">name</code> parameters, and set the name of your uploaded project template. The default name is <code class="literal">project-request</code>.
						</p><div class="formalpara"><p class="title"><strong>Project configuration resource with custom project template</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: config.openshift.io/v1
kind: Project
metadata:
  ...
spec:
  projectRequestTemplate:
    name: &lt;template_name&gt;</pre>

							</p></div></li><li class="listitem">
							After you save your changes, create a new project to verify that your changes were successfully applied.
						</li></ol></div></section><section class="section" id="disabling-project-self-provisioning_configuring-project-creation"><div class="titlepage"><div><div><h3 class="title">2.3.3. Disabling project self-provisioning</h3></div></div></div><p>
					You can prevent an authenticated user group from self-provisioning new projects.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Log in as a user with <code class="literal">cluster-admin</code> privileges.
						</li><li class="listitem"><p class="simpara">
							View the <code class="literal">self-provisioners</code> cluster role binding usage by running the following command:
						</p><pre class="programlisting language-terminal">$ oc describe clusterrolebinding.rbac self-provisioners</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">Name:		self-provisioners
Labels:		&lt;none&gt;
Annotations:	rbac.authorization.kubernetes.io/autoupdate=true
Role:
  Kind:	ClusterRole
  Name:	self-provisioner
Subjects:
  Kind	Name				Namespace
  ----	----				---------
  Group	system:authenticated:oauth</pre>

							</p></div><p class="simpara">
							Review the subjects in the <code class="literal">self-provisioners</code> section.
						</p></li><li class="listitem"><p class="simpara">
							Remove the <code class="literal">self-provisioner</code> cluster role from the group <code class="literal">system:authenticated:oauth</code>.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									If the <code class="literal">self-provisioners</code> cluster role binding binds only the <code class="literal">self-provisioner</code> role to the <code class="literal">system:authenticated:oauth</code> group, run the following command:
								</p><pre class="programlisting language-terminal">$ oc patch clusterrolebinding.rbac self-provisioners -p '{"subjects": null}'</pre></li><li class="listitem"><p class="simpara">
									If the <code class="literal">self-provisioners</code> cluster role binding binds the <code class="literal">self-provisioner</code> role to more users, groups, or service accounts than the <code class="literal">system:authenticated:oauth</code> group, run the following command:
								</p><pre class="programlisting language-terminal">$ oc adm policy \
    remove-cluster-role-from-group self-provisioner \
    system:authenticated:oauth</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal">self-provisioners</code> cluster role binding to prevent automatic updates to the role. Automatic updates reset the cluster roles to the default state.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									To update the role binding using the CLI:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
											Run the following command:
										</p><pre class="programlisting language-terminal">$ oc edit clusterrolebinding.rbac self-provisioners</pre></li><li class="listitem"><p class="simpara">
											In the displayed role binding, set the <code class="literal">rbac.authorization.kubernetes.io/autoupdate</code> parameter value to <code class="literal">false</code>, as shown in the following example:
										</p><pre class="programlisting language-yaml">apiVersion: authorization.openshift.io/v1
kind: ClusterRoleBinding
metadata:
  annotations:
    rbac.authorization.kubernetes.io/autoupdate: "false"
  ...</pre></li></ol></div></li><li class="listitem"><p class="simpara">
									To update the role binding by using a single command:
								</p><pre class="programlisting language-terminal">$ oc patch clusterrolebinding.rbac self-provisioners -p '{ "metadata": { "annotations": { "rbac.authorization.kubernetes.io/autoupdate": "false" } } }'</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Log in as an authenticated user and verify that it can no longer self-provision a project:
						</p><pre class="programlisting language-terminal">$ oc new-project test</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">Error from server (Forbidden): You may not request a new project via this API.</pre>

							</p></div><p class="simpara">
							Consider customizing this project request message to provide more helpful instructions specific to your organization.
						</p></li></ol></div></section><section class="section" id="customizing-project-request-message_configuring-project-creation"><div class="titlepage"><div><div><h3 class="title">2.3.4. Customizing the project request message</h3></div></div></div><p>
					When a developer or a service account that is unable to self-provision projects makes a project creation request using the web console or CLI, the following error message is returned by default:
				</p><pre class="programlisting language-terminal">You may not request a new project via this API.</pre><p>
					Cluster administrators can customize this message. Consider updating it to provide further instructions on how to request a new project specific to your organization. For example:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							To request a project, contact your system administrator at <code class="literal">projectname@example.com</code>.
						</li><li class="listitem">
							To request a new project, fill out the project request form located at <code class="literal">https://internal.example.com/openshift-project-request</code>.
						</li></ul></div><p>
					To customize the project request message:
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Edit the project configuration resource using the web console or CLI.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Using the web console:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											Navigate to the <span class="strong strong"><strong>Administration</strong></span> → <span class="strong strong"><strong>Cluster Settings</strong></span> page.
										</li><li class="listitem">
											Click <span class="strong strong"><strong>Configuration</strong></span> to view all configuration resources.
										</li><li class="listitem">
											Find the entry for <span class="strong strong"><strong>Project</strong></span> and click <span class="strong strong"><strong>Edit YAML</strong></span>.
										</li></ol></div></li><li class="listitem"><p class="simpara">
									Using the CLI:
								</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
											Log in as a user with <code class="literal">cluster-admin</code> privileges.
										</li><li class="listitem"><p class="simpara">
											Edit the <code class="literal">project.config.openshift.io/cluster</code> resource:
										</p><pre class="programlisting language-terminal">$ oc edit project.config.openshift.io/cluster</pre></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Update the <code class="literal">spec</code> section to include the <code class="literal">projectRequestMessage</code> parameter and set the value to your custom message:
						</p><div class="formalpara"><p class="title"><strong>Project configuration resource with custom project request message</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: config.openshift.io/v1
kind: Project
metadata:
  ...
spec:
  projectRequestMessage: &lt;message_string&gt;</pre>

							</p></div><p class="simpara">
							For example:
						</p><pre class="programlisting language-yaml">apiVersion: config.openshift.io/v1
kind: Project
metadata:
  ...
spec:
  projectRequestMessage: To request a project, contact your system administrator at projectname@example.com.</pre></li><li class="listitem">
							After you save your changes, attempt to create a new project as a developer or service account that is unable to self-provision projects to verify that your changes were successfully applied.
						</li></ol></div></section></section></section><section class="chapter" id="creating-applications"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Creating applications</h1></div></div></div><section class="section" id="odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h2 class="title">3.1. Creating applications using the Developer perspective</h2></div></div></div><p>
				The <span class="strong strong"><strong>Developer</strong></span> perspective in the web console provides you the following options from the <span class="strong strong"><strong>+Add</strong></span> view to create applications and associated services and deploy them on OpenShift Container Platform:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Getting started resources</strong></span>: Use these resources to help you get started with Developer Console. You can choose to hide the header using the <span class="strong strong"><strong>Options</strong></span> menu 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
						 .
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<span class="strong strong"><strong>Creating applications using samples</strong></span>: Use existing code samples to get started with creating applications on the OpenShift Container Platform.
							</li><li class="listitem">
								<span class="strong strong"><strong>Build with guided documentation</strong></span>: Follow the guided documentation to build applications and familiarize yourself with key concepts and terminologies.
							</li><li class="listitem">
								<span class="strong strong"><strong>Explore new developer features</strong></span>: Explore the new features and resources within the <span class="strong strong"><strong>Developer</strong></span> perspective.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Developer catalog</strong></span>: Explore the Developer Catalog to select the required applications, services, or source to image builders, and then add it to your project.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<span class="strong strong"><strong>All Services</strong></span>: Browse the catalog to discover services across OpenShift Container Platform.
							</li><li class="listitem">
								<span class="strong strong"><strong>Database</strong></span>: Select the required database service and add it to your application.
							</li><li class="listitem">
								<span class="strong strong"><strong>Operator Backed</strong></span>: Select and deploy the required Operator-managed service.
							</li><li class="listitem">
								<span class="strong strong"><strong>Helm chart</strong></span>: Select the required Helm chart to simplify deployment of applications and services.
							</li><li class="listitem">
								<span class="strong strong"><strong>Devfile</strong></span>: Select a devfile from the <span class="strong strong"><strong>Devfile registry</strong></span> to declaratively define a development environment.
							</li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Event Source</strong></span>: Select an event source to register interest in a class of events from a particular system.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The Managed services option is also available if the RHOAS Operator is installed.
								</p></div></div></li></ul></div></li><li class="listitem">
						<span class="strong strong"><strong>Git repository</strong></span>: Import an existing codebase, Devfile, or Dockerfile from your Git repository using the <span class="strong strong"><strong>From Git</strong></span>, <span class="strong strong"><strong>From Devfile</strong></span>, or <span class="strong strong"><strong>From Dockerfile</strong></span> options respectively, to build and deploy an application on OpenShift Container Platform.
					</li><li class="listitem">
						<span class="strong strong"><strong>Container images</strong></span>: Use existing images from an image stream or registry to deploy it on to the OpenShift Container Platform.
					</li><li class="listitem">
						<span class="strong strong"><strong>Pipelines</strong></span>: Use Tekton pipeline to create CI/CD pipelines for your software delivery process on the OpenShift Container Platform.
					</li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Serverless</strong></span>: Explore the <span class="strong strong"><strong>Serverless</strong></span> options to create, build, and deploy stateless and serverless applications on the OpenShift Container Platform.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<span class="strong strong"><strong>Channel</strong></span>: Create a Knative channel to create an event forwarding and persistence layer with in-memory and reliable implementations.
							</li></ul></div></li><li class="listitem">
						<span class="strong strong"><strong>Samples</strong></span>: Explore the available sample applications to create, build, and deploy an application quickly.
					</li><li class="listitem">
						<span class="strong strong"><strong>Quick Starts</strong></span>: Explore the quick start options to create, import, and run applications with step-by-step instructions and tasks.
					</li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>From Local Machine</strong></span>: Explore the <span class="strong strong"><strong>From Local Machine</strong></span> tile to import or upload files on your local machine for building and deploying applications easily.
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<span class="strong strong"><strong>Import YAML</strong></span>: Upload a YAML file to create and define resources for building and deploying applications.
							</li><li class="listitem">
								<span class="strong strong"><strong>Upload JAR file</strong></span>: Upload a JAR file to build and deploy Java applications.
							</li></ul></div></li><li class="listitem">
						<span class="strong strong"><strong>Share my Project</strong></span>: Use this option to add or remove users to a project and provide accessibility options to them.
					</li><li class="listitem">
						<span class="strong strong"><strong>Helm Chart repositories</strong></span>: Use this option to add Helm Chart repositories in a namespace.
					</li><li class="listitem">
						<span class="strong strong"><strong>Re-ordering of resources</strong></span>: Use these resources to re-order pinned resources added to your navigation pane. The drag-and-drop icon is displayed on the left side of the pinned resource when you hover over it in the navigation pane. The dragged resource can be dropped only in the section where it resides.
					</li></ul></div><p>
				Note that certain options, such as <span class="strong strong"><strong>Pipelines</strong></span>, <span class="strong strong"><strong>Event Source</strong></span>, and <span class="strong strong"><strong>Import Virtual Machines</strong></span>, are displayed only when the <a class="link" href="https://docs.openshift.com/pipelines/latest/install_config/installing-pipelines.html#op-installing-pipelines-operator-in-web-console_installing-pipelines">OpenShift Pipelines Operator</a>, <a class="link" href="https://docs.openshift.com/serverless/1.28/install/install-serverless-operator.html#serverless-install-web-console_install-serverless-operator">OpenShift Serverless Operator</a>, and <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/virtualization/#virt-subscribing-to-the-catalog_installing-virt-web">OpenShift Virtualization Operator</a> are installed, respectively.
			</p><section class="section" id="prerequisites_odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h3 class="title">3.1.1. Prerequisites</h3></div></div></div><p>
					To create applications using the <span class="strong strong"><strong>Developer</strong></span> perspective ensure that:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							You have <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#web-console">logged in to the web console</a>.
						</li><li class="listitem">
							You have created a project or have access to a project with the appropriate <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/authentication_and_authorization/#default-roles_using-rbac">roles and permissions</a> to create applications and other workloads in OpenShift Container Platform.
						</li></ul></div><p>
					To create serverless applications, in addition to the preceding prerequisites, ensure that:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							You have <a class="link" href="https://docs.openshift.com/serverless/1.28/install/install-serverless-operator.html#install-serverless-operator">installed the OpenShift Serverless Operator</a>.
						</li><li class="listitem">
							You have <a class="link" href="https://docs.openshift.com/serverless/1.28/install/installing-knative-serving.html#installing-knative-serving">created a <code class="literal">KnativeServing</code> resource in the <code class="literal">knative-serving</code> namespace</a>.
						</li></ul></div></section><section class="section" id="odc-creating-sample-applications_odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h3 class="title">3.1.2. Creating Sample applications</h3></div></div></div><p>
					You can use the sample applications in the <span class="strong strong"><strong>+Add</strong></span> flow of the <span class="strong strong"><strong>Developer</strong></span> perspective to create, build, and deploy applications quickly.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have logged in to the OpenShift Container Platform web console and are in the <span class="strong strong"><strong>Developer</strong></span> perspective.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>+Add</strong></span> view, click on the <span class="strong strong"><strong>Samples</strong></span> tile to see the <span class="strong strong"><strong>Samples</strong></span> page.
						</li><li class="listitem">
							On the <span class="strong strong"><strong>Samples</strong></span> page, select one of the available sample applications to see the <span class="strong strong"><strong>Create Sample Application</strong></span> form.
						</li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Create Sample Application Form</strong></span>:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									In the <span class="strong strong"><strong>Name</strong></span> field, the deployment name is displayed by default. You can modify this name as required.
								</li><li class="listitem">
									In the <span class="strong strong"><strong>Builder Image Version</strong></span>, a builder image is selected by default. You can modify this image version by using the <span class="strong strong"><strong>Builder Image Version</strong></span> drop-down list.
								</li><li class="listitem">
									A sample Git repository URL is added by default.
								</li></ul></div></li><li class="listitem">
							Click <span class="strong strong"><strong>Create</strong></span> to create the sample application. The build status of the sample application is displayed on the <span class="strong strong"><strong>Topology</strong></span> view. After the sample application is created, you can see the deployment added to the application.
						</li></ol></div></section><section class="section" id="odc-using-quickstarts_odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h3 class="title">3.1.3. Creating applications using Quick Starts</h3></div></div></div><p>
					The <span class="strong strong"><strong>Quick Starts</strong></span> page shows you how to create, import, and run applications on OpenShift Container Platform, with step-by-step instructions and tasks.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have logged in to the OpenShift Container Platform web console and are in the <span class="strong strong"><strong>Developer</strong></span> perspective.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>+Add</strong></span> view, click the <span class="strong strong"><strong>View all quick starts</strong></span> link to view the <span class="strong strong"><strong>Quick Starts</strong></span> page.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Quick Starts</strong></span> page, click the tile for the quick start that you want to use.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Start</strong></span> to begin the quick start.
						</li></ol></div></section><section class="section" id="odc-importing-codebase-from-git-to-create-application_odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h3 class="title">3.1.4. Importing a codebase from Git to create an application</h3></div></div></div><p class="_abstract _abstract">
					You can use the <span class="strong strong"><strong>Developer</strong></span> perspective to create, build, and deploy an application on OpenShift Container Platform using an existing codebase in GitHub.
				</p><p>
					The following procedure walks you through the <span class="strong strong"><strong>From Git</strong></span> option in the <span class="strong strong"><strong>Developer</strong></span> perspective to create an application.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>+Add</strong></span> view, click <span class="strong strong"><strong>From Git</strong></span> in the <span class="strong strong"><strong>Git Repository</strong></span> tile to see the <span class="strong strong"><strong>Import from git</strong></span> form.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Git</strong></span> section, enter the Git repository URL for the codebase you want to use to create an application. For example, enter the URL of this sample Node.js application <code class="literal">https://github.com/sclorg/nodejs-ex</code>. The URL is then validated.
						</li><li class="listitem"><p class="simpara">
							Optional: You can click <span class="strong strong"><strong>Show Advanced Git Options</strong></span> to add details such as:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Git Reference</strong></span> to point to code in a specific branch, tag, or commit to be used to build the application.
								</li><li class="listitem">
									<span class="strong strong"><strong>Context Dir</strong></span> to specify the subdirectory for the application source code you want to use to build the application.
								</li><li class="listitem">
									<span class="strong strong"><strong>Source Secret</strong></span> to create a <span class="strong strong"><strong>Secret Name</strong></span> with credentials for pulling your source code from a private repository.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Optional: You can import a <code class="literal">Devfile</code>, a <code class="literal">Dockerfile</code>, <code class="literal">Builder Image</code>, or a <code class="literal">Serverless Function</code> through your Git repository to further customize your deployment.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									If your Git repository contains a <code class="literal">Devfile</code>, a <code class="literal">Dockerfile</code>, a <code class="literal">Builder Image</code>, or a <code class="literal">func.yaml</code>, it is automatically detected and populated on the respective path fields.
								</li><li class="listitem">
									If a <code class="literal">Devfile</code>, a <code class="literal">Dockerfile</code>, or a <code class="literal">Builder Image</code> are detected in the same repository, the <code class="literal">Devfile</code> is selected by default.
								</li><li class="listitem">
									If <code class="literal">func.yaml</code> is detected in the Git repository, the <span class="strong strong"><strong>Import Strategy</strong></span> changes to <code class="literal">Serverless Function</code>.
								</li><li class="listitem">
									Alternatively, you can create a serverless function by clicking <span class="strong strong"><strong>Create Serverless function</strong></span> in the <span class="strong strong"><strong>+Add</strong></span> view using the Git repository URL.
								</li><li class="listitem">
									To edit the file import type and select a different strategy, click <span class="strong strong"><strong>Edit import strategy</strong></span> option.
								</li><li class="listitem">
									If multiple <code class="literal">Devfiles</code>, a <code class="literal">Dockerfiles</code>, or a <code class="literal">Builder Images</code> are detected, to import a specific instance, specify the respective paths relative to the context directory.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							After the Git URL is validated, the recommended builder image is selected and marked with a star. If the builder image is not auto-detected, select a builder image. For the <code class="literal"><a class="link" href="https://github.com/sclorg/nodejs-ex">https://github.com/sclorg/nodejs-ex</a></code> Git URL, by default the Node.js builder image is selected.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Optional: Use the <span class="strong strong"><strong>Builder Image Version</strong></span> drop-down to specify a version.
								</li><li class="listitem">
									Optional: Use the <span class="strong strong"><strong>Edit import strategy</strong></span> to select a different strategy.
								</li><li class="listitem">
									Optional: For the Node.js builder image, use the <span class="strong strong"><strong>Run command</strong></span> field to override the command to run the application.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>General</strong></span> section:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									In the <span class="strong strong"><strong>Application</strong></span> field, enter a unique name for the application grouping, for example, <code class="literal">myapp</code>. Ensure that the application name is unique in a namespace.
								</li><li class="listitem"><p class="simpara">
									The <span class="strong strong"><strong>Name</strong></span> field to identify the resources created for this application is automatically populated based on the Git repository URL if there are no existing applications. If there are existing applications, you can choose to deploy the component within an existing application, create a new application, or keep the component unassigned.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										The resource name must be unique in a namespace. Modify the resource name if you get an error.
									</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Resources</strong></span> section, select:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Deployment</strong></span>, to create an application in plain Kubernetes style.
								</li><li class="listitem">
									<span class="strong strong"><strong>Deployment Config</strong></span>, to create an OpenShift Container Platform style application.
								</li><li class="listitem"><p class="simpara">
									<span class="strong strong"><strong>Serverless Deployment</strong></span>, to create a Knative service.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										To set the default resource preference for importing an application, go to <span class="strong strong"><strong>User Preferences</strong></span> → <span class="strong strong"><strong>Applications</strong></span> → <span class="strong strong"><strong>Resource type</strong></span> field. The <span class="strong strong"><strong>Serverless Deployment</strong></span> option is displayed in the <span class="strong strong"><strong>Import from Git</strong></span> form only if the OpenShift Serverless Operator is installed in your cluster. The <span class="strong strong"><strong>Resources</strong></span> section is not available while creating a serverless function. For further details, refer to the OpenShift Serverless documentation.
									</p></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Pipelines</strong></span> section, select <span class="strong strong"><strong>Add Pipeline</strong></span>, and then click <span class="strong strong"><strong>Show Pipeline Visualization</strong></span> to see the pipeline for the application. A default pipeline is selected, but you can choose the pipeline you want from the list of available pipelines for the application.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The <span class="strong strong"><strong>Add pipeline</strong></span> checkbox is checked and <span class="strong strong"><strong>Configure PAC</strong></span> is selected by default if the following criterias are fulfilled:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Pipeline operator is installed
									</li><li class="listitem">
										<code class="literal">pipelines-as-code</code> is enabled
									</li><li class="listitem">
										<code class="literal">.tekton</code> directory is detected in the Git repository
									</li></ul></div></div></div></li><li class="listitem"><p class="simpara">
							Add a webhook to your repository. If <span class="strong strong"><strong>Configure PAC</strong></span> is checked and the GitHub App is set up, you can see the <span class="strong strong"><strong>Use GitHub App</strong></span> and <span class="strong strong"><strong>Setup a webhook</strong></span> options. If GitHub App is not set up, you can only see the <span class="strong strong"><strong>Setup a webhook</strong></span> option:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Go to <span class="strong strong"><strong>Settings</strong></span> → <span class="strong strong"><strong>Webhooks</strong></span> and click <span class="strong strong"><strong>Add webhook</strong></span>.
								</li><li class="listitem">
									Set the <span class="strong strong"><strong>Payload URL</strong></span> to the Pipelines as Code controller public URL.
								</li><li class="listitem">
									Select the content type as <span class="strong strong"><strong>application/json</strong></span>.
								</li><li class="listitem">
									Add a webhook secret and note it in an alternate location. With <code class="literal">openssl</code> installed on your local machine, generate a random secret.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Let me select individual events</strong></span> and select these events: <span class="strong strong"><strong>Commit comments</strong></span>, <span class="strong strong"><strong>Issue comments</strong></span>, <span class="strong strong"><strong>Pull request</strong></span>, and <span class="strong strong"><strong>Pushes</strong></span>.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Add webhook</strong></span>.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							Optional: In the <span class="strong strong"><strong>Advanced Options</strong></span> section, the <span class="strong strong"><strong>Target port</strong></span> and the <span class="strong strong"><strong>Create a route to the application</strong></span> is selected by default so that you can access your application using a publicly available URL.
						</p><p class="simpara">
							If your application does not expose its data on the default public port, 80, clear the check box, and set the target port number you want to expose.
						</p></li><li class="listitem">
							Optional: You can use the following advanced options to further customize your application:
						</li></ol></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Routing</span></dt><dd><p class="simpara">
								By clicking the <span class="strong strong"><strong>Routing</strong></span> link, you can perform the following actions:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Customize the hostname for the route.
									</li><li class="listitem">
										Specify the path the router watches.
									</li><li class="listitem">
										Select the target port for the traffic from the drop-down list.
									</li><li class="listitem"><p class="simpara">
										Secure your route by selecting the <span class="strong strong"><strong>Secure Route</strong></span> check box. Select the required TLS termination type and set a policy for insecure traffic from the respective drop-down lists.
									</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
											For serverless applications, the Knative service manages all the routing options above. However, you can customize the target port for traffic, if required. If the target port is not specified, the default port of <code class="literal">8080</code> is used.
										</p></div></div></li></ul></div></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Domain mapping</span></dt><dd><p class="simpara">
								If you are creating a <span class="strong strong"><strong>Serverless Deployment</strong></span>, you can add a custom domain mapping to the Knative service during creation.
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										In the <span class="strong strong"><strong>Advanced options</strong></span> section, click <span class="strong strong"><strong>Show advanced Routing options</strong></span>.
									</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
												If the domain mapping CR that you want to map to the service already exists, you can select it from the <span class="strong strong"><strong>Domain mapping</strong></span> drop-down menu.
											</li><li class="listitem">
												If you want to create a new domain mapping CR, type the domain name into the box, and select the <span class="strong strong"><strong>Create</strong></span> option. For example, if you type in <code class="literal">example.com</code>, the <span class="strong strong"><strong>Create</strong></span> option is <span class="strong strong"><strong>Create "example.com"</strong></span>.
											</li></ul></div></li></ul></div></dd><dt><span class="term">Health Checks</span></dt><dd><p class="simpara">
								Click the <span class="strong strong"><strong>Health Checks</strong></span> link to add Readiness, Liveness, and Startup probes to your application. All the probes have prepopulated default data; you can add the probes with the default data or customize it as required.
							</p><p class="simpara">
								To customize the health probes:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Click <span class="strong strong"><strong>Add Readiness Probe</strong></span>, if required, modify the parameters to check if the container is ready to handle requests, and select the check mark to add the probe.
									</li><li class="listitem">
										Click <span class="strong strong"><strong>Add Liveness Probe</strong></span>, if required, modify the parameters to check if a container is still running, and select the check mark to add the probe.
									</li><li class="listitem"><p class="simpara">
										Click <span class="strong strong"><strong>Add Startup Probe</strong></span>, if required, modify the parameters to check if the application within the container has started, and select the check mark to add the probe.
									</p><p class="simpara">
										For each of the probes, you can specify the request type - <span class="strong strong"><strong>HTTP GET</strong></span>, <span class="strong strong"><strong>Container Command</strong></span>, or <span class="strong strong"><strong>TCP Socket</strong></span>, from the drop-down list. The form changes as per the selected request type. You can then modify the default values for the other parameters, such as the success and failure thresholds for the probe, number of seconds before performing the first probe after the container starts, frequency of the probe, and the timeout value.
									</p></li></ul></div></dd><dt><span class="term">Build Configuration and Deployment</span></dt><dd><p class="simpara">
								Click the <span class="strong strong"><strong>Build Configuration</strong></span> and <span class="strong strong"><strong>Deployment</strong></span> links to see the respective configuration options. Some options are selected by default; you can customize them further by adding the necessary triggers and environment variables.
							</p><p class="simpara">
								For serverless applications, the <span class="strong strong"><strong>Deployment</strong></span> option is not displayed as the Knative configuration resource maintains the desired state for your deployment instead of a <code class="literal">DeploymentConfig</code> resource.
							</p></dd></dl></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Scaling</span></dt><dd><p class="simpara">
								Click the <span class="strong strong"><strong>Scaling</strong></span> link to define the number of pods or instances of the application you want to deploy initially.
							</p><p class="simpara">
								If you are creating a serverless deployment, you can also configure the following settings:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<span class="strong strong"><strong>Min Pods</strong></span> determines the lower limit for the number of pods that must be running at any given time for a Knative service. This is also known as the <code class="literal">minScale</code> setting.
									</li><li class="listitem">
										<span class="strong strong"><strong>Max Pods</strong></span> determines the upper limit for the number of pods that can be running at any given time for a Knative service. This is also known as the <code class="literal">maxScale</code> setting.
									</li><li class="listitem">
										<span class="strong strong"><strong>Concurrency target</strong></span> determines the number of concurrent requests desired for each instance of the application at a given time.
									</li><li class="listitem">
										<span class="strong strong"><strong>Concurrency limit</strong></span> determines the limit for the number of concurrent requests allowed for each instance of the application at a given time.
									</li><li class="listitem">
										<span class="strong strong"><strong>Concurrency utilization</strong></span> determines the percentage of the concurrent requests limit that must be met before Knative scales up additional pods to handle additional traffic.
									</li><li class="listitem">
										<span class="strong strong"><strong>Autoscale window</strong></span> defines the time window over which metrics are averaged to provide input for scaling decisions when the autoscaler is not in panic mode. A service is scaled-to-zero if no requests are received during this window. The default duration for the autoscale window is <code class="literal">60s</code>. This is also known as the stable window.
									</li></ul></div></dd><dt><span class="term">Resource Limit</span></dt><dd>
								Click the <span class="strong strong"><strong>Resource Limit</strong></span> link to set the amount of <span class="strong strong"><strong>CPU</strong></span> and <span class="strong strong"><strong>Memory</strong></span> resources a container is guaranteed or allowed to use when running.
							</dd><dt><span class="term">Labels</span></dt><dd><p class="simpara">
								Click the <span class="strong strong"><strong>Labels</strong></span> link to add custom labels to your application.
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
										Click <span class="strong strong"><strong>Create</strong></span> to create the application and a success notification is displayed. You can see the build status of the application in the <span class="strong strong"><strong>Topology</strong></span> view.
									</li></ol></div></dd></dl></div></section><section class="section" id="odc-deploying-java-applications_odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h3 class="title">3.1.5. Deploying a Java application by uploading a JAR file</h3></div></div></div><p>
					You can use the web console <span class="strong strong"><strong>Developer</strong></span> perspective to upload a JAR file by using the following options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Navigate to the <span class="strong strong"><strong>+Add</strong></span> view of the <span class="strong strong"><strong>Developer</strong></span> perspective, and click <span class="strong strong"><strong>Upload JAR file</strong></span> in the <span class="strong strong"><strong>From Local Machine</strong></span> tile. Browse and select your JAR file, or drag a JAR file to deploy your application.
						</li><li class="listitem">
							Navigate to the <span class="strong strong"><strong>Topology</strong></span> view and use the <span class="strong strong"><strong>Upload JAR file</strong></span> option, or drag a JAR file to deploy your application.
						</li><li class="listitem">
							Use the in-context menu in the <span class="strong strong"><strong>Topology</strong></span> view, and then use the <span class="strong strong"><strong>Upload JAR file</strong></span> option to upload your JAR file to deploy your application.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							The Cluster Samples Operator must be installed by a cluster administrator.
						</li><li class="listitem">
							You have access to the OpenShift Container Platform web console and are in the <span class="strong strong"><strong>Developer</strong></span> perspective.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Topology</strong></span> view, right-click anywhere to view the <span class="strong strong"><strong>Add to Project</strong></span> menu.
						</li><li class="listitem">
							Hover over the <span class="strong strong"><strong>Add to Project</strong></span> menu to see the menu options, and then select the <span class="strong strong"><strong>Upload JAR file</strong></span> option to see the <span class="strong strong"><strong>Upload JAR file</strong></span> form. Alternatively, you can drag the JAR file into the <span class="strong strong"><strong>Topology</strong></span> view.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>JAR file</strong></span> field, browse for the required JAR file on your local machine and upload it. Alternatively, you can drag the JAR file on to the field. A toast alert is displayed at the top right if an incompatible file type is dragged into the <span class="strong strong"><strong>Topology</strong></span> view. A field error is displayed if an incompatible file type is dropped on the field in the upload form.
						</li><li class="listitem">
							The runtime icon and builder image are selected by default. If a builder image is not auto-detected, select a builder image. If required, you can change the version using the <span class="strong strong"><strong>Builder Image Version</strong></span> drop-down list.
						</li><li class="listitem">
							Optional: In the <span class="strong strong"><strong>Application Name</strong></span> field, enter a unique name for your application to use for resource labelling.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Name</strong></span> field, enter a unique component name for the associated resources.
						</li><li class="listitem">
							Optional: Using the <span class="strong strong"><strong>Advanced options</strong></span> → <span class="strong strong"><strong>Resource type</strong></span> drop-down list, select a different resource type from the list of default resource types.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Advanced options</strong></span> menu, click <span class="strong strong"><strong>Create a Route to the Application</strong></span> to configure a public URL for your deployed application.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Create</strong></span> to deploy the application. A toast notification is shown to notify you that the JAR file is being uploaded. The toast notification also includes a link to view the build logs.
						</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you attempt to close the browser tab while the build is running, a web alert is displayed.
					</p></div></div><p>
					After the JAR file is uploaded and the application is deployed, you can view the application in the <span class="strong strong"><strong>Topology</strong></span> view.
				</p></section><section class="section" id="odc-using-the-devfile-registry_odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h3 class="title">3.1.6. Using the Devfile registry to access devfiles</h3></div></div></div><p>
					You can use the devfiles in the <span class="strong strong"><strong>+Add</strong></span> flow of the <span class="strong strong"><strong>Developer</strong></span> perspective to create an application. The <span class="strong strong"><strong>+Add</strong></span> flow provides a complete integration with the <a class="link" href="https://registry.devfile.io/viewer">devfile community registry</a>. A devfile is a portable YAML file that describes your development environment without needing to configure it from scratch. Using the <span class="strong strong"><strong>Devfile registry</strong></span>, you can use a pre-configured devfile to create an application.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Navigate to <span class="strong strong"><strong>Developer Perspective</strong></span> → <span class="strong strong"><strong>+Add</strong></span> → <span class="strong strong"><strong>Developer Catalog</strong></span> → <span class="strong strong"><strong>All Services</strong></span>. A list of all the available services in the <span class="strong strong"><strong>Developer Catalog</strong></span> is displayed.
						</li><li class="listitem">
							Under <span class="strong strong"><strong>All Services</strong></span>, select <span class="strong strong"><strong>Devfiles</strong></span> to browse for devfiles that support a particular language or framework. Alternatively, you can use the keyword filter to search for a particular devfile using their name, tag, or description.
						</li><li class="listitem">
							Click the devfile you want to use to create an application. The devfile tile displays the details of the devfile, including the name, description, provider, and the documentation of the devfile.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Create</strong></span> to create an application and view the application in the <span class="strong strong"><strong>Topology</strong></span> view.
						</li></ol></div></section><section class="section" id="odc-using-the-developer-catalog-to-add-services-or-components_odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h3 class="title">3.1.7. Using the Developer Catalog to add services or components to your application</h3></div></div></div><p>
					You use the Developer Catalog to deploy applications and services based on Operator backed services such as Databases, Builder Images, and Helm Charts. The Developer Catalog contains a collection of application components, services, event sources, or source-to-image builders that you can add to your project. Cluster administrators can customize the content made available in the catalog.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Developer</strong></span> perspective, navigate to the <span class="strong strong"><strong>+Add</strong></span> view and from the <span class="strong strong"><strong>Developer Catalog</strong></span> tile, click <span class="strong strong"><strong>All Services</strong></span> to view all the available services in the <span class="strong strong"><strong>Developer Catalog</strong></span>.
						</li><li class="listitem">
							Under <span class="strong strong"><strong>All Services</strong></span>, select the kind of service or the component you need to add to your project. For this example, select <span class="strong strong"><strong>Databases</strong></span> to list all the database services and then click <span class="strong strong"><strong>MariaDB</strong></span> to see the details for the service.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Instantiate Template</strong></span> to see an automatically populated template with details for the <span class="strong strong"><strong>MariaDB</strong></span> service, and then click <span class="strong strong"><strong>Create</strong></span> to create and view the MariaDB service in the <span class="strong strong"><strong>Topology</strong></span> view.
						</p><div class="figure" id="idm140419029096272"><p class="title"><strong>Figure 3.1. MariaDB in Topology</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/14de58d0ff15ca18d6c4db1f64ccb41a/odc_devcatalog_toplogy.png" alt="odc devcatalog toplogy"/></div></div></div></li></ol></div></section><section class="section _additional-resources" id="additional-resources_odc-creating-applications-using-developer-perspective"><div class="titlepage"><div><div><h3 class="title">3.1.8. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information about Knative routing settings for OpenShift Serverless, see <a class="link" href="https://docs.openshift.com/serverless/1.28/knative-serving/external-ingress-routing/routing-overview.html#routing-overview">Routing</a>.
						</li><li class="listitem">
							For more information about domain mapping settings for OpenShift Serverless, see <a class="link" href="https://docs.openshift.com/serverless/1.28/knative-serving/config-custom-domains/serverless-custom-domains.html#serverless-custom-domains">Configuring a custom domain for a Knative service</a>.
						</li><li class="listitem">
							For more information about Knative autoscaling settings for OpenShift Serverless, see <a class="link" href="https://docs.openshift.com/serverless/1.28/knative-serving/autoscaling/serverless-autoscaling-developer.html#serverless-autoscaling-developer">Autoscaling</a>.
						</li><li class="listitem">
							For more information about adding a new user to a project, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-providing-project-permissions-using-developer-perspective_projects">Working with projects</a>.
						</li><li class="listitem">
							For more information about creating a Helm Chart repository, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-helm-releases-using-developer-perspective_configuring-custom-helm-chart-repositories">Creating Helm Chart repositories</a>.
						</li></ul></div></section></section><section class="section" id="creating-apps-from-installed-operators"><div class="titlepage"><div><div><h2 class="title">3.2. Creating applications from installed Operators</h2></div></div></div><p>
				<span class="emphasis"><em>Operators</em></span> are a method of packaging, deploying, and managing a Kubernetes application. You can create applications on OpenShift Container Platform using Operators that have been installed by a cluster administrator.
			</p><p>
				This guide walks developers through an example of creating applications from an installed Operator using the OpenShift Container Platform web console.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						See the <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/operators/#olm-what-operators-are">Operators</a> guide for more on how Operators work and how the Operator Lifecycle Manager is integrated in OpenShift Container Platform.
					</li></ul></div><section class="section" id="olm-creating-etcd-cluster-from-operator_creating-apps-from-installed-operators"><div class="titlepage"><div><div><h3 class="title">3.2.1. Creating an etcd cluster using an Operator</h3></div></div></div><p>
					This procedure walks through creating a new etcd cluster using the etcd Operator, managed by Operator Lifecycle Manager (OLM).
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Access to an OpenShift Container Platform 4.13 cluster.
						</li><li class="listitem">
							The etcd Operator already installed cluster-wide by an administrator.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Create a new project in the OpenShift Container Platform web console for this procedure. This example uses a project called <code class="literal">my-etcd</code>.
						</li><li class="listitem"><p class="simpara">
							Navigate to the <span class="strong strong"><strong>Operators → Installed Operators</strong></span> page. The Operators that have been installed to the cluster by the cluster administrator and are available for use are shown here as a list of cluster service versions (CSVs). CSVs are used to launch and manage the software provided by the Operator.
						</p><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
							You can get this list from the CLI using:
						</p><pre class="programlisting language-terminal">$ oc get csv</pre></div></div></li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Installed Operators</strong></span> page, click the etcd Operator to view more details and available actions.
						</p><p class="simpara">
							As shown under <span class="strong strong"><strong>Provided APIs</strong></span>, this Operator makes available three new resource types, including one for an <span class="strong strong"><strong>etcd Cluster</strong></span> (the <code class="literal">EtcdCluster</code> resource). These objects work similar to the built-in native Kubernetes ones, such as <code class="literal">Deployment</code> or <code class="literal">ReplicaSet</code>, but contain logic specific to managing etcd.
						</p></li><li class="listitem"><p class="simpara">
							Create a new etcd cluster:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									In the <span class="strong strong"><strong>etcd Cluster</strong></span> API box, click <span class="strong strong"><strong>Create instance</strong></span>.
								</li><li class="listitem">
									The next page allows you to make any modifications to the minimal starting template of an <code class="literal">EtcdCluster</code> object, such as the size of the cluster. For now, click <span class="strong strong"><strong>Create</strong></span> to finalize. This triggers the Operator to start up the pods, services, and other components of the new etcd cluster.
								</li></ol></div></li><li class="listitem"><p class="simpara">
							Click the <span class="strong strong"><strong>example</strong></span> etcd cluster, then click the <span class="strong strong"><strong>Resources</strong></span> tab to see that your project now contains a number of resources created and configured automatically by the Operator.
						</p><p class="simpara">
							Verify that a Kubernetes service has been created that allows you to access the database from other pods in your project.
						</p></li><li class="listitem"><p class="simpara">
							All users with the <code class="literal">edit</code> role in a given project can create, manage, and delete application instances (an etcd cluster, in this example) managed by Operators that have already been created in the project, in a self-service manner, just like a cloud service. If you want to enable additional users with this ability, project administrators can add the role using the following command:
						</p><pre class="programlisting language-terminal">$ oc policy add-role-to-user edit &lt;user&gt; -n &lt;target_project&gt;</pre></li></ol></div><p>
					You now have an etcd cluster that will react to failures and rebalance data as pods become unhealthy or are migrated between nodes in the cluster. Most importantly, cluster administrators or developers with proper access can now easily use the database with their applications.
				</p></section></section><section class="section" id="creating-applications-using-cli"><div class="titlepage"><div><div><h2 class="title">3.3. Creating applications using the CLI</h2></div></div></div><p>
				You can create an OpenShift Container Platform application from components that include source or binary code, images, and templates by using the OpenShift Container Platform CLI.
			</p><p>
				The set of objects created by <code class="literal">new-app</code> depends on the artifacts passed as input: source repositories, images, or templates.
			</p><section class="section" id="applications-create-using-cli-source-code_creating-applications-using-cli"><div class="titlepage"><div><div><h3 class="title">3.3.1. Creating an application from source code</h3></div></div></div><p>
					With the <code class="literal">new-app</code> command you can create applications from source code in a local or remote Git repository.
				</p><p>
					The <code class="literal">new-app</code> command creates a build configuration, which itself creates a new application image from your source code. The <code class="literal">new-app</code> command typically also creates a <code class="literal">Deployment</code> object to deploy the new image, and a service to provide load-balanced access to the deployment running your image.
				</p><p>
					OpenShift Container Platform automatically detects whether the pipeline, source, or docker build strategy should be used, and in the case of source build, detects an appropriate language builder image.
				</p><section class="section" id="local_creating-applications-using-cli"><div class="titlepage"><div><div><h4 class="title">3.3.1.1. Local</h4></div></div></div><p>
						To create an application from a Git repository in a local directory:
					</p><pre class="programlisting language-terminal">$ oc new-app /&lt;path to source code&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If you use a local Git repository, the repository must have a remote named <code class="literal">origin</code> that points to a URL that is accessible by the OpenShift Container Platform cluster. If there is no recognized remote, running the <code class="literal">new-app</code> command will create a binary build.
						</p></div></div></section><section class="section" id="remote_creating-applications-using-cli"><div class="titlepage"><div><div><h4 class="title">3.3.1.2. Remote</h4></div></div></div><p>
						To create an application from a remote Git repository:
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/sclorg/cakephp-ex</pre><p>
						To create an application from a private remote Git repository:
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/youruser/yourprivaterepo --source-secret=yoursecret</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If you use a private remote Git repository, you can use the <code class="literal">--source-secret</code> flag to specify an existing source clone secret that will get injected into your build config to access the repository.
						</p></div></div><p>
						You can use a subdirectory of your source code repository by specifying a <code class="literal">--context-dir</code> flag. To create an application from a remote Git repository and a context subdirectory:
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/sclorg/s2i-ruby-container.git \
    --context-dir=2.0/test/puma-test-app</pre><p>
						Also, when specifying a remote URL, you can specify a Git branch to use by appending <code class="literal">#&lt;branch_name&gt;</code> to the end of the URL:
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/openshift/ruby-hello-world.git#beta4</pre></section><section class="section" id="build-strategy-detection_creating-applications-using-cli"><div class="titlepage"><div><div><h4 class="title">3.3.1.3. Build strategy detection</h4></div></div></div><p>
						OpenShift Container Platform automatically determines which build strategy to use by detecting certain files:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								If a Jenkins file exists in the root or specified context directory of the source repository when creating a new application, OpenShift Container Platform generates a pipeline build strategy.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The <code class="literal">pipeline</code> build strategy is deprecated; consider using Red Hat OpenShift Pipelines instead.
								</p></div></div></li><li class="listitem">
								If a Dockerfile exists in the root or specified context directory of the source repository when creating a new application, OpenShift Container Platform generates a docker build strategy.
							</li><li class="listitem">
								If neither a Jenkins file nor a Dockerfile is detected, OpenShift Container Platform generates a source build strategy.
							</li></ul></div><p>
						Override the automatically detected build strategy by setting the <code class="literal">--strategy</code> flag to <code class="literal">docker</code>, <code class="literal">pipeline</code>, or <code class="literal">source</code>.
					</p><pre class="programlisting language-terminal">$ oc new-app /home/user/code/myapp --strategy=docker</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The <code class="literal">oc</code> command requires that files containing build sources are available in a remote Git repository. For all source builds, you must use <code class="literal">git remote -v</code>.
						</p></div></div></section><section class="section" id="language-detection_creating-applications-using-cli"><div class="titlepage"><div><div><h4 class="title">3.3.1.4. Language detection</h4></div></div></div><p>
						If you use the source build strategy, <code class="literal">new-app</code> attempts to determine the language builder to use by the presence of certain files in the root or specified context directory of the repository:
					</p><div class="table" id="idm140419024167632"><p class="title"><strong>Table 3.1. Languages detected by <code class="literal">new-app</code></strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419032374144" scope="col">Language</th><th align="left" valign="top" id="idm140419032373056" scope="col">Files</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">dotnet</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">project.json</code>, <code class="literal">*.csproj</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">jee</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">pom.xml</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">nodejs</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">app.json</code>, <code class="literal">package.json</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">perl</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">cpanfile</code>, <code class="literal">index.pl</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">php</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">composer.json</code>, <code class="literal">index.php</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">python</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">requirements.txt</code>, <code class="literal">setup.py</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">ruby</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">Gemfile</code>, <code class="literal">Rakefile</code>, <code class="literal">config.ru</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">scala</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">build.sbt</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419032374144"> <p>
										<code class="literal">golang</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419032373056"> <p>
										<code class="literal">Godeps</code>, <code class="literal">main.go</code>
									</p>
									 </td></tr></tbody></table></div></div><p>
						After a language is detected, <code class="literal">new-app</code> searches the OpenShift Container Platform server for image stream tags that have a <code class="literal">supports</code> annotation matching the detected language, or an image stream that matches the name of the detected language. If a match is not found, <code class="literal">new-app</code> searches the <a class="link" href="https://registry.hub.docker.com">Docker Hub registry</a> for an image that matches the detected language based on name.
					</p><p>
						You can override the image the builder uses for a particular source repository by specifying the image, either an image stream or container specification, and the repository with a <code class="literal">~</code> as a separator. Note that if this is done, build strategy detection and language detection are not carried out.
					</p><p>
						For example, to use the <code class="literal">myproject/my-ruby</code> imagestream with the source in a remote repository:
					</p><pre class="programlisting language-terminal">$ oc new-app myproject/my-ruby~https://github.com/openshift/ruby-hello-world.git</pre><p>
						To use the <code class="literal">openshift/ruby-20-centos7:latest</code> container image stream with the source in a local repository:
					</p><pre class="programlisting language-terminal">$ oc new-app openshift/ruby-20-centos7:latest~/home/user/code/my-ruby-app</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Language detection requires the Git client to be locally installed so that your repository can be cloned and inspected. If Git is not available, you can avoid the language detection step by specifying the builder image to use with your repository with the <code class="literal">&lt;image&gt;~&lt;repository&gt;</code> syntax.
						</p><p>
							The <code class="literal">-i &lt;image&gt; &lt;repository&gt;</code> invocation requires that <code class="literal">new-app</code> attempt to clone <code class="literal">repository</code> to determine what type of artifact it is, so this will fail if Git is not available.
						</p><p>
							The <code class="literal">-i &lt;image&gt; --code &lt;repository&gt;</code> invocation requires <code class="literal">new-app</code> clone <code class="literal">repository</code> to determine whether <code class="literal">image</code> should be used as a builder for the source code, or deployed separately, as in the case of a database image.
						</p></div></div></section></section><section class="section" id="applications-create-using-cli-image_creating-applications-using-cli"><div class="titlepage"><div><div><h3 class="title">3.3.2. Creating an application from an image</h3></div></div></div><p>
					You can deploy an application from an existing image. Images can come from image streams in the OpenShift Container Platform server, images in a specific registry, or images in the local Docker server.
				</p><p>
					The <code class="literal">new-app</code> command attempts to determine the type of image specified in the arguments passed to it. However, you can explicitly tell <code class="literal">new-app</code> whether the image is a container image using the <code class="literal">--docker-image</code> argument or an image stream using the <code class="literal">-i|--image-stream</code> argument.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you specify an image from your local Docker repository, you must ensure that the same image is available to the OpenShift Container Platform cluster nodes.
					</p></div></div><section class="section" id="docker-hub-mysql-image"><div class="titlepage"><div><div><h4 class="title">3.3.2.1. Docker Hub MySQL image</h4></div></div></div><p>
						Create an application from the Docker Hub MySQL image, for example:
					</p><pre class="programlisting language-terminal">$ oc new-app mysql</pre></section><section class="section" id="image-in-a-private-registry"><div class="titlepage"><div><div><h4 class="title">3.3.2.2. Image in a private registry</h4></div></div></div><p>
						Create an application using an image in a private registry, specify the full container image specification:
					</p><pre class="programlisting language-terminal">$ oc new-app myregistry:5000/example/myimage</pre></section><section class="section" id="existing-image-stream-and-optional-image-stream-tag"><div class="titlepage"><div><div><h4 class="title">3.3.2.3. Existing image stream and optional image stream tag</h4></div></div></div><p>
						Create an application from an existing image stream and optional image stream tag:
					</p><pre class="programlisting language-terminal">$ oc new-app my-stream:v1</pre></section></section><section class="section" id="applications-create-using-cli-template_creating-applications-using-cli"><div class="titlepage"><div><div><h3 class="title">3.3.3. Creating an application from a template</h3></div></div></div><p>
					You can create an application from a previously stored template or from a template file, by specifying the name of the template as an argument. For example, you can store a sample application template and use it to create an application.
				</p><p>
					Upload an application template to your current project’s template library. The following example uploads an application template from a file called <code class="literal">examples/sample-app/application-template-stibuild.json</code>:
				</p><pre class="programlisting language-terminal">$ oc create -f examples/sample-app/application-template-stibuild.json</pre><p>
					Then create a new application by referencing the application template. In this example, the template name is <code class="literal">ruby-helloworld-sample</code>:
				</p><pre class="programlisting language-terminal">$ oc new-app ruby-helloworld-sample</pre><p>
					To create a new application by referencing a template file in your local file system, without first storing it in OpenShift Container Platform, use the <code class="literal">-f|--file</code> argument. For example:
				</p><pre class="programlisting language-terminal">$ oc new-app -f examples/sample-app/application-template-stibuild.json</pre><section class="section" id="template-parameters"><div class="titlepage"><div><div><h4 class="title">3.3.3.1. Template parameters</h4></div></div></div><p>
						When creating an application based on a template, use the <code class="literal">-p|--param</code> argument to set parameter values that are defined by the template:
					</p><pre class="programlisting language-terminal">$ oc new-app ruby-helloworld-sample \
    -p ADMIN_USERNAME=admin -p ADMIN_PASSWORD=mypassword</pre><p>
						You can store your parameters in a file, then use that file with <code class="literal">--param-file</code> when instantiating a template. If you want to read the parameters from standard input, use <code class="literal">--param-file=-</code>. The following is an example file called <code class="literal">helloworld.params</code>:
					</p><pre class="programlisting language-terminal">ADMIN_USERNAME=admin
ADMIN_PASSWORD=mypassword</pre><p>
						Reference the parameters in the file when instantiating a template:
					</p><pre class="programlisting language-terminal">$ oc new-app ruby-helloworld-sample --param-file=helloworld.params</pre></section></section><section class="section" id="applications-create-using-cli-modify_creating-applications-using-cli"><div class="titlepage"><div><div><h3 class="title">3.3.4. Modifying application creation</h3></div></div></div><p>
					The <code class="literal">new-app</code> command generates OpenShift Container Platform objects that build, deploy, and run the application that is created. Normally, these objects are created in the current project and assigned names that are derived from the input source repositories or the input images. However, with <code class="literal">new-app</code> you can modify this behavior.
				</p><div class="table" id="idm140419025336784"><p class="title"><strong>Table 3.2. <code class="literal">new-app</code> output objects</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 80%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419026279248" scope="col">Object</th><th align="left" valign="top" id="idm140419026278272" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419026279248"> <p>
									<code class="literal">BuildConfig</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419026278272"> <p>
									A <code class="literal">BuildConfig</code> object is created for each source repository that is specified in the command line. The <code class="literal">BuildConfig</code> object specifies the strategy to use, the source location, and the build output location.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419026279248"> <p>
									<code class="literal">ImageStreams</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419026278272"> <p>
									For the <code class="literal">BuildConfig</code> object, two image streams are usually created. One represents the input image. With source builds, this is the builder image. With <code class="literal">Docker</code> builds, this is the <span class="strong strong"><strong>FROM</strong></span> image. The second one represents the output image. If a container image was specified as input to <code class="literal">new-app</code>, then an image stream is created for that image as well.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419026279248"> <p>
									<code class="literal">DeploymentConfig</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419026278272"> <p>
									A <code class="literal">DeploymentConfig</code> object is created either to deploy the output of a build, or a specified image. The <code class="literal">new-app</code> command creates <code class="literal">emptyDir</code> volumes for all Docker volumes that are specified in containers included in the resulting <code class="literal">DeploymentConfig</code> object .
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419026279248"> <p>
									<code class="literal">Service</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419026278272"> <p>
									The <code class="literal">new-app</code> command attempts to detect exposed ports in input images. It uses the lowest numeric exposed port to generate a service that exposes that port. To expose a different port, after <code class="literal">new-app</code> has completed, simply use the <code class="literal">oc expose</code> command to generate additional services.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419026279248"> <p>
									Other
								</p>
								 </td><td align="left" valign="top" headers="idm140419026278272"> <p>
									Other objects can be generated when instantiating templates, according to the template.
								</p>
								 </td></tr></tbody></table></div></div><section class="section" id="specifying-environment-variables"><div class="titlepage"><div><div><h4 class="title">3.3.4.1. Specifying environment variables</h4></div></div></div><p>
						When generating applications from a template, source, or an image, you can use the <code class="literal">-e|--env</code> argument to pass environment variables to the application container at run time:
					</p><pre class="programlisting language-terminal">$ oc new-app openshift/postgresql-92-centos7 \
    -e POSTGRESQL_USER=user \
    -e POSTGRESQL_DATABASE=db \
    -e POSTGRESQL_PASSWORD=password</pre><p>
						The variables can also be read from file using the <code class="literal">--env-file</code> argument. The following is an example file called <code class="literal">postgresql.env</code>:
					</p><pre class="programlisting language-terminal">POSTGRESQL_USER=user
POSTGRESQL_DATABASE=db
POSTGRESQL_PASSWORD=password</pre><p>
						Read the variables from the file:
					</p><pre class="programlisting language-terminal">$ oc new-app openshift/postgresql-92-centos7 --env-file=postgresql.env</pre><p>
						Additionally, environment variables can be given on standard input by using <code class="literal">--env-file=-</code>:
					</p><pre class="programlisting language-terminal">$ cat postgresql.env | oc new-app openshift/postgresql-92-centos7 --env-file=-</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Any <code class="literal">BuildConfig</code> objects created as part of <code class="literal">new-app</code> processing are not updated with environment variables passed with the <code class="literal">-e|--env</code> or <code class="literal">--env-file</code> argument.
						</p></div></div></section><section class="section" id="specifying-build-environment-variables"><div class="titlepage"><div><div><h4 class="title">3.3.4.2. Specifying build environment variables</h4></div></div></div><p>
						When generating applications from a template, source, or an image, you can use the <code class="literal">--build-env</code> argument to pass environment variables to the build container at run time:
					</p><pre class="programlisting language-terminal">$ oc new-app openshift/ruby-23-centos7 \
    --build-env HTTP_PROXY=http://myproxy.net:1337/ \
    --build-env GEM_HOME=~/.gem</pre><p>
						The variables can also be read from a file using the <code class="literal">--build-env-file</code> argument. The following is an example file called <code class="literal">ruby.env</code>:
					</p><pre class="programlisting language-terminal">HTTP_PROXY=http://myproxy.net:1337/
GEM_HOME=~/.gem</pre><p>
						Read the variables from the file:
					</p><pre class="programlisting language-terminal">$ oc new-app openshift/ruby-23-centos7 --build-env-file=ruby.env</pre><p>
						Additionally, environment variables can be given on standard input by using <code class="literal">--build-env-file=-</code>:
					</p><pre class="programlisting language-terminal">$ cat ruby.env | oc new-app openshift/ruby-23-centos7 --build-env-file=-</pre></section><section class="section" id="specifying-labels"><div class="titlepage"><div><div><h4 class="title">3.3.4.3. Specifying labels</h4></div></div></div><p>
						When generating applications from source, images, or templates, you can use the <code class="literal">-l|--label</code> argument to add labels to the created objects. Labels make it easy to collectively select, configure, and delete objects associated with the application.
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/openshift/ruby-hello-world -l name=hello-world</pre></section><section class="section" id="viewing-the-output-without-creation"><div class="titlepage"><div><div><h4 class="title">3.3.4.4. Viewing the output without creation</h4></div></div></div><p>
						To see a dry-run of running the <code class="literal">new-app</code> command, you can use the <code class="literal">-o|--output</code> argument with a <code class="literal">yaml</code> or <code class="literal">json</code> value. You can then use the output to preview the objects that are created or redirect it to a file that you can edit. After you are satisfied, you can use <code class="literal">oc create</code> to create the OpenShift Container Platform objects.
					</p><p>
						To output <code class="literal">new-app</code> artifacts to a file, run the following:
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/openshift/ruby-hello-world \
    -o yaml &gt; myapp.yaml</pre><p>
						Edit the file:
					</p><pre class="programlisting language-terminal">$ vi myapp.yaml</pre><p>
						Create a new application by referencing the file:
					</p><pre class="programlisting language-terminal">$ oc create -f myapp.yaml</pre></section><section class="section" id="creating-objects-with-different-names"><div class="titlepage"><div><div><h4 class="title">3.3.4.5. Creating objects with different names</h4></div></div></div><p>
						Objects created by <code class="literal">new-app</code> are normally named after the source repository, or the image used to generate them. You can set the name of the objects produced by adding a <code class="literal">--name</code> flag to the command:
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/openshift/ruby-hello-world --name=myapp</pre></section><section class="section" id="creating-objects-in-a-different-project"><div class="titlepage"><div><div><h4 class="title">3.3.4.6. Creating objects in a different project</h4></div></div></div><p>
						Normally, <code class="literal">new-app</code> creates objects in the current project. However, you can create objects in a different project by using the <code class="literal">-n|--namespace</code> argument:
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/openshift/ruby-hello-world -n myproject</pre></section><section class="section" id="creating-multiple-objects"><div class="titlepage"><div><div><h4 class="title">3.3.4.7. Creating multiple objects</h4></div></div></div><p>
						The <code class="literal">new-app</code> command allows creating multiple applications specifying multiple parameters to <code class="literal">new-app</code>. Labels specified in the command line apply to all objects created by the single command. Environment variables apply to all components created from source or images.
					</p><p>
						To create an application from a source repository and a Docker Hub image:
					</p><pre class="programlisting language-terminal">$ oc new-app https://github.com/openshift/ruby-hello-world mysql</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If a source code repository and a builder image are specified as separate arguments, <code class="literal">new-app</code> uses the builder image as the builder for the source code repository. If this is not the intent, specify the required builder image for the source using the <code class="literal">~</code> separator.
						</p></div></div></section><section class="section" id="grouping-images-and-source-in-a-single-pod"><div class="titlepage"><div><div><h4 class="title">3.3.4.8. Grouping images and source in a single pod</h4></div></div></div><p>
						The <code class="literal">new-app</code> command allows deploying multiple images together in a single pod. To specify which images to group together, use the <code class="literal">+</code> separator. The <code class="literal">--group</code> command line argument can also be used to specify the images that should be grouped together. To group the image built from a source repository with other images, specify its builder image in the group:
					</p><pre class="programlisting language-terminal">$ oc new-app ruby+mysql</pre><p>
						To deploy an image built from source and an external image together:
					</p><pre class="programlisting language-terminal">$ oc new-app \
    ruby~https://github.com/openshift/ruby-hello-world \
    mysql \
    --group=ruby+mysql</pre></section><section class="section" id="searching-for-images-templates-and-other-inputs"><div class="titlepage"><div><div><h4 class="title">3.3.4.9. Searching for images, templates, and other inputs</h4></div></div></div><p>
						To search for images, templates, and other inputs for the <code class="literal">oc new-app</code> command, add the <code class="literal">--search</code> and <code class="literal">--list</code> flags. For example, to find all of the images or templates that include PHP:
					</p><pre class="programlisting language-terminal">$ oc new-app --search php</pre></section></section></section></section><section class="chapter" id="odc-viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Viewing application composition using the Topology view</h1></div></div></div><p>
			The <span class="strong strong"><strong>Topology</strong></span> view in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console provides a visual representation of all the applications within a project, their build status, and the components and services associated with them.
		</p><section class="section" id="prerequisites"><div class="titlepage"><div><div><h2 class="title">4.1. Prerequisites</h2></div></div></div><p>
				To view your applications in the <span class="strong strong"><strong>Topology</strong></span> view and interact with them, ensure that:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#web-console">logged in to the web console</a>.
					</li><li class="listitem">
						You have the appropriate <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/authentication_and_authorization/#default-roles_using-rbac">roles and permissions</a> in a project to create applications and other workloads in OpenShift Container Platform.
					</li><li class="listitem">
						You have <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">created and deployed an application on OpenShift Container Platform using the <span class="strong strong"><strong>Developer</strong></span> perspective</a>.
					</li><li class="listitem">
						You are in <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#about-developer-perspective_web-console-overview">the <span class="strong strong"><strong>Developer</strong></span> perspective</a>.
					</li></ul></div></section><section class="section" id="odc-viewing-application-topology_viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h2 class="title">4.2. Viewing the topology of your application</h2></div></div></div><p>
				You can navigate to the <span class="strong strong"><strong>Topology</strong></span> view using the left navigation panel in the <span class="strong strong"><strong>Developer</strong></span> perspective. After you deploy an application, you are directed automatically to the <span class="strong strong"><strong>Graph view</strong></span> where you can see the status of the application pods, quickly access the application on a public URL, access the source code to modify it, and see the status of your last build. You can zoom in and out to see more details for a particular application.
			</p><p>
				The <span class="strong strong"><strong>Topology</strong></span> view provides you the option to monitor your applications using the <span class="strong strong"><strong>List</strong></span> view. Use the <span class="strong strong"><strong>List view</strong></span> icon ( 
				<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/032596348862094372b7b78bde8be659/odc_list_view_icon.png" alt="odc list view icon"/></span>
				 ) to see a list of all your applications and use the <span class="strong strong"><strong>Graph view</strong></span> icon ( 
				<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/512a1cd17c0c727218bc5ec50a992423/odc_topology_view_icon.png" alt="odc topology view icon"/></span>
				 ) to switch back to the graph view.
			</p><p>
				You can customize the views as required using the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Use the <span class="strong strong"><strong>Find by name</strong></span> field to find the required components. Search results may appear outside of the visible area; click <span class="strong strong"><strong>Fit to Screen</strong></span> from the lower-left toolbar to resize the <span class="strong strong"><strong>Topology</strong></span> view to show all components.
					</li><li class="listitem"><p class="simpara">
						Use the <span class="strong strong"><strong>Display Options</strong></span> drop-down list to configure the <span class="strong strong"><strong>Topology</strong></span> view of the various application groupings. The options are available depending on the types of components deployed in the project:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Mode</strong></span> (<span class="strong strong"><strong>Connectivity</strong></span> or <span class="strong strong"><strong>Consumption</strong></span>)
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										Connectivity: Select to show all the connections between the different nodes in the topology.
									</li><li class="listitem">
										Consumption: Select to show the resource consumption for all nodes in the topology.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Expand</strong></span> group
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										Virtual Machines: Toggle to show or hide the virtual machines.
									</li><li class="listitem">
										Application Groupings: Clear to condense the application groups into cards with an overview of an application group and alerts associated with it.
									</li><li class="listitem">
										Helm Releases: Clear to condense the components deployed as Helm Release into cards with an overview of a given release.
									</li><li class="listitem">
										Knative Services: Clear to condense the Knative Service components into cards with an overview of a given component.
									</li><li class="listitem">
										Operator Groupings: Clear to condense the components deployed with an Operator into cards with an overview of the given group.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								<span class="strong strong"><strong>Show</strong></span> elements based on <span class="strong strong"><strong>Pod Count</strong></span> or <span class="strong strong"><strong>Labels</strong></span>
							</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
										Pod Count: Select to show the number of pods of a component in the component icon.
									</li><li class="listitem">
										Labels: Toggle to show or hide the component labels.
									</li></ul></div></li></ul></div></li></ul></div><p>
				The <span class="strong strong"><strong>Topology</strong></span> view also provides you the <span class="strong strong"><strong>Export application</strong></span> option to download your application in the ZIP file format. You can then import the downloaded application to another project or cluster. For more details, see <span class="emphasis"><em>Exporting an application to another project or cluster</em></span> in the <span class="emphasis"><em>Additional resources</em></span> section.
			</p></section><section class="section" id="odc-interacting-with-applications-and-components_viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h2 class="title">4.3. Interacting with applications and components</h2></div></div></div><p>
				The <span class="strong strong"><strong>Topology</strong></span> view in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console provides the following options to interact with applications and components:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Click <span class="strong strong"><strong>Open URL</strong></span> ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/935e20fdabb88622ee5ed9c3836b9705/odc_open_url.png" alt="odc open url"/></span>
						 ) to see your application exposed by the route on a public URL.
					</li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Edit Source code</strong></span> to access your source code and modify it.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							This feature is available only when you create applications using the <span class="strong strong"><strong>From Git</strong></span>, <span class="strong strong"><strong>From Catalog</strong></span>, and the <span class="strong strong"><strong>From Dockerfile</strong></span> options.
						</p></div></div></li><li class="listitem">
						Hover your cursor over the lower left icon on the pod to see the name of the latest build and its status. The status of the application build is indicated as <span class="strong strong"><strong>New</strong></span> ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/b4b199ee0f13773ce40eefaa019cebf3/odc_build_new.png" alt="odc build new"/></span>
						 ), <span class="strong strong"><strong>Pending</strong></span> ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/b936431954c3678339a48fc8a4dcbf43/odc_build_pending.png" alt="odc build pending"/></span>
						 ), <span class="strong strong"><strong>Running</strong></span> ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/b53ca1c32220ad9a4f50c455ea961a37/odc_build_running.png" alt="odc build running"/></span>
						 ), <span class="strong strong"><strong>Completed</strong></span> ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/48466535c20702ed8ae9ba111939bdba/odc_build_completed.png" alt="odc build completed"/></span>
						 ), <span class="strong strong"><strong>Failed</strong></span> ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/b5ed88e2c0962b80f4d61a983f117cbb/odc_build_failed.png" alt="odc build failed"/></span>
						 ), and <span class="strong strong"><strong>Canceled</strong></span> ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/434ad5a70d759bd165c935cf73afd081/odc_build_canceled.png" alt="odc build canceled"/></span>
						 ).
					</li><li class="listitem"><p class="simpara">
						The status or phase of the pod is indicated by different colors and tooltips as:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<span class="strong strong"><strong>Running</strong></span> ( 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/2b2c12ba003e6bc0a0512693ea37305c/odc_pod_running.png" alt="odc pod running"/></span>
								 ): The pod is bound to a node and all of the containers are created. At least one container is still running or is in the process of starting or restarting.
							</li><li class="listitem">
								<span class="strong strong"><strong>Not Ready</strong></span> ( 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/7dc55a974c78996258961aa4929d76e0/odc_pod_not_ready.png" alt="odc pod not ready"/></span>
								 ): The pods which are running multiple containers, not all containers are ready.
							</li><li class="listitem">
								<span class="strong strong"><strong>Warning</strong></span>( 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/39dd029b4f05e8fe1fdba56d311be8c1/odc_pod_warning.png" alt="odc pod warning"/></span>
								 ): Containers in pods are being terminated, however termination did not succeed. Some containers may be other states.
							</li><li class="listitem">
								<span class="strong strong"><strong>Failed</strong></span>( 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/3ebd9f8177d9f96f1e6bc8bd7cf5f253/odc_pod_failed.png" alt="odc pod failed"/></span>
								 ): All containers in the pod terminated but least one container has terminated in failure. That is, the container either exited with non-zero status or was terminated by the system.
							</li><li class="listitem">
								<span class="strong strong"><strong>Pending</strong></span>( 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/6a2fa584885ce48d7b63c0184b87976b/odc_pod_pending.png" alt="odc pod pending"/></span>
								 ): The pod is accepted by the Kubernetes cluster, but one or more of the containers has not been set up and made ready to run. This includes time a pod spends waiting to be scheduled as well as the time spent downloading container images over the network.
							</li><li class="listitem">
								<span class="strong strong"><strong>Succeeded</strong></span>( 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/389e9d0594c695f7afaa49777906ea0c/odc_pod_succeeded.png" alt="odc pod succeeded"/></span>
								 ): All containers in the pod terminated successfully and will not be restarted.
							</li><li class="listitem">
								<span class="strong strong"><strong>Terminating</strong></span>( 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/1d9e41349c68d2425f56d8246187d365/odc_pod_terminating.png" alt="odc pod terminating"/></span>
								 ): When a pod is being deleted, it is shown as <span class="strong strong"><strong>Terminating</strong></span> by some kubectl commands. <span class="strong strong"><strong>Terminating</strong></span> status is not one of the pod phases. A pod is granted a graceful termination period, which defaults to 30 seconds.
							</li><li class="listitem">
								<span class="strong strong"><strong>Unknown</strong></span>( 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/93008c425c214b34cb4017349920feeb/odc_pod_unknown.png" alt="odc pod unknown"/></span>
								 ): The state of the pod could not be obtained. This phase typically occurs due to an error in communicating with the node where the pod should be running.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						After you create an application and an image is deployed, the status is shown as <span class="strong strong"><strong>Pending</strong></span>. After the application is built, it is displayed as <span class="strong strong"><strong>Running</strong></span>.
					</p><div class="figure" id="idm140419022574256"><p class="title"><strong>Figure 4.1. Application topology</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/7d9608cc5434de0b7d15b82b336ad2a4/odc_application_topology.png" alt="odc application topology"/></div></div></div><p class="simpara">
						The application resource name is appended with indicators for the different types of resource objects as follows:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								<span class="strong strong"><strong>CJ</strong></span>: <code class="literal">CronJob</code>
							</li><li class="listitem">
								<span class="strong strong"><strong>D</strong></span>: <code class="literal">Deployment</code>
							</li><li class="listitem">
								<span class="strong strong"><strong>DC</strong></span>: <code class="literal">DeploymentConfig</code>
							</li><li class="listitem">
								<span class="strong strong"><strong>DS</strong></span>: <code class="literal">DaemonSet</code>
							</li><li class="listitem">
								<span class="strong strong"><strong>J</strong></span>: <code class="literal">Job</code>
							</li><li class="listitem">
								<span class="strong strong"><strong>P</strong></span>: <code class="literal">Pod</code>
							</li><li class="listitem">
								<span class="strong strong"><strong>SS</strong></span>: <code class="literal">StatefulSet</code>
							</li><li class="listitem"><p class="simpara">
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/6af4ad8f4cd8c13ae1e4afdcf07e473b/odc_serverless_app.png" alt="odc serverless app"/></span>
								 (Knative): A serverless application
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Serverless applications take some time to load and display on the <span class="strong strong"><strong>Graph view</strong></span>. When you deploy a serverless application, it first creates a service resource and then a revision. After that, it is deployed and displayed on the <span class="strong strong"><strong>Graph view</strong></span>. If it is the only workload, you might be redirected to the <span class="strong strong"><strong>Add</strong></span> page. After the revision is deployed, the serverless application is displayed on the <span class="strong strong"><strong>Graph view</strong></span>.
								</p></div></div></li></ul></div></li></ul></div></section><section class="section" id="odc-scaling-application-pods-and-checking-builds-and-routes_viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h2 class="title">4.4. Scaling application pods and checking builds and routes</h2></div></div></div><p>
				The <span class="strong strong"><strong>Topology</strong></span> view provides the details of the deployed components in the <span class="strong strong"><strong>Overview</strong></span> panel. You can use the <span class="strong strong"><strong>Overview</strong></span> and <span class="strong strong"><strong>Resources</strong></span> tabs to scale the application pods, check build status, services, and routes as follows:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Click on the component node to see the <span class="strong strong"><strong>Overview</strong></span> panel to the right. Use the <span class="strong strong"><strong>Overview</strong></span> tab to:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Scale your pods using the up and down arrows to increase or decrease the number of instances of the application manually. For serverless applications, the pods are automatically scaled down to zero when idle and scaled up depending on the channel traffic.
							</li><li class="listitem">
								Check the <span class="strong strong"><strong>Labels</strong></span>, <span class="strong strong"><strong>Annotations</strong></span>, and <span class="strong strong"><strong>Status</strong></span> of the application.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Click the <span class="strong strong"><strong>Resources</strong></span> tab to:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								See the list of all the pods, view their status, access logs, and click on the pod to see the pod details.
							</li><li class="listitem">
								See the builds, their status, access logs, and start a new build if needed.
							</li><li class="listitem">
								See the services and routes used by the component.
							</li></ul></div><p class="simpara">
						For serverless applications, the <span class="strong strong"><strong>Resources</strong></span> tab provides information on the revision, routes, and the configurations used for that component.
					</p></li></ul></div></section><section class="section" id="odc-adding-components-to-an-existing-project_viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h2 class="title">4.5. Adding components to an existing project</h2></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Click <span class="strong strong"><strong>Add to Project</strong></span> ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/5b87d4a4a0268db0628c55650add180c/odc_add_to_project.png" alt="odc add to project"/></span>
						 ) next to left navigation pane or press <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>Space</strong></span>
					</li><li class="listitem">
						Search for the component and select <span class="strong strong"><strong>Create</strong></span> or press <span class="keycap"><strong>Enter</strong></span> to add the component to the project and see it in the topology <span class="strong strong"><strong>Graph view</strong></span>.
					</li></ol></div><div class="figure" id="idm140419029466368"><p class="title"><strong>Figure 4.2. Adding component via quick search</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/ae0f9e9d76e3722a8fd06336775e95a4/odc_quick_search.png" alt="odc quick search"/></div></div></div><p>
				Alternatively, you can also use the <span class="strong strong"><strong>Import from Git</strong></span>, <span class="strong strong"><strong>Container Image</strong></span>, <span class="strong strong"><strong>Database</strong></span>, <span class="strong strong"><strong>From Catalog</strong></span>, <span class="strong strong"><strong>Operator Backed</strong></span>, <span class="strong strong"><strong>Helm Charts</strong></span>, <span class="strong strong"><strong>Samples</strong></span>, or <span class="strong strong"><strong>Upload JAR file</strong></span> options in the context menu by right-clicking in the topology <span class="strong strong"><strong>Graph view</strong></span> to add a component to your project.
			</p><div class="figure" id="idm140419022234880"><p class="title"><strong>Figure 4.3. Context menu to add services</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/05c61eae2a4c5a0597be374378a27c97/odc_context_project.png" alt="odc context project"/></div></div></div></section><section class="section" id="odc-grouping-multiple-components_viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h2 class="title">4.6. Grouping multiple components within an application</h2></div></div></div><p>
				You can use the <span class="strong strong"><strong>+Add</strong></span> view to add multiple components or services to your project and use the topology <span class="strong strong"><strong>Graph view</strong></span> to group applications and resources within an application group.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created and deployed minimum two or more components on OpenShift Container Platform using the <span class="strong strong"><strong>Developer</strong></span> perspective.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						To add a service to the existing application group, press <span class="keycap"><strong>Shift</strong></span>+ drag it to the existing application group. Dragging a component and adding it to an application group adds the required labels to the component.
					</p><div class="figure" id="idm140419022026176"><p class="title"><strong>Figure 4.4. Application grouping</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/17864e83a2e05d6b87f16aa1604cf1be/odc_app_grouping_label.png" alt="odc app grouping label"/></div></div></div></li></ul></div><p>
				Alternatively, you can also add the component to an application as follows:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Click the service pod to see the <span class="strong strong"><strong>Overview</strong></span> panel to the right.
					</li><li class="listitem">
						Click the <span class="strong strong"><strong>Actions</strong></span> drop-down menu and select <span class="strong strong"><strong>Edit Application Grouping</strong></span>.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Edit Application Grouping</strong></span> dialog box, click the <span class="strong strong"><strong>Application</strong></span> drop-down list, and select an appropriate application group.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Save</strong></span> to add the service to the application group.
					</li></ol></div><p>
				You can remove a component from an application group by selecting the component and using <span class="keycap"><strong>Shift</strong></span>+ drag to drag it out of the application group.
			</p></section><section class="section" id="odc-adding-services-to-your-application_viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h2 class="title">4.7. Adding services to your application</h2></div></div></div><p>
				To add a service to your application use the <span class="strong strong"><strong>+Add</strong></span> actions using the context menu in the topology <span class="strong strong"><strong>Graph view</strong></span>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In addition to the context menu, you can add services by using the sidebar or hovering and dragging the dangling arrow from the application group.
				</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Right-click an application group in the topology <span class="strong strong"><strong>Graph view</strong></span> to display the context menu.
					</p><div class="figure" id="idm140419020465200"><p class="title"><strong>Figure 4.5. Add resource context menu</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/c31e330e4328f7065ddde85250fa2205/odc_context_menu.png" alt="odc context menu"/></div></div></div></li><li class="listitem">
						Use <span class="strong strong"><strong>Add to Application</strong></span> to select a method for adding a service to the application group, such as <span class="strong strong"><strong>From Git</strong></span>, <span class="strong strong"><strong>Container Image</strong></span>, <span class="strong strong"><strong>From Dockerfile</strong></span>, <span class="strong strong"><strong>From Devfile</strong></span>, <span class="strong strong"><strong>Upload JAR file</strong></span>, <span class="strong strong"><strong>Event Source</strong></span>, <span class="strong strong"><strong>Channel</strong></span>, or <span class="strong strong"><strong>Broker</strong></span>.
					</li><li class="listitem">
						Complete the form for the method you choose and click <span class="strong strong"><strong>Create</strong></span>. For example, to add a service based on the source code in your Git repository, choose the <span class="strong strong"><strong>From Git</strong></span> method, fill in the <span class="strong strong"><strong>Import from Git</strong></span> form, and click <span class="strong strong"><strong>Create</strong></span>.
					</li></ol></div></section><section class="section" id="odc-removing-services-from-your-application_viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h2 class="title">4.8. Removing services from your application</h2></div></div></div><p>
				In the topology <span class="strong strong"><strong>Graph view</strong></span> remove a service from your application using the context menu.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Right-click on a service in an application group in the topology <span class="strong strong"><strong>Graph view</strong></span> to display the context menu.
					</li><li class="listitem"><p class="simpara">
						Select <span class="strong strong"><strong>Delete Deployment</strong></span> to delete the service.
					</p><div class="figure" id="idm140419023888800"><p class="title"><strong>Figure 4.6. Deleting deployment option</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/6267fdc66e5082c965562e84208b3f81/odc_deleting_deployment.png" alt="odc deleting deployment"/></div></div></div></li></ol></div></section><section class="section" id="odc-labels-and-annotations-used-for-topology-view_viewing-application-composition-using-topology-view"><div class="titlepage"><div><div><h2 class="title">4.9. Labels and annotations used for the Topology view</h2></div></div></div><p>
				The <span class="strong strong"><strong>Topology</strong></span> view uses the following labels and annotations:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Icon displayed in the node</span></dt><dd>
							Icons in the node are defined by looking for matching icons using the <code class="literal">app.openshift.io/runtime</code> label, followed by the <code class="literal">app.kubernetes.io/name</code> label. This matching is done using a predefined set of icons.
						</dd><dt><span class="term">Link to the source code editor or the source</span></dt><dd>
							The <code class="literal">app.openshift.io/vcs-uri</code> annotation is used to create links to the source code editor.
						</dd><dt><span class="term">Node Connector</span></dt><dd>
							The <code class="literal">app.openshift.io/connects-to</code> annotation is used to connect the nodes.
						</dd><dt><span class="term">App grouping</span></dt><dd>
							The <code class="literal">app.kubernetes.io/part-of=&lt;appname&gt;</code> label is used to group the applications, services, and components.
						</dd></dl></div><p>
				For detailed information on the labels and annotations OpenShift Container Platform applications must use, see <a class="link" href="https://github.com/redhat-developer/app-labels/blob/master/labels-annotation-for-openshift.adoc">Guidelines for labels and annotations for OpenShift applications</a>.
			</p></section><section class="section _additional-resources" id="additional-resources"><div class="titlepage"><div><div><h2 class="title">4.10. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						See <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-importing-codebase-from-git-to-create-application_odc-creating-applications-using-developer-perspective">Importing a codebase from Git to create an application</a> for more information on creating an application from Git.
					</li><li class="listitem">
						See <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-connecting-an-application-to-a-service-using-the-developer-perspective">Connecting an application to a service using the Developer perspective</a>.
					</li><li class="listitem">
						See <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-exporting-applications">Exporting applications</a>
					</li></ul></div></section></section><section class="chapter" id="odc-exporting-applications"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Exporting applications</h1></div></div></div><p>
			As a developer, you can export your application in the ZIP file format. Based on your needs, import the exported application to another project in the same cluster or a different cluster by using the <span class="strong strong"><strong>Import YAML</strong></span> option in the <span class="strong strong"><strong>+Add</strong></span> view. Exporting your application helps you to reuse your application resources and saves your time.
		</p><section class="section" id="prerequisites_odc-exporting-applications"><div class="titlepage"><div><div><h2 class="title">5.1. Prerequisites</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the gitops-primer Operator from the OperatorHub.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The <span class="strong strong"><strong>Export application</strong></span> option is disabled in the <span class="strong strong"><strong>Topology</strong></span> view even after installing the gitops-primer Operator.
						</p></div></div></li><li class="listitem">
						You have created an application in the <span class="strong strong"><strong>Topology</strong></span> view to enable <span class="strong strong"><strong>Export application</strong></span>.
					</li></ul></div></section><section class="section" id="odc-exporting-applications-procedure"><div class="titlepage"><div><div><h2 class="title">5.2. Procedure</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						In the developer perspective, perform one of the following steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Navigate to the <span class="strong strong"><strong>+Add</strong></span> view and click <span class="strong strong"><strong>Export application</strong></span> in the <span class="strong strong"><strong>Application portability</strong></span> tile.
							</li><li class="listitem">
								Navigate to the <span class="strong strong"><strong>Topology</strong></span> view and click <span class="strong strong"><strong>Export application</strong></span>.
							</li></ol></div></li><li class="listitem">
						Click <span class="strong strong"><strong>OK</strong></span> in the <span class="strong strong"><strong>Export Application</strong></span> dialog box. A notification opens to confirm that the export of resources from your project has started.
					</li><li class="listitem"><p class="simpara">
						Optional steps that you might need to perform in the following scenarios:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If you have started exporting an incorrect application, click <span class="strong strong"><strong>Export application</strong></span> → <span class="strong strong"><strong>Cancel Export</strong></span>.
							</li><li class="listitem">
								If your export is already in progress and you want to start a fresh export, click <span class="strong strong"><strong>Export application</strong></span> → <span class="strong strong"><strong>Restart Export</strong></span>.
							</li><li class="listitem"><p class="simpara">
								If you want to view logs associated with exporting an application, click <span class="strong strong"><strong>Export application</strong></span> and the <span class="strong strong"><strong>View Logs</strong></span> link.
							</p><div class="informalfigure"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f4ddee0f6177cb0418bf2ccaab583fa9/export-application-dialog-box.png" alt="export application dialog box"/></div></div></li></ul></div></li><li class="listitem">
						After a successful export, click <span class="strong strong"><strong>Download</strong></span> in the dialog box to download application resources in ZIP format onto your machine.
					</li></ol></div></section></section><section class="chapter" id="connecting-applications-to-services"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Connecting applications to services</h1></div></div></div><section class="section" id="servicebinding-release-notes"><div class="titlepage"><div><div><h2 class="title">6.1. Release notes for Service Binding Operator</h2></div></div></div><p>
				The Service Binding Operator consists of a controller and an accompanying custom resource definition (CRD) for service binding. It manages the data plane for workloads and backing services. The Service Binding Controller reads the data made available by the control plane of backing services. Then, it projects this data to workloads according to the rules specified through the <code class="literal">ServiceBinding</code> resource.
			</p><p>
				With Service Binding Operator, you can:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Bind your workloads together with Operator-managed backing services.
					</li><li class="listitem">
						Automate configuration of binding data.
					</li><li class="listitem">
						Provide service operators a low-touch administrative experience to provision and manage access to services.
					</li><li class="listitem">
						Enrich development lifecycle with a consistent and declarative service binding method that eliminates discrepancies in cluster environments.
					</li></ul></div><p>
				The custom resource definition (CRD) of the Service Binding Operator supports the following APIs:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>Service Binding</strong></span> with the <code class="literal">binding.operators.coreos.com</code> API group.
					</li><li class="listitem">
						<span class="strong strong"><strong>Service Binding (Spec API)</strong></span> with the <code class="literal">servicebinding.io</code> API group.
					</li></ul></div><section class="section" id="support-matrix"><div class="titlepage"><div><div><h3 class="title">6.1.1. Support matrix</h3></div></div></div><p>
					Some features in the following table are in <a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview</a>. These experimental features are not intended for production use.
				</p><p>
					In the table, features are marked with the following statuses:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>TP</strong></span>: <span class="emphasis"><em>Technology Preview</em></span>
						</li><li class="listitem">
							<span class="strong strong"><strong>GA</strong></span>: <span class="emphasis"><em>General Availability</em></span>
						</li></ul></div><p>
					Note the following scope of support on the Red Hat Customer Portal for these features:
				</p><div class="table" id="idm140419025080448"><p class="title"><strong>Table 6.1. Support matrix</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419030979760" scope="col"><span class="strong strong"><strong>Service Binding Operator</strong></span></th><th colspan="2" align="left" valign="top" id="idm140419029713424" scope="col"><span class="strong strong"><strong>API Group and Support Status</strong></span></th><th align="left" valign="top" id="idm140419029711248" scope="col"><span class="strong strong"><strong>OpenShift Versions</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									<span class="strong strong"><strong>Version</strong></span>
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									<span class="strong strong"><strong><code class="literal">binding.operators.coreos.com</code></strong></span>
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									<span class="strong strong"><strong><code class="literal">servicebinding.io</code></strong></span>
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> </td></tr><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									1.3.3
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> <p>
									4.9-4.12
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									1.3.1
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> <p>
									4.9-4.11
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									1.3
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> <p>
									4.9-4.11
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									1.2
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> <p>
									4.7-4.11
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									1.1.1
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									TP
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> <p>
									4.7-4.10
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									1.1
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									TP
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> <p>
									4.7-4.10
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									1.0.1
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									TP
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> <p>
									4.7-4.9
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419030979760"> <p>
									1.0
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									GA
								</p>
								 </td><td align="left" valign="top" headers="idm140419029713424"> <p>
									TP
								</p>
								 </td><td align="left" valign="top" headers="idm140419029711248"> <p>
									4.7-4.9
								</p>
								 </td></tr></tbody></table></div></div></section><section class="section" id="servicebinding-inclusive-language"><div class="titlepage"><div><div><h3 class="title">6.1.2. Making open source more inclusive</h3></div></div></div><p>
					Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a class="link" href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">Red Hat CTO Chris Wright’s message</a>.
				</p></section><section class="section" id="sbo-release-notes-1-3-3_servicebinding-release-notes"><div class="titlepage"><div><div><h3 class="title">6.1.3. Release notes for Service Binding Operator 1.3.3</h3></div></div></div><p>
					Service Binding Operator 1.3.3 is now available on OpenShift Container Platform 4.9, 4.10, 4.11 and 4.12.
				</p><section class="section" id="fixed-issues-1-3-3_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.3.1. Fixed issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Before this update, a security vulnerability <code class="literal">CVE-2022-41717</code> was noted for Service Binding Operator. This update fixes the <code class="literal">CVE-2022-41717</code> error and updates the <code class="literal">golang.org/x/net</code> package from v0.0.0-20220906165146-f3363e06e74c to v0.4.0. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1256">APPSVC-1256</a>
							</li><li class="listitem">
								Before this update, Provisioned Services were only detected if the respective resource had the "servicebinding.io/provisioned-service: true" annotation set while other Provisioned Services were missed. With this update, the detection mechanism identifies all Provisioned Services correctly based on the "status.binding.name" attribute. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1204">APPSVC-1204</a>
							</li></ul></div></section></section><section class="section" id="sbo-release-notes-1-3-1_servicebinding-release-notes"><div class="titlepage"><div><div><h3 class="title">6.1.4. Release notes for Service Binding Operator 1.3.1</h3></div></div></div><p>
					Service Binding Operator 1.3.1 is now available on OpenShift Container Platform 4.9, 4.10, and 4.11.
				</p><section class="section" id="fixed-issues-1-3-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.4.1. Fixed issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Before this update, a security vulnerability <code class="literal">CVE-2022-32149</code> was noted for Service Binding Operator. This update fixes the <code class="literal">CVE-2022-32149</code> error and updates the <code class="literal">golang.org/x/text</code> package from v0.3.7 to v0.3.8. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1220">APPSVC-1220</a>
							</li></ul></div></section></section><section class="section" id="sbo-release-notes-1-3_servicebinding-release-notes"><div class="titlepage"><div><div><h3 class="title">6.1.5. Release notes for Service Binding Operator 1.3</h3></div></div></div><p>
					Service Binding Operator 1.3 is now available on OpenShift Container Platform 4.9, 4.10, and 4.11.
				</p><section class="section" id="removal-notice-1-3_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.5.1. Removed functionality</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								In Service Binding Operator 1.3, the Operator Lifecycle Manager (OLM) descriptor feature has been removed to improve resource utilization. As an alternative to OLM descriptors, you can use CRD annotations to declare binding data.
							</li></ul></div></section></section><section class="section" id="sbo-release-notes-1-2_servicebinding-release-notes"><div class="titlepage"><div><div><h3 class="title">6.1.6. Release notes for Service Binding Operator 1.2</h3></div></div></div><p>
					Service Binding Operator 1.2 is now available on OpenShift Container Platform 4.7, 4.8, 4.9, 4.10, and 4.11.
				</p><section class="section" id="new-features-1-2_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.6.1. New features</h4></div></div></div><p>
						This section highlights what is new in Service Binding Operator 1.2:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Enable Service Binding Operator to consider optional fields in the annotations by setting the <code class="literal">optional</code> flag value to <code class="literal">true</code>.
							</li><li class="listitem">
								Support for <code class="literal">servicebinding.io/v1beta1</code> resources.
							</li><li class="listitem">
								Improvements to the discoverability of bindable services by exposing the relevant binding secret without requiring a workload to be present.
							</li></ul></div></section><section class="section" id="known-issues-1-2_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.6.2. Known issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Currently, when you install Service Binding Operator on OpenShift Container Platform 4.11, the memory footprint of Service Binding Operator increases beyond expected limits. With low usage, however, the memory footprint stays within the expected ranges of your environment or scenarios. In comparison with OpenShift Container Platform 4.10, under stress, both the average and maximum memory footprint increase considerably. This issue is evident in the previous versions of Service Binding Operator as well. There is currently no workaround for this issue. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1200">APPSVC-1200</a>
							</li><li class="listitem">
								By default, the projected files get their permissions set to 0644. Service Binding Operator cannot set specific permissions due to a bug in Kubernetes that causes issues if the service expects specific permissions such as, <code class="literal">0600</code>. As a workaround, you can modify the code of the program or the application that is running inside a workload resource to copy the file to the <code class="literal">/tmp</code> directory and set the appropriate permissions. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1127">APPSVC-1127</a>
							</li><li class="listitem"><p class="simpara">
								There is currently a known issue with installing Service Binding Operator in a single namespace installation mode. The absence of an appropriate namespace-scoped role-based access control (RBAC) rule prevents the successful binding of an application to a few known Operator-backed services that the Service Binding Operator can automatically detect and bind to. When this happens, it generates an error message similar to the following example:
							</p><div class="formalpara"><p class="title"><strong>Example error message</strong></p><p>
									
<pre class="programlisting language-text">`postgresclusters.postgres-operator.crunchydata.com "hippo" is forbidden:
        User "system:serviceaccount:my-petclinic:service-binding-operator" cannot
        get resource "postgresclusters" in API group "postgres-operator.crunchydata.com"
        in the namespace "my-petclinic"`</pre>

								</p></div><p class="simpara">
								Workaround 1: Install the Service Binding Operator in the <code class="literal">all namespaces</code> installation mode. As a result, the appropriate cluster-scoped RBAC rule now exists and the binding succeeds.
							</p><p class="simpara">
								Workaround 2: If you cannot install the Service Binding Operator in the <code class="literal">all namespaces</code> installation mode, install the following role binding into the namespace where the Service Binding Operator is installed:
							</p><div class="formalpara"><p class="title"><strong>Example: Role binding for Crunchy Postgres Operator</strong></p><p>
									
<pre class="programlisting language-yaml">kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: service-binding-crunchy-postgres-viewer
subjects:
  - kind: ServiceAccount
    name: service-binding-operator
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: service-binding-crunchy-postgres-viewer-role</pre>

								</p></div><p class="simpara">
								<a class="link" href="https://issues.redhat.com/browse/APPSVC-1062">APPSVC-1062</a>
							</p></li><li class="listitem"><p class="simpara">
								According to the specification, when you change the <code class="literal">ClusterWorkloadResourceMapping</code> resources, Service Binding Operator must use the previous version of the <code class="literal">ClusterWorkloadResourceMapping</code> resource to remove the binding data that was being projected until now. Currently, when you change the <code class="literal">ClusterWorkloadResourceMapping</code> resources, the Service Binding Operator uses the latest version of the <code class="literal">ClusterWorkloadResourceMapping</code> resource to remove the binding data. As a result, {the servicebinding-title} might remove the binding data incorrectly. As a workaround, perform the following steps:
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
										Delete any <code class="literal">ServiceBinding</code> resources that use the corresponding <code class="literal">ClusterWorkloadResourceMapping</code> resource.
									</li><li class="listitem">
										Modify the <code class="literal">ClusterWorkloadResourceMapping</code> resource.
									</li><li class="listitem">
										Re-apply the <code class="literal">ServiceBinding</code> resources that you previously removed in step 1.
									</li></ol></div><p class="simpara">
								<a class="link" href="https://issues.redhat.com/browse/APPSVC-1102">APPSVC-1102</a>
							</p></li></ul></div></section></section><section class="section" id="sbo-release-notes-1-1-1_servicebinding-release-notes"><div class="titlepage"><div><div><h3 class="title">6.1.7. Release notes for Service Binding Operator 1.1.1</h3></div></div></div><p>
					Service Binding Operator 1.1.1 is now available on OpenShift Container Platform 4.7, 4.8, 4.9, and 4.10.
				</p><section class="section" id="fixed-issues-1-1-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.7.1. Fixed issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Before this update, a security vulnerability <code class="literal">CVE-2021-38561</code> was noted for Service Binding Operator Helm chart. This update fixes the <code class="literal">CVE-2021-38561</code> error and updates the <code class="literal">golang.org/x/text</code> package from v0.3.6 to v0.3.7. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1124">APPSVC-1124</a>
							</li><li class="listitem">
								Before this update, users of the Developer Sandbox did not have sufficient permissions to read <code class="literal">ClusterWorkloadResourceMapping</code> resources. As a result, Service Binding Operator prevented all service bindings from being successful. With this update, the Service Binding Operator now includes the appropriate role-based access control (RBAC) rules for any authenticated subject including the Developer Sandbox users. These RBAC rules allow the Service Binding Operator to <code class="literal">get</code>, <code class="literal">list</code>, and <code class="literal">watch</code> the <code class="literal">ClusterWorkloadResourceMapping</code> resources for the Developer Sandbox users and to process service bindings successfully. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1135">APPSVC-1135</a>
							</li></ul></div></section><section class="section" id="known-issues-1-1-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.7.2. Known issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								There is currently a known issue with installing Service Binding Operator in a single namespace installation mode. The absence of an appropriate namespace-scoped role-based access control (RBAC) rule prevents the successful binding of an application to a few known Operator-backed services that the Service Binding Operator can automatically detect and bind to. When this happens, it generates an error message similar to the following example:
							</p><div class="formalpara"><p class="title"><strong>Example error message</strong></p><p>
									
<pre class="programlisting language-text">`postgresclusters.postgres-operator.crunchydata.com "hippo" is forbidden:
        User "system:serviceaccount:my-petclinic:service-binding-operator" cannot
        get resource "postgresclusters" in API group "postgres-operator.crunchydata.com"
        in the namespace "my-petclinic"`</pre>

								</p></div><p class="simpara">
								Workaround 1: Install the Service Binding Operator in the <code class="literal">all namespaces</code> installation mode. As a result, the appropriate cluster-scoped RBAC rule now exists and the binding succeeds.
							</p><p class="simpara">
								Workaround 2: If you cannot install the Service Binding Operator in the <code class="literal">all namespaces</code> installation mode, install the following role binding into the namespace where the Service Binding Operator is installed:
							</p><div class="formalpara"><p class="title"><strong>Example: Role binding for Crunchy Postgres Operator</strong></p><p>
									
<pre class="programlisting language-yaml">kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: service-binding-crunchy-postgres-viewer
subjects:
  - kind: ServiceAccount
    name: service-binding-operator
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: service-binding-crunchy-postgres-viewer-role</pre>

								</p></div><p class="simpara">
								<a class="link" href="https://issues.redhat.com/browse/APPSVC-1062">APPSVC-1062</a>
							</p></li><li class="listitem"><p class="simpara">
								Currently, when you modify the <code class="literal">ClusterWorkloadResourceMapping</code> resources, the Service Binding Operator does not implement correct behavior. As a workaround, perform the following steps:
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
										Delete any <code class="literal">ServiceBinding</code> resources that use the corresponding <code class="literal">ClusterWorkloadResourceMapping</code> resource.
									</li><li class="listitem">
										Modify the <code class="literal">ClusterWorkloadResourceMapping</code> resource.
									</li><li class="listitem">
										Re-apply the <code class="literal">ServiceBinding</code> resources that you previously removed in step 1.
									</li></ol></div><p class="simpara">
								<a class="link" href="https://issues.redhat.com/browse/APPSVC-1102">APPSVC-1102</a>
							</p></li></ul></div></section></section><section class="section" id="sbo-release-notes-1-1_servicebinding-release-notes"><div class="titlepage"><div><div><h3 class="title">6.1.8. Release notes for Service Binding Operator 1.1</h3></div></div></div><p>
					Service Binding Operator is now available on OpenShift Container Platform 4.7, 4.8, 4.9, and 4.10.
				</p><section class="section" id="new-features-1-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.8.1. New features</h4></div></div></div><p>
						This section highlights what is new in Service Binding Operator 1.1:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Service Binding Options
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Workload resource mapping: Define exactly where binding data needs to be projected for the secondary workloads.
									</li><li class="listitem">
										Bind new workloads using a label selector.
									</li></ul></div></li></ul></div></section><section class="section" id="fixed-issues-1-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.8.2. Fixed issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Before this update, service bindings that used label selectors to pick up workloads did not project service binding data into the new workloads that matched the given label selectors. As a result, the Service Binding Operator could not periodically bind such new workloads. With this update, service bindings now project service binding data into the new workloads that match the given label selector. The Service Binding Operator now periodically attempts to find and bind such new workloads. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1083">APPSVC-1083</a>
							</li></ul></div></section><section class="section" id="known-issues-1-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.8.3. Known issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								There is currently a known issue with installing Service Binding Operator in a single namespace installation mode. The absence of an appropriate namespace-scoped role-based access control (RBAC) rule prevents the successful binding of an application to a few known Operator-backed services that the Service Binding Operator can automatically detect and bind to. When this happens, it generates an error message similar to the following example:
							</p><div class="formalpara"><p class="title"><strong>Example error message</strong></p><p>
									
<pre class="programlisting language-text">`postgresclusters.postgres-operator.crunchydata.com "hippo" is forbidden:
        User "system:serviceaccount:my-petclinic:service-binding-operator" cannot
        get resource "postgresclusters" in API group "postgres-operator.crunchydata.com"
        in the namespace "my-petclinic"`</pre>

								</p></div><p class="simpara">
								Workaround 1: Install the Service Binding Operator in the <code class="literal">all namespaces</code> installation mode. As a result, the appropriate cluster-scoped RBAC rule now exists and the binding succeeds.
							</p><p class="simpara">
								Workaround 2: If you cannot install the Service Binding Operator in the <code class="literal">all namespaces</code> installation mode, install the following role binding into the namespace where the Service Binding Operator is installed:
							</p><div class="formalpara"><p class="title"><strong>Example: Role binding for Crunchy Postgres Operator</strong></p><p>
									
<pre class="programlisting language-yaml">kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: service-binding-crunchy-postgres-viewer
subjects:
  - kind: ServiceAccount
    name: service-binding-operator
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: service-binding-crunchy-postgres-viewer-role</pre>

								</p></div><p class="simpara">
								<a class="link" href="https://issues.redhat.com/browse/APPSVC-1062">APPSVC-1062</a>
							</p></li><li class="listitem"><p class="simpara">
								Currently, when you modify the <code class="literal">ClusterWorkloadResourceMapping</code> resources, the Service Binding Operator does not implement correct behavior. As a workaround, perform the following steps:
							</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
										Delete any <code class="literal">ServiceBinding</code> resources that use the corresponding <code class="literal">ClusterWorkloadResourceMapping</code> resource.
									</li><li class="listitem">
										Modify the <code class="literal">ClusterWorkloadResourceMapping</code> resource.
									</li><li class="listitem">
										Re-apply the <code class="literal">ServiceBinding</code> resources that you previously removed in step 1.
									</li></ol></div><p class="simpara">
								<a class="link" href="https://issues.redhat.com/browse/APPSVC-1102">APPSVC-1102</a>
							</p></li></ul></div></section></section><section class="section" id="sbo-release-notes-1-0-1_servicebinding-release-notes"><div class="titlepage"><div><div><h3 class="title">6.1.9. Release notes for Service Binding Operator 1.0.1</h3></div></div></div><p>
					Service Binding Operator is now available on OpenShift Container Platform 4.7, 4.8 and 4.9.
				</p><p>
					Service Binding Operator 1.0.1 supports OpenShift Container Platform 4.9 and later running on:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							IBM Power Systems
						</li><li class="listitem">
							IBM Z and LinuxONE
						</li></ul></div><p>
					The custom resource definition (CRD) of the Service Binding Operator 1.0.1 supports the following APIs:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Service Binding</strong></span> with the <code class="literal">binding.operators.coreos.com</code> API group.
						</li><li class="listitem"><p class="simpara">
							<span class="strong strong"><strong>Service Binding (Spec API Tech Preview)</strong></span> with the <code class="literal">servicebinding.io</code> API group.
						</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								<span class="strong strong"><strong>Service Binding (Spec API Tech Preview)</strong></span> with the <code class="literal">servicebinding.io</code> API group is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								For more information about the support scope of Red Hat Technology Preview features, see <a class="link" href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.
							</p></div></div></li></ul></div><section class="section" id="support-matrix-1-0-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.9.1. Support matrix</h4></div></div></div><p>
						Some features in this release are currently in Technology Preview. These experimental features are not intended for production use.
					</p><p>
						<a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a>
					</p><p>
						In the table below, features are marked with the following statuses:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>TP</strong></span>: <span class="emphasis"><em>Technology Preview</em></span>
							</li><li class="listitem">
								<span class="strong strong"><strong>GA</strong></span>: <span class="emphasis"><em>General Availability</em></span>
							</li></ul></div><p>
						Note the following scope of support on the Red Hat Customer Portal for these features:
					</p><div class="table" id="idm140419031165328"><p class="title"><strong>Table 6.2. Support matrix</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419031160496" scope="col">Feature</th><th align="left" valign="top" id="idm140419020256464" scope="col">Service Binding Operator 1.0.1</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419031160496"> <p>
										<code class="literal">binding.operators.coreos.com</code> API group
									</p>
									 </td><td align="left" valign="top" headers="idm140419020256464"> <p>
										GA
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419031160496"> <p>
										<code class="literal">servicebinding.io</code> API group
									</p>
									 </td><td align="left" valign="top" headers="idm140419020256464"> <p>
										TP
									</p>
									 </td></tr></tbody></table></div></div></section><section class="section" id="fixed-issues-1-0-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.9.2. Fixed issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Before this update, binding the data values from a <code class="literal">Cluster</code> custom resource (CR) of the <code class="literal">postgresql.k8s.enterpriesedb.io/v1</code> API collected the <code class="literal">host</code> binding value from the <code class="literal">.metadata.name</code> field of the CR. The collected binding value is an incorrect hostname and the correct hostname is available at the <code class="literal">.status.writeService</code> field. With this update, the annotations that the Service Binding Operator uses to expose the binding data values from the backing service CR are now modified to collect the <code class="literal">host</code> binding value from the <code class="literal">.status.writeService</code> field. The Service Binding Operator uses these modified annotations to project the correct hostname in the <code class="literal">host</code> and <code class="literal">provider</code> bindings. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1040">APPSVC-1040</a>
							</li><li class="listitem">
								Before this update, when you would bind a <code class="literal">PostgresCluster</code> CR of the <code class="literal">postgres-operator.crunchydata.com/v1beta1</code> API, the binding data values did not include the values for the database certificates. As a result, the application failed to connect to the database. With this update, modifications to the annotations that the Service Binding Operator uses to expose the binding data from the backing service CR now include the database certificates. The Service Binding Operator uses these modified annotations to project the correct <code class="literal">ca.crt</code>, <code class="literal">tls.crt</code>, and <code class="literal">tls.key</code> certificate files. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1045">APPSVC-1045</a>
							</li><li class="listitem">
								Before this update, when you would bind a <code class="literal">PerconaXtraDBCluster</code> custom resource (CR) of the <code class="literal">pxc.percona.com</code> API, the binding data values did not include the <code class="literal">port</code> and <code class="literal">database</code> values. These binding values along with the others already projected are necessary for an application to successfully connect to the database service. With this update, the annotations that the Service Binding Operator uses to expose the binding data values from the backing service CR are now modified to project the additional <code class="literal">port</code> and <code class="literal">database</code> binding values. The Service Binding Operator uses these modified annotations to project the complete set of binding values that the application can use to successfully connect to the database service. <a class="link" href="https://issues.redhat.com/browse/APPSVC-1073">APPSVC-1073</a>
							</li></ul></div></section><section class="section" id="known-issues-1-0-1_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.9.3. Known issues</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Currently, when you install the Service Binding Operator in the single namespace installation mode, the absence of an appropriate namespace-scoped role-based access control (RBAC) rule prevents the successful binding of an application to a few known Operator-backed services that the Service Binding Operator can automatically detect and bind to. In addition, the following error message is generated:
							</p><div class="formalpara"><p class="title"><strong>Example error message</strong></p><p>
									
<pre class="screen">`postgresclusters.postgres-operator.crunchydata.com "hippo" is forbidden:
        User "system:serviceaccount:my-petclinic:service-binding-operator" cannot
        get resource "postgresclusters" in API group "postgres-operator.crunchydata.com"
        in the namespace "my-petclinic"`</pre>

								</p></div><p class="simpara">
								Workaround 1: Install the Service Binding Operator in the <code class="literal">all namespaces</code> installation mode. As a result, the appropriate cluster-scoped RBAC rule now exists and the binding succeeds.
							</p><p class="simpara">
								Workaround 2: If you cannot install the Service Binding Operator in the <code class="literal">all namespaces</code> installation mode, install the following role binding into the namespace where the Service Binding Operator is installed:
							</p><div class="formalpara"><p class="title"><strong>Example: Role binding for Crunchy Postgres Operator</strong></p><p>
									
<pre class="programlisting language-yaml">kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: service-binding-crunchy-postgres-viewer
subjects:
  - kind: ServiceAccount
    name: service-binding-operator
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: service-binding-crunchy-postgres-viewer-role</pre>

								</p></div><p class="simpara">
								<a class="link" href="https://issues.redhat.com/browse/APPSVC-1062">APPSVC-1062</a>
							</p></li></ul></div></section></section><section class="section" id="sbo-release-notes-1-0_servicebinding-release-notes"><div class="titlepage"><div><div><h3 class="title">6.1.10. Release notes for Service Binding Operator 1.0</h3></div></div></div><p>
					Service Binding Operator is now available on OpenShift Container Platform 4.7, 4.8 and 4.9.
				</p><p>
					The custom resource definition (CRD) of the Service Binding Operator 1.0 supports the following APIs:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Service Binding</strong></span> with the <code class="literal">binding.operators.coreos.com</code> API group.
						</li><li class="listitem"><p class="simpara">
							<span class="strong strong"><strong>Service Binding (Spec API Tech Preview)</strong></span> with the <code class="literal">servicebinding.io</code> API group.
						</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
								<span class="strong strong"><strong>Service Binding (Spec API Tech Preview)</strong></span> with the <code class="literal">servicebinding.io</code> API group is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.
							</p><p>
								For more information about the support scope of Red Hat Technology Preview features, see <a class="link" href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.
							</p></div></div></li></ul></div><section class="section" id="support-matrix-1-0_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.10.1. Support matrix</h4></div></div></div><p>
						Some features in this release are currently in Technology Preview. These experimental features are not intended for production use.
					</p><p>
						<a class="link" href="https://access.redhat.com/support/offerings/techpreview">Technology Preview Features Support Scope</a>
					</p><p>
						In the table below, features are marked with the following statuses:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>TP</strong></span>: <span class="emphasis"><em>Technology Preview</em></span>
							</li><li class="listitem">
								<span class="strong strong"><strong>GA</strong></span>: <span class="emphasis"><em>General Availability</em></span>
							</li></ul></div><p>
						Note the following scope of support on the Red Hat Customer Portal for these features:
					</p><div class="table" id="idm140419026392256"><p class="title"><strong>Table 6.3. Support matrix</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419021998976" scope="col">Feature</th><th align="left" valign="top" id="idm140419021997888" scope="col">Service Binding Operator 1.0</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419021998976"> <p>
										<code class="literal">binding.operators.coreos.com</code> API group
									</p>
									 </td><td align="left" valign="top" headers="idm140419021997888"> <p>
										GA
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419021998976"> <p>
										<code class="literal">servicebinding.io</code> API group
									</p>
									 </td><td align="left" valign="top" headers="idm140419021997888"> <p>
										TP
									</p>
									 </td></tr></tbody></table></div></div></section><section class="section" id="new-features-1-0_servicebinding-release-notes"><div class="titlepage"><div><div><h4 class="title">6.1.10.2. New features</h4></div></div></div><p>
						Service Binding Operator 1.0 supports OpenShift Container Platform 4.9 and later running on:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								IBM Power Systems
							</li><li class="listitem">
								IBM Z and LinuxONE
							</li></ul></div><p>
						This section highlights what is new in Service Binding Operator 1.0:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
								Exposal of binding data from services
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Based on annotations present in CRD, custom resources (CRs), or resources.
									</li><li class="listitem">
										Based on descriptors present in Operator Lifecycle Manager (OLM) descriptors.
									</li><li class="listitem">
										Support for provisioned services
									</li></ul></div></li><li class="listitem"><p class="simpara">
								Workload projection
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Projection of binding data as files, with volume mounts.
									</li><li class="listitem">
										Projection of binding data as environment variables.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								Service Binding Options
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Bind backing services in a namespace that is different from the workload namespace.
									</li><li class="listitem">
										Project binding data into the specific container workloads.
									</li><li class="listitem">
										Auto-detection of the binding data from resources owned by the backing service CR.
									</li><li class="listitem">
										Compose custom binding data from the exposed binding data.
									</li><li class="listitem">
										Support for non-<code class="literal">PodSpec</code> compliant workload resources.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								Security
							</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
										Support for role-based access control (RBAC).
									</li></ul></div></li></ul></div></section></section><section class="section _additional-resources" id="additional-resources_release-notes-sbo"><div class="titlepage"><div><div><h3 class="title">6.1.11. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#understanding-service-binding-operator">Understanding Service Binding Operator</a>.
						</li></ul></div></section></section><section class="section" id="understanding-service-binding-operator"><div class="titlepage"><div><div><h2 class="title">6.2. Understanding Service Binding Operator</h2></div></div></div><p class="_abstract _abstract">
				Application developers need access to backing services to build and connect workloads. Connecting workloads to backing services is always a challenge because each service provider suggests a different way to access their secrets and consume them in a workload. In addition, manual configuration and maintenance of this binding together of workloads and backing services make the process tedious, inefficient, and error-prone.
			</p><p>
				The Service Binding Operator enables application developers to easily bind workloads together with Operator-managed backing services, without any manual procedures to configure the binding connection.
			</p><section class="section" id="sbo-service-binding-terminology_understanding-service-binding-operator"><div class="titlepage"><div><div><h3 class="title">6.2.1. Service Binding terminology</h3></div></div></div><p>
					This section summarizes the basic terms used in Service Binding.
				</p><div class="horizontal"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 15%; "><!--Empty--></col><col style="width: 85%; "><!--Empty--></col></colgroup><tbody valign="top"><tr><td valign="top"> <p>
									Service binding
								</p>
								 </td><td valign="top"> <p>
									The representation of the action of providing information about a service to a workload. Examples include establishing the exchange of credentials between a Java application and a database that it requires.
								</p>
								 </td></tr><tr><td valign="top"> <p>
									Backing service
								</p>
								 </td><td valign="top"> <p>
									Any service or software that the application consumes over the network as part of its normal operation. Examples include a database, a message broker, an application with REST endpoints, an event stream, an Application Performance Monitor (APM), or a Hardware Security Module (HSM).
								</p>
								 </td></tr><tr><td valign="top"> <p>
									Workload (application)
								</p>
								 </td><td valign="top"> <p>
									Any process running within a container. Examples include a Spring Boot application, a NodeJS Express application, or a Ruby on Rails application.
								</p>
								 </td></tr><tr><td valign="top"> <p>
									Binding data
								</p>
								 </td><td valign="top"> <p>
									Information about a service that you use to configure the behavior of other resources within the cluster. Examples include credentials, connection details, volume mounts, or secrets.
								</p>
								 </td></tr><tr><td valign="top"> <p>
									Binding connection
								</p>
								 </td><td valign="top"> <p>
									Any connection that establishes an interaction between the connected components, such as a bindable backing service and an application requiring that backing service.
								</p>
								 </td></tr></tbody></table></div></section><section class="section" id="sbo-about-service-binding-operator_understanding-service-binding-operator"><div class="titlepage"><div><div><h3 class="title">6.2.2. About Service Binding Operator</h3></div></div></div><p>
					The Service Binding Operator consists of a controller and an accompanying custom resource definition (CRD) for service binding. It manages the data plane for workloads and backing services. The Service Binding Controller reads the data made available by the control plane of backing services. Then, it projects this data to workloads according to the rules specified through the <code class="literal">ServiceBinding</code> resource.
				</p><p>
					As a result, the Service Binding Operator enables workloads to use backing services or external services by automatically collecting and sharing binding data with the workloads. The process involves making the backing service bindable and binding the workload and the service together.
				</p><section class="section" id="making-an-operator-managed-backing-service-bindable_understanding-service-binding-operator"><div class="titlepage"><div><div><h4 class="title">6.2.2.1. Making an Operator-managed backing service bindable</h4></div></div></div><p>
						To make a service bindable, as an Operator provider, you need to expose the binding data required by workloads to bind with the services provided by the Operator. You can provide the binding data either as annotations or as descriptors in the CRD of the Operator that manages the backing service.
					</p></section><section class="section" id="binding-a-workload-together-with-a-backing-service_understanding-service-binding-operator"><div class="titlepage"><div><div><h4 class="title">6.2.2.2. Binding a workload together with a backing service</h4></div></div></div><p>
						By using the Service Binding Operator, as an application developer, you need to declare the intent of establishing a binding connection. You must create a <code class="literal">ServiceBinding</code> CR that references the backing service. This action triggers the Service Binding Operator to project the exposed binding data into the workload. The Service Binding Operator receives the declared intent and binds the workload together with the backing service.
					</p><p>
						The CRD of the Service Binding Operator supports the following APIs:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Service Binding</strong></span> with the <code class="literal">binding.operators.coreos.com</code> API group.
							</li><li class="listitem">
								<span class="strong strong"><strong>Service Binding (Spec API)</strong></span> with the <code class="literal">servicebinding.io</code> API group.
							</li></ul></div><p>
						With Service Binding Operator, you can:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Bind your workloads to Operator-managed backing services.
							</li><li class="listitem">
								Automate configuration of binding data.
							</li><li class="listitem">
								Provide service operators with a low-touch administrative experience to provision and manage access to services.
							</li><li class="listitem">
								Enrich the development lifecycle with a consistent and declarative service binding method that eliminates discrepancies in cluster environments.
							</li></ul></div></section></section><section class="section" id="sbo-key-features_understanding-service-binding-operator"><div class="titlepage"><div><div><h3 class="title">6.2.3. Key features</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Exposal of binding data from services
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Based on annotations present in CRD, custom resources (CRs), or resources.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Workload projection
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Projection of binding data as files, with volume mounts.
								</li><li class="listitem">
									Projection of binding data as environment variables.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Service Binding Options
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Bind backing services in a namespace that is different from the workload namespace.
								</li><li class="listitem">
									Project binding data into the specific container workloads.
								</li><li class="listitem">
									Auto-detection of the binding data from resources owned by the backing service CR.
								</li><li class="listitem">
									Compose custom binding data from the exposed binding data.
								</li><li class="listitem">
									Support for non-<code class="literal">PodSpec</code> compliant workload resources.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Security
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Support for role-based access control (RBAC).
								</li></ul></div></li></ul></div></section><section class="section" id="sbo-api-differences_understanding-service-binding-operator"><div class="titlepage"><div><div><h3 class="title">6.2.4. API differences</h3></div></div></div><p>
					The CRD of the Service Binding Operator supports the following APIs:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Service Binding</strong></span> with the <code class="literal">binding.operators.coreos.com</code> API group.
						</li><li class="listitem">
							<span class="strong strong"><strong>Service Binding (Spec API)</strong></span> with the <code class="literal">servicebinding.io</code> API group.
						</li></ul></div><p>
					Both of these API groups have similar features, but they are not completely identical. Here is the complete list of differences between these API groups:
				</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419020581152" scope="col">Feature</th><th align="left" valign="top" id="idm140419020580064" scope="col">Supported by the <code class="literal">binding.operators.coreos.com</code> API group</th><th align="left" valign="top" id="idm140419020578480" scope="col">Supported by the <code class="literal">servicebinding.io</code> API group</th><th align="left" valign="top" id="idm140419020576912" scope="col">Notes</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Binding to provisioned services
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									Not applicable (N/A)
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Direct secret projection
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									Not applicable (N/A)
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Bind as files
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											Default behavior for the service bindings of the <code class="literal">servicebinding.io</code> API group
										</li><li class="listitem">
											Opt-in functionality for the service bindings of the <code class="literal">binding.operators.coreos.com</code> API group
										</li></ul></div>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Bind as environment variables
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											Default behavior for the service bindings of the <code class="literal">binding.operators.coreos.com</code> API group.
										</li><li class="listitem">
											Opt-in functionality for the service bindings of the <code class="literal">servicebinding.io</code> API group: Environment variables are created alongside files.
										</li></ul></div>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Selecting workload with a label selector
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									Not applicable (N/A)
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Detecting binding resources (<code class="literal">.spec.detectBindingResources</code>)
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									No
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									The <code class="literal">servicebinding.io</code> API group has no equivalent feature.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Naming strategies
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									No
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									There is no current mechanism within the <code class="literal">servicebinding.io</code> API group to interpret the templates that naming strategies use.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Container path
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									Partial
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									Because a service binding of the <code class="literal">binding.operators.coreos.com</code> API group can specify mapping behavior within the <code class="literal">ServiceBinding</code> resource, the <code class="literal">servicebinding.io</code> API group cannot fully support an equivalent behavior without more information about the workload.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Container name filtering
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									No
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									The <code class="literal">binding.operators.coreos.com</code> API group has no equivalent feature.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Secret path
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									No
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									The <code class="literal">servicebinding.io</code> API group has no equivalent feature.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419020581152"> <p>
									Alternative binding sources (for example, binding data from annotations)
								</p>
								 </td><td align="left" valign="top" headers="idm140419020580064"> <p>
									Yes
								</p>
								 </td><td align="left" valign="top" headers="idm140419020578480"> <p>
									Allowed by Service Binding Operator
								</p>
								 </td><td align="left" valign="top" headers="idm140419020576912"> <p>
									The specification requires support for getting binding data from provisioned services and secrets. However, a strict reading of the specification suggests that support for other binding data sources is allowed. Using this fact, Service Binding Operator can pull the binding data from various sources (for example, pulling binding data from annotations). Service Binding Operator supports these sources on both the API groups.
								</p>
								 </td></tr></tbody></table></div></section><section class="section _additional-resources" id="additional-resources_understanding-sbo"><div class="titlepage"><div><div><h3 class="title">6.2.5. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#getting-started-with-service-binding">Getting started with service binding</a>.
						</li></ul></div></section></section><section class="section" id="installing-sbo"><div class="titlepage"><div><div><h2 class="title">6.3. Installing Service Binding Operator</h2></div></div></div><p class="_abstract _abstract">
				This guide walks cluster administrators through the process of installing the Service Binding Operator to an OpenShift Container Platform cluster.
			</p><p>
				You can install Service Binding Operator on OpenShift Container Platform 4.7 and later.
			</p><h4 id="prerequisites-2">Prerequisites</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have access to an OpenShift Container Platform cluster using an account with <code class="literal">cluster-admin</code> permissions.
					</li><li class="listitem">
						Your cluster has the <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/post-installation_configuration/#enabling-cluster-capabilities">Marketplace capability</a> enabled or the Red Hat Operator catalog source configured manually.
					</li></ul></div><section class="section" id="op-installing-sbo-operator-using-the-web-console_installing-sbo"><div class="titlepage"><div><div><h3 class="title">6.3.1. Installing the Service Binding Operator using the web console</h3></div></div></div><p>
					You can install Service Binding Operator using the OpenShift Container Platform OperatorHub. When you install the Service Binding Operator, the custom resources (CRs) required for the service binding configuration are automatically installed along with the Operator.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Administrator</strong></span> perspective of the web console, navigate to <span class="strong strong"><strong>Operators</strong></span> → <span class="strong strong"><strong>OperatorHub</strong></span>.
						</li><li class="listitem">
							Use the <span class="strong strong"><strong>Filter by keyword</strong></span> box to search for <code class="literal">Service Binding Operator</code> in the catalog. Click the <span class="strong strong"><strong>Service Binding Operator</strong></span> tile.
						</li><li class="listitem">
							Read the brief description about the Operator on the <span class="strong strong"><strong>Service Binding Operator</strong></span> page. Click <span class="strong strong"><strong>Install</strong></span>.
						</li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Install Operator</strong></span> page:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Select <span class="strong strong"><strong>All namespaces on the cluster (default)</strong></span> for the <span class="strong strong"><strong>Installation Mode</strong></span>. This mode installs the Operator in the default <code class="literal">openshift-operators</code> namespace, which enables the Operator to watch and be made available to all namespaces in the cluster.
								</li><li class="listitem">
									Select <span class="strong strong"><strong>Automatic</strong></span> for the <span class="strong strong"><strong>Approval Strategy</strong></span>. This ensures that the future upgrades to the Operator are handled automatically by the Operator Lifecycle Manager (OLM). If you select the <span class="strong strong"><strong>Manual</strong></span> approval strategy, OLM creates an update request. As a cluster administrator, you must then manually approve the OLM update request to update the Operator to the new version.
								</li><li class="listitem"><p class="simpara">
									Select an <span class="strong strong"><strong>Update Channel</strong></span>.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											By default, the <span class="strong strong"><strong>stable</strong></span> channel enables installation of the latest stable and supported release of the Service Binding Operator.
										</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Install</strong></span>.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								The Operator is installed automatically into the <code class="literal">openshift-operators</code> namespace.
							</p></div></div></li><li class="listitem">
							On the <span class="strong strong"><strong>Installed Operator — ready for use</strong></span> pane, click <span class="strong strong"><strong>View Operator</strong></span>. You will see the Operator listed on the <span class="strong strong"><strong>Installed Operators</strong></span> page.
						</li><li class="listitem">
							Verify that the <span class="strong strong"><strong>Status</strong></span> is set to <span class="strong strong"><strong>Succeeded</strong></span> to confirm successful installation of Service Binding Operator.
						</li></ol></div></section><section class="section" id="additional-resources-2"><div class="titlepage"><div><div><h3 class="title">6.3.2. Additional Resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#getting-started-with-service-binding">Getting started with service binding</a>.
						</li></ul></div></section></section><section class="section" id="getting-started-with-service-binding"><div class="titlepage"><div><div><h2 class="title">6.4. Getting started with service binding</h2></div></div></div><p class="_abstract _abstract">
				The Service Binding Operator manages the data plane for workloads and backing services. This guide provides instructions with examples to help you create a database instance, deploy an application, and use the Service Binding Operator to create a binding connection between the application and the database service.
			</p><h4 id="prerequisites-3">Prerequisites</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have access to an OpenShift Container Platform cluster using an account with <code class="literal">cluster-admin</code> permissions.
					</li><li class="listitem">
						You have installed the <code class="literal">oc</code> CLI.
					</li><li class="listitem">
						You have installed Service Binding Operator from OperatorHub.
					</li><li class="listitem"><p class="simpara">
						You have installed the 5.1.2 version of the Crunchy Postgres for Kubernetes Operator from OperatorHub using the <span class="strong strong"><strong>v5</strong></span> Update channel. The installed Operator is available in an appropriate namespace, such as the <code class="literal">my-petclinic</code> namespace.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You can create the namespace using the <code class="literal">oc create namespace my-petclinic</code> command.
						</p></div></div></li></ul></div><section class="section" id="sbo-creating-a-postgresql-database-instance_getting-started-with-service-binding"><div class="titlepage"><div><div><h3 class="title">6.4.1. Creating a PostgreSQL database instance</h3></div></div></div><p>
					To create a PostgreSQL database instance, you must create a <code class="literal">PostgresCluster</code> custom resource (CR) and configure the database.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">PostgresCluster</code> CR in the <code class="literal">my-petclinic</code> namespace by running the following command in shell:
						</p><pre class="programlisting language-terminal">$ oc apply -n my-petclinic -f - &lt;&lt; EOD
---
apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
spec:
  image: registry.developers.crunchydata.com/crunchydata/crunchy-postgres:ubi8-14.4-0
  postgresVersion: 14
  instances:
    - name: instance1
      dataVolumeClaimSpec:
        accessModes:
        - "ReadWriteOnce"
        resources:
          requests:
            storage: 1Gi
  backups:
    pgbackrest:
      image: registry.developers.crunchydata.com/crunchydata/crunchy-pgbackrest:ubi8-2.38-0
      repos:
      - name: repo1
        volume:
          volumeClaimSpec:
            accessModes:
            - "ReadWriteOnce"
            resources:
              requests:
                storage: 1Gi
EOD</pre><p class="simpara">
							The annotations added in this <code class="literal">PostgresCluster</code> CR enable the service binding connection and trigger the Operator reconciliation.
						</p><p class="simpara">
							The output verifies that the database instance is created:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">postgrescluster.postgres-operator.crunchydata.com/hippo created</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							After you have created the database instance, ensure that all the pods in the <code class="literal">my-petclinic</code> namespace are running:
						</p><pre class="programlisting language-terminal">$ oc get pods -n my-petclinic</pre><p class="simpara">
							The output, which takes a few minutes to display, verifies that the database is created and configured:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                                     READY    STATUS      RESTARTS   AGE
hippo-backup-9rxm-88rzq                   0/1     Completed   0          2m2s
hippo-instance1-6psd-0                    4/4     Running     0          3m28s
hippo-repo-host-0                         2/2     Running     0          3m28s</pre>

							</p></div><p class="simpara">
							After the database is configured, you can deploy the sample application and connect it to the database service.
						</p></li></ol></div></section><section class="section" id="sbo-deploying-the-spring-petclinic-sample-application_getting-started-with-service-binding"><div class="titlepage"><div><div><h3 class="title">6.4.2. Deploying the Spring PetClinic sample application</h3></div></div></div><p>
					To deploy the Spring PetClinic sample application on an OpenShift Container Platform cluster, you must use a deployment configuration and configure your local environment to be able to test the application.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Deploy the <code class="literal">spring-petclinic</code> application with the <code class="literal">PostgresCluster</code> custom resource (CR) by running the following command in shell:
						</p><pre class="programlisting language-terminal">$ oc apply -n my-petclinic -f - &lt;&lt; EOD
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: spring-petclinic
  labels:
    app: spring-petclinic
spec:
  replicas: 1
  selector:
    matchLabels:
      app: spring-petclinic
  template:
    metadata:
      labels:
        app: spring-petclinic
    spec:
      containers:
        - name: app
          image: quay.io/service-binding/spring-petclinic:latest
          imagePullPolicy: Always
          env:
          - name: SPRING_PROFILES_ACTIVE
            value: postgres
          ports:
          - name: http
            containerPort: 8080
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: spring-petclinic
  name: spring-petclinic
spec:
  type: NodePort
  ports:
    - port: 80
      protocol: TCP
      targetPort: 8080
  selector:
    app: spring-petclinic
EOD</pre><p class="simpara">
							The output verifies that the Spring PetClinic sample application is created and deployed:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">deployment.apps/spring-petclinic created
service/spring-petclinic created</pre>

							</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you are deploying the application using <span class="strong strong"><strong>Container images</strong></span> in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console, you must enter the following environment variables under the <span class="strong strong"><strong>Deployment</strong></span> section of the <span class="strong strong"><strong>Advanced options</strong></span>:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Name: SPRING_PROFILES_ACTIVE
									</li><li class="listitem">
										Value: postgres
									</li></ul></div></div></div></li><li class="listitem"><p class="simpara">
							Verify that the application is not yet connected to the database service by running the following command:
						</p><pre class="programlisting language-terminal">$ oc get pods -n my-petclinic</pre><p class="simpara">
							The output takes a few minutes to display the <code class="literal">CrashLoopBackOff</code> status:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                                READY   STATUS             RESTARTS      AGE
spring-petclinic-5b4c7999d4-wzdtz   0/1     CrashLoopBackOff   4 (13s ago)   2m25s</pre>

							</p></div><p class="simpara">
							At this stage, the pod fails to start. If you try to interact with the application, it returns errors.
						</p></li><li class="listitem"><p class="simpara">
							Expose the service to create a route for your application:
						</p><pre class="programlisting language-terminal">$ oc expose service spring-petclinic -n my-petclinic</pre><p class="simpara">
							The output verifies that the <code class="literal">spring-petclinic</code> service is exposed and a route for the Spring PetClinic sample application is created:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">route.route.openshift.io/spring-petclinic exposed</pre>

							</p></div></li></ol></div><p>
					You can now use the Service Binding Operator to connect the application to the database service.
				</p></section><section class="section" id="connecting-the-spring-petclinic-sample-application-to-the-postgresql-database-service"><div class="titlepage"><div><div><h3 class="title">6.4.3. Connecting the Spring PetClinic sample application to the PostgreSQL database service</h3></div></div></div><p id="sbo-connecting-spring-petclinic-sample-app-to-postgresql-database-service_getting-started-with-service-binding">
					To connect the sample application to the database service, you must create a <code class="literal">ServiceBinding</code> custom resource (CR) that triggers the Service Binding Operator to project the binding data into the application.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a <code class="literal">ServiceBinding</code> CR to project the binding data:
						</p><pre class="programlisting language-terminal">$ oc apply -n my-petclinic -f - &lt;&lt; EOD
---
apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
  name: spring-petclinic-pgcluster
spec:
  services: <span id="CO1-1"><!--Empty--></span><span class="callout">1</span>
    - group: postgres-operator.crunchydata.com
      version: v1beta1
      kind: PostgresCluster <span id="CO1-2"><!--Empty--></span><span class="callout">2</span>
      name: hippo
  application: <span id="CO1-3"><!--Empty--></span><span class="callout">3</span>
    name: spring-petclinic
    group: apps
    version: v1
    resource: deployments
EOD</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO1-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Specifies a list of service resources.
								</div></dd><dt><a href="#CO1-2"><span class="callout">2</span></a> </dt><dd><div class="para">
									The CR of the database.
								</div></dd><dt><a href="#CO1-3"><span class="callout">3</span></a> </dt><dd><div class="para">
									The sample application that points to a Deployment or any other similar resource with an embedded PodSpec.
								</div></dd></dl></div><p class="simpara">
							The output verifies that the <code class="literal">ServiceBinding</code> CR is created to project the binding data into the sample application.
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">servicebinding.binding.operators.coreos.com/spring-petclinic created</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Verify that the request for service binding is successful:
						</p><pre class="programlisting language-terminal">$ oc get servicebindings -n my-petclinic</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                         READY   REASON              AGE
spring-petclinic-pgcluster   True    ApplicationsBound   7s</pre>

							</p></div><p class="simpara">
							By default, the values from the binding data of the database service are projected as files into the workload container that runs the sample application. For example, all the values from the Secret resource are projected into the <code class="literal">bindings/spring-petclinic-pgcluster</code> directory.
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Optionally, you can also verify that the files in the application contain the projected binding data, by printing out the directory contents:
							</p><pre class="programlisting language-terminal">$ for i in username password host port type; do oc exec -it deploy/spring-petclinic -n my-petclinic -- /bin/bash -c 'cd /tmp; find /bindings/*/'$i' -exec echo -n {}:" " \; -exec cat {} \;'; echo; done</pre><div class="formalpara"><p class="title"><strong>Example output: With all the values from the secret resource</strong></p><p>
									
<pre class="programlisting language-text">/bindings/spring-petclinic-pgcluster/username: &lt;username&gt;
/bindings/spring-petclinic-pgcluster/password: &lt;password&gt;
/bindings/spring-petclinic-pgcluster/host: hippo-primary.my-petclinic.svc
/bindings/spring-petclinic-pgcluster/port: 5432
/bindings/spring-petclinic-pgcluster/type: postgresql</pre>

								</p></div></div></div></li><li class="listitem"><p class="simpara">
							Set up the port forwarding from the application port to access the sample application from your local environment:
						</p><pre class="programlisting language-terminal">$ oc port-forward --address 0.0.0.0 svc/spring-petclinic 8080:80 -n my-petclinic</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">Forwarding from 0.0.0.0:8080 -&gt; 8080
Handling connection for 8080</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Access <a class="link" href="http://localhost:8080/petclinic">http://localhost:8080/petclinic</a>.
						</p><p class="simpara">
							You can now remotely access the Spring PetClinic sample application at localhost:8080 and see that the application is now connected to the database service.
						</p></li></ol></div></section><section class="section _additional-resources" id="additional-resources_getting-started-sbo"><div class="titlepage"><div><div><h3 class="title">6.4.4. Additional Resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#installing-sbo">Installing Service Binding Operator</a>.
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">Creating applications using the Developer perspective</a>.
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/operators/#managing-resources-from-crds">Managing resources from custom resource definitions</a>.
						</li><li class="listitem">
							<a class="link" href="https://github.com/redhat-developer/service-binding-operator#known-bindable-operators">Known bindable Operators</a>.
						</li></ul></div></section></section><section class="section" id="getting-started-with-service-binding-ibm-power-ibm-z"><div class="titlepage"><div><div><h2 class="title">6.5. Getting started with service binding on IBM Power, IBM Z, and IBM(R) LinuxONE</h2></div></div></div><p class="_abstract _abstract">
				The Service Binding Operator manages the data plane for workloads and backing services. This guide provides instructions with examples to help you create a database instance, deploy an application, and use the Service Binding Operator to create a binding connection between the application and the database service.
			</p><h4 id="prerequisites-4">Prerequisites</h4><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have access to an OpenShift Container Platform cluster using an account with <code class="literal">cluster-admin</code> permissions.
					</li><li class="listitem">
						You have installed the <code class="literal">oc</code> CLI.
					</li><li class="listitem">
						You have installed the Service Binding Operator from OperatorHub.
					</li></ul></div><section class="section" id="sbo-deploying-a-postgresql-operator-instance-power-z_getting-started-with-service-binding-ibm-power-ibm-z"><div class="titlepage"><div><div><h3 class="title">6.5.1. Deploying a PostgreSQL Operator</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							To deploy the Dev4Devs PostgreSQL Operator in the <code class="literal">my-petclinic</code> namespace run the following command in shell:
						</li></ol></div><pre class="programlisting language-terminal">$ oc apply -f - &lt;&lt; EOD
---
apiVersion: v1
kind: Namespace
metadata:
  name: my-petclinic
---
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: postgres-operator-group
  namespace: my-petclinic
---
apiVersion: operators.coreos.com/v1alpha1
kind: CatalogSource
metadata:
  name: ibm-multiarch-catalog
  namespace: openshift-marketplace
spec:
  sourceType: grpc
  image: quay.io/ibm/operator-registry-&lt;architecture&gt; <span id="CO2-1"><!--Empty--></span><span class="callout">1</span>
  imagePullPolicy: IfNotPresent
  displayName: ibm-multiarch-catalog
  updateStrategy:
    registryPoll:
      interval: 30m
---
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: postgresql-operator-dev4devs-com
  namespace: openshift-operators
spec:
  channel: alpha
  installPlanApproval: Automatic
  name: postgresql-operator-dev4devs-com
  source: ibm-multiarch-catalog
  sourceNamespace: openshift-marketplace
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: database-view
  labels:
    servicebinding.io/controller: "true"
rules:
  - apiGroups:
      - postgresql.dev4devs.com
    resources:
      - databases
    verbs:
      - get
      - list
EOD</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO2-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The Operator image.
						</div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									For IBM Power: <code class="literal">quay.io/ibm/operator-registry-ppc64le:release-4.9</code>
								</li><li class="listitem">
									For IBM Z and IBM® LinuxONE: <code class="literal">quay.io/ibm/operator-registry-s390x:release-4.8</code>
								</li></ul></div></dd></dl></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							After the operator is installed, list the operator subscriptions in the <code class="literal">openshift-operators</code> namespace:
						</p><pre class="programlisting language-terminal">$ oc get subs -n openshift-operators</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                               PACKAGE                            SOURCE                  CHANNEL
postgresql-operator-dev4devs-com   postgresql-operator-dev4devs-com   ibm-multiarch-catalog   alpha
rh-service-binding-operator        rh-service-binding-operator        redhat-operators        stable</pre>

							</p></div></li></ol></div></section><section class="section" id="sbo-creating-a-postgresql-database-instance-power-z_getting-started-with-service-binding-ibm-power-ibm-z"><div class="titlepage"><div><div><h3 class="title">6.5.2. Creating a PostgreSQL database instance</h3></div></div></div><p class="_abstract _abstract">
					To create a PostgreSQL database instance, you must create a <code class="literal">Database</code> custom resource (CR) and configure the database.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the <code class="literal">Database</code> CR in the <code class="literal">my-petclinic</code> namespace by running the following command in shell:
						</p><pre class="programlisting language-terminal">$ oc apply -f - &lt;&lt; EOD
apiVersion: postgresql.dev4devs.com/v1alpha1
kind: Database
metadata:
  name: sampledatabase
  namespace: my-petclinic
  annotations:
    host: sampledatabase
    type: postgresql
    port: "5432"
    service.binding/database: 'path={.spec.databaseName}'
    service.binding/port: 'path={.metadata.annotations.port}'
    service.binding/password: 'path={.spec.databasePassword}'
    service.binding/username: 'path={.spec.databaseUser}'
    service.binding/type: 'path={.metadata.annotations.type}'
    service.binding/host: 'path={.metadata.annotations.host}'
spec:
  databaseCpu: 30m
  databaseCpuLimit: 60m
  databaseMemoryLimit: 512Mi
  databaseMemoryRequest: 128Mi
  databaseName: "sampledb"
  databaseNameKeyEnvVar: POSTGRESQL_DATABASE
  databasePassword: "samplepwd"
  databasePasswordKeyEnvVar: POSTGRESQL_PASSWORD
  databaseStorageRequest: 1Gi
  databaseUser: "sampleuser"
  databaseUserKeyEnvVar: POSTGRESQL_USER
  image: registry.redhat.io/rhel8/postgresql-13:latest
  databaseStorageClassName: nfs-storage-provisioner
  size: 1
EOD</pre><p class="simpara">
							The annotations added in this <code class="literal">Database</code> CR enable the service binding connection and trigger the Operator reconciliation.
						</p><p class="simpara">
							The output verifies that the database instance is created:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">database.postgresql.dev4devs.com/sampledatabase created</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							After you have created the database instance, ensure that all the pods in the <code class="literal">my-petclinic</code> namespace are running:
						</p><pre class="programlisting language-terminal">$ oc get pods -n my-petclinic</pre><p class="simpara">
							The output, which takes a few minutes to display, verifies that the database is created and configured:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                                     READY    STATUS      RESTARTS   AGE
sampledatabase-cbc655488-74kss            0/1     Running        0       32s</pre>

							</p></div></li></ol></div><p>
					After the database is configured, you can deploy the sample application and connect it to the database service.
				</p></section><section class="section" id="sbo-deploying-the-spring-petclinic-sample-application-ibm-power-z_getting-started-with-service-binding-ibm-power-ibm-z"><div class="titlepage"><div><div><h3 class="title">6.5.3. Deploying the Spring PetClinic sample application</h3></div></div></div><p class="_abstract _abstract">
					To deploy the Spring PetClinic sample application on an OpenShift Container Platform cluster, you must use a deployment configuration and configure your local environment to be able to test the application.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Deploy the <code class="literal">spring-petclinic</code> application with the <code class="literal">PostgresCluster</code> custom resource (CR) by running the following command in shell:
						</p><pre class="programlisting language-terminal">$ oc apply -n my-petclinic -f - &lt;&lt; EOD
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: spring-petclinic
  labels:
    app: spring-petclinic
spec:
  replicas: 1
  selector:
    matchLabels:
      app: spring-petclinic
  template:
    metadata:
      labels:
        app: spring-petclinic
    spec:
      containers:
        - name: app
          image: quay.io/service-binding/spring-petclinic:latest
          imagePullPolicy: Always
          env:
          - name: SPRING_PROFILES_ACTIVE
            value: postgres
          - name: org.springframework.cloud.bindings.boot.enable
            value: "true"
          ports:
          - name: http
            containerPort: 8080
---
apiVersion: v1
kind: Service
metadata:
  labels:
    app: spring-petclinic
  name: spring-petclinic
spec:
  type: NodePort
  ports:
    - port: 80
      protocol: TCP
      targetPort: 8080
  selector:
    app: spring-petclinic
EOD</pre><p class="simpara">
							The output verifies that the Spring PetClinic sample application is created and deployed:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">deployment.apps/spring-petclinic created
service/spring-petclinic created</pre>

							</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you are deploying the application using <span class="strong strong"><strong>Container images</strong></span> in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console, you must enter the following environment variables under the <span class="strong strong"><strong>Deployment</strong></span> section of the <span class="strong strong"><strong>Advanced options</strong></span>:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										Name: SPRING_PROFILES_ACTIVE
									</li><li class="listitem">
										Value: postgres
									</li></ul></div></div></div></li><li class="listitem"><p class="simpara">
							Verify that the application is not yet connected to the database service by running the following command:
						</p><pre class="programlisting language-terminal">$ oc get pods -n my-petclinic</pre><p class="simpara">
							It takes take a few minutes until the <code class="literal">CrashLoopBackOff</code> status is displayed:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                                READY   STATUS             RESTARTS      AGE
spring-petclinic-5b4c7999d4-wzdtz   0/1     CrashLoopBackOff   4 (13s ago)   2m25s</pre>

							</p></div><p class="simpara">
							At this stage, the pod fails to start. If you try to interact with the application, it returns errors.
						</p></li></ol></div><p>
					You can now use the Service Binding Operator to connect the application to the database service.
				</p></section><section class="section" id="sbo-connecting-spring-petclinic-sample-app-to-postgresql-database-service-ibm-power-z_getting-started-with-service-binding-ibm-power-ibm-z"><div class="titlepage"><div><div><h3 class="title">6.5.4. Connecting the Spring PetClinic sample application to the PostgreSQL database service</h3></div></div></div><p class="_abstract _abstract">
					To connect the sample application to the database service, you must create a <code class="literal">ServiceBinding</code> custom resource (CR) that triggers the Service Binding Operator to project the binding data into the application.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a <code class="literal">ServiceBinding</code> CR to project the binding data:
						</p><pre class="programlisting language-terminal">$ oc apply -n my-petclinic -f - &lt;&lt; EOD
---
apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
    name: spring-petclinic-pgcluster
spec:
  services: <span id="CO3-1"><!--Empty--></span><span class="callout">1</span>
    - group: postgresql.dev4devs.com
      kind: Database <span id="CO3-2"><!--Empty--></span><span class="callout">2</span>
      name: sampledatabase
      version: v1alpha1
  application: <span id="CO3-3"><!--Empty--></span><span class="callout">3</span>
    name: spring-petclinic
    group: apps
    version: v1
    resource: deployments
EOD</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO3-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Specifies a list of service resources.
								</div></dd><dt><a href="#CO3-2"><span class="callout">2</span></a> </dt><dd><div class="para">
									The CR of the database.
								</div></dd><dt><a href="#CO3-3"><span class="callout">3</span></a> </dt><dd><div class="para">
									The sample application that points to a Deployment or any other similar resource with an embedded PodSpec.
								</div></dd></dl></div><p class="simpara">
							The output verifies that the <code class="literal">ServiceBinding</code> CR is created to project the binding data into the sample application.
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">servicebinding.binding.operators.coreos.com/spring-petclinic created</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Verify that the request for service binding is successful:
						</p><pre class="programlisting language-terminal">$ oc get servicebindings -n my-petclinic</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                          READY   REASON              AGE
spring-petclinic-postgresql   True    ApplicationsBound   47m</pre>

							</p></div><p class="simpara">
							By default, the values from the binding data of the database service are projected as files into the workload container that runs the sample application. For example, all the values from the Secret resource are projected into the <code class="literal">bindings/spring-petclinic-pgcluster</code> directory.
						</p></li><li class="listitem"><p class="simpara">
							Once this is created, you can go to the topology to see the visual connection.
						</p><div class="figure" id="idm140419023904240"><p class="title"><strong>Figure 6.1. Connecting spring-petclinic to a sample database</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/e7cfde839383dc6b9057198f9590f609/img_power.png" alt="img power"/></div></div></div></li><li class="listitem"><p class="simpara">
							Set up the port forwarding from the application port to access the sample application from your local environment:
						</p><pre class="programlisting language-terminal">$ oc port-forward --address 0.0.0.0 svc/spring-petclinic 8080:80 -n my-petclinic</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">Forwarding from 0.0.0.0:8080 -&gt; 8080
Handling connection for 8080</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Access <a class="link" href="http://localhost:8080">http://localhost:8080</a>.
						</p><p class="simpara">
							You can now remotely access the Spring PetClinic sample application at localhost:8080 and see that the application is now connected to the database service.
						</p></li></ol></div></section><section class="section _additional-resources" id="additional-resources_getting-started-with-service-binding-ibm-power-ibm-z"><div class="titlepage"><div><div><h3 class="title">6.5.5. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#installing-sbo">Installing Service Binding Operator</a>
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">Creating applications using the Developer perspective</a>
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/operators/#managing-resources-from-crds">Managing resources from custom resource definitions</a>
						</li></ul></div></section></section><section class="section" id="exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h2 class="title">6.6. Exposing binding data from a service</h2></div></div></div><p class="_abstract _abstract">
				Application developers need access to backing services to build and connect workloads. Connecting workloads to backing services is always a challenge because each service provider requires a different way to access their secrets and consume them in a workload.
			</p><p>
				The Service Binding Operator enables application developers to easily bind workloads together with operator-managed backing services, without any manual procedures to configure the binding connection. For the Service Binding Operator to provide the binding data, as an Operator provider or user who creates backing services, you must expose the binding data to be automatically detected by the Service Binding Operator. Then, the Service Binding Operator automatically collects the binding data from the backing service and shares it with a workload to provide a consistent and predictable experience.
			</p><section class="section" id="sbo-methods-of-exposing-binding-data_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h3 class="title">6.6.1. Methods of exposing binding data</h3></div></div></div><p class="_abstract _abstract">
					This section describes the methods you can use to expose the binding data.
				</p><p>
					Ensure that you know and understand your workload requirements and environment, and how it works with the provided services.
				</p><p>
					Binding data is exposed under the following circumstances:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Backing service is available as a provisioned service resource.
						</p><p class="simpara">
							The service you intend to connect to is compliant with the Service Binding specification. You must create a <code class="literal">Secret</code> resource with all the required binding data values and reference it in the backing service custom resource (CR). The detection of all the binding data values is automatic.
						</p></li><li class="listitem"><p class="simpara">
							Backing service is not available as a provisioned service resource.
						</p><p class="simpara">
							You must expose the binding data from the backing service. Depending on your workload requirements and environment, you can choose any of the following methods to expose the binding data:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Direct secret reference
								</li><li class="listitem">
									Declaring binding data through custom resource definition (CRD) or CR annotations
								</li><li class="listitem">
									Detection of binding data through owned resources
								</li></ul></div></li></ul></div><section class="section" id="provisioned-service_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.1.1. Provisioned service</h4></div></div></div><p>
						Provisioned service represents a backing service CR with a reference to a <code class="literal">Secret</code> resource placed in the <code class="literal">.status.binding.name</code> field of the backing service CR.
					</p><p>
						As an Operator provider or the user who creates backing services, you can use this method to be compliant with the Service Binding specification, by creating a <code class="literal">Secret</code> resource and referencing it in the <code class="literal">.status.binding.name</code> section of the backing service CR. This <code class="literal">Secret</code> resource must provide all the binding data values required for a workload to connect to the backing service.
					</p><p>
						The following examples show an <code class="literal">AccountService</code> CR that represents a backing service and a <code class="literal">Secret</code> resource referenced from the CR.
					</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">AccountService</code> CR</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: example.com/v1alpha1
kind: AccountService
name: prod-account-service
spec:
  ...
status:
  binding:
    name: hippo-pguser-hippo</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: Referenced <code class="literal">Secret</code> resource</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: hippo-pguser-hippo
data:
  password: "&lt;password&gt;"
  user: "&lt;username&gt;"
  ...</pre>

						</p></div><p>
						When creating a service binding resource, you can directly give the details of the <code class="literal">AccountService</code> resource in the <code class="literal">ServiceBinding</code> specification as follows:
					</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">ServiceBinding</code> resource</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
  name: account-service
spec:
  ...
  services:
  - group: "example.com"
    version: v1alpha1
    kind: AccountService
    name: prod-account-service
  application:
    name: spring-petclinic
    group: apps
    version: v1
    resource: deployments</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: <code class="literal">ServiceBinding</code> resource in Specification API</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: servicebinding.io/v1beta1
kind: ServiceBinding
metadata:
  name: account-service
spec:
  ...
  service:
    apiVersion: example.com/v1alpha1
    kind: AccountService
    name: prod-account-service
  workload:
    apiVersion: apps/v1
    kind: Deployment
    name: spring-petclinic</pre>

						</p></div><p>
						This method exposes all the keys in the <code class="literal">hippo-pguser-hippo</code> referenced <code class="literal">Secret</code> resource as binding data that is to be projected into the workload.
					</p></section><section class="section" id="direct-secret-reference_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.1.2. Direct secret reference</h4></div></div></div><p>
						You can use this method, if all the required binding data values are available in a <code class="literal">Secret</code> resource that you can reference in your Service Binding definition. In this method, a <code class="literal">ServiceBinding</code> resource directly references a <code class="literal">Secret</code> resource to connect to a service. All the keys in the <code class="literal">Secret</code> resource are exposed as binding data.
					</p><div class="formalpara"><p class="title"><strong>Example: Specification with the <code class="literal">binding.operators.coreos.com</code> API</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
  name: account-service
spec:
  ...
  services:
  - group: ""
    version: v1
    kind: Secret
    name: hippo-pguser-hippo</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: Specification that is compliant with the <code class="literal">servicebinding.io</code> API</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: servicebinding.io/v1beta1
kind: ServiceBinding
metadata:
  name: account-service
spec:
  ...
  service:
    apiVersion: v1
    kind: Secret
    name: hippo-pguser-hippo</pre>

						</p></div></section><section class="section" id="declaring-binding-data-through-CRD-or-CR-annotations_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.1.3. Declaring binding data through CRD or CR annotations</h4></div></div></div><p>
						You can use this method to annotate the resources of the backing service to expose the binding data with specific annotations. Adding annotations under the <code class="literal">metadata</code> section alters the CRs and CRDs of the backing services. Service Binding Operator detects the annotations added to the CRs and CRDs and then creates a <code class="literal">Secret</code> resource with the values extracted based on the annotations.
					</p><p>
						The following examples show the annotations that are added under the <code class="literal">metadata</code> section and a referenced <code class="literal">ConfigMap</code> object from a resource:
					</p><div class="formalpara"><p class="title"><strong>Example: Exposing binding data from a <code class="literal">Secret</code> object defined in the CR annotations</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    service.binding: 'path={.metadata.name}-pguser-{.metadata.name},objectType=Secret'
    ...</pre>

						</p></div><p>
						The previous example places the name of the secret name in the <code class="literal">{.metadata.name}-pguser-{.metadata.name}</code> template that resolves to <code class="literal">hippo-pguser-hippo</code>. The template can contain multiple JSONPath expressions.
					</p><div class="formalpara"><p class="title"><strong>Example: Referenced <code class="literal">Secret</code> object from a resource</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: hippo-pguser-hippo
data:
  password: "&lt;password&gt;"
  user: "&lt;username&gt;"</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: Exposing binding data from a <code class="literal">ConfigMap</code> object defined in the CR annotations</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    service.binding: 'path={.metadata.name}-config,objectType=ConfigMap'
    ...</pre>

						</p></div><p>
						The previous example places the name of the config map in the <code class="literal">{.metadata.name}-config</code> template that resolves to <code class="literal">hippo-config</code>. The template can contain multiple JSONPath expressions.
					</p><div class="formalpara"><p class="title"><strong>Example: Referenced <code class="literal">ConfigMap</code> object from a resource</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: hippo-config
data:
  db_timeout: "10s"
  user: "hippo"</pre>

						</p></div></section><section class="section" id="detection-of-binding-data-through-owned-resources_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.1.4. Detection of binding data through owned resources</h4></div></div></div><p>
						You can use this method if your backing service owns one or more Kubernetes resources such as route, service, config map, or secret that you can use to detect the binding data. In this method, the Service Binding Operator detects the binding data from resources owned by the backing service CR.
					</p><p>
						The following examples show the <code class="literal">detectBindingResources</code> API option set to <code class="literal">true</code> in the <code class="literal">ServiceBinding</code> CR:
					</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
  name: spring-petclinic-detect-all
  namespace: my-petclinic
spec:
  detectBindingResources: true
  services:
    - group: postgres-operator.crunchydata.com
      version: v1beta1
      kind: PostgresCluster
      name: hippo
  application:
    name: spring-petclinic
    group: apps
    version: v1
    resource: deployments</pre>

						</p></div><p>
						In the previous example, <code class="literal">PostgresCluster</code> custom service resource owns one or more Kubernetes resources such as route, service, config map, or secret.
					</p><p>
						The Service Binding Operator automatically detects the binding data exposed on each of the owned resources.
					</p></section></section><section class="section" id="sbo-data-model_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h3 class="title">6.6.2. Data model</h3></div></div></div><p class="_abstract _abstract">
					The data model used in the annotations follows specific conventions.
				</p><p>
					Service binding annotations must use the following convention:
				</p><pre class="programlisting language-yaml">service.binding(/&lt;NAME&gt;)?:
    "&lt;VALUE&gt;|(path=&lt;JSONPATH_TEMPLATE&gt;(,objectType=&lt;OBJECT_TYPE&gt;)?(,elementType=&lt;ELEMENT_TYPE&gt;)?(,sourceKey=&lt;SOURCE_KEY&gt;)?(,sourceValue=&lt;SOURCE_VALUE&gt;)?)"</pre><p>
					where:
				</p><div class="horizontal"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 15%; "><!--Empty--></col><col style="width: 85%; "><!--Empty--></col></colgroup><tbody valign="top"><tr><td valign="top"> <p>
									<code class="literal">&lt;NAME&gt;</code>
								</p>
								 </td><td valign="top"> <p>
									Specifies the name under which the binding value is to be exposed. You can exclude it only when the <code class="literal">objectType</code> parameter is set to <code class="literal">Secret</code> or <code class="literal">ConfigMap</code>.
								</p>
								 </td></tr><tr><td valign="top"> <p>
									<code class="literal">&lt;VALUE&gt;</code>
								</p>
								 </td><td valign="top"> <p>
									Specifies the constant value exposed when no <code class="literal">path</code> is set.
								</p>
								 </td></tr></tbody></table></div><p>
					The data model provides the details on the allowed values and semantic for the <code class="literal">path</code>, <code class="literal">elementType</code>, <code class="literal">objectType</code>, <code class="literal">sourceKey</code>, and <code class="literal">sourceValue</code> parameters.
				</p><div class="table" id="idm140419011694064"><p class="title"><strong>Table 6.4. Parameters and their descriptions</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 23%; " class="col_1"><!--Empty--></col><col style="width: 46%; " class="col_2"><!--Empty--></col><col style="width: 31%; " class="col_3"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419010374672" scope="col">Parameter</th><th align="left" valign="top" id="idm140419010373584" scope="col">Description</th><th align="left" valign="top" id="idm140419010372496" scope="col">Default value</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419010374672"> <p>
									<code class="literal">path</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010373584"> <p>
									JSONPath template that consists JSONPath expressions enclosed by curly braces {}.
								</p>
								 </td><td align="left" valign="top" headers="idm140419010372496"> <p>
									N/A
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010374672"> <p>
									<code class="literal">elementType</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010373584"> <p>
									Specifies whether the value of the element referenced in the <code class="literal">path</code> parameter complies with any one of the following types:
								</p>
								 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<code class="literal">string</code>
										</li><li class="listitem">
											<code class="literal">sliceOfStrings</code>
										</li><li class="listitem">
											<code class="literal">sliceOfMaps</code>
										</li></ul></div>
								 </td><td align="left" valign="top" headers="idm140419010372496"> <p>
									<code class="literal">string</code>
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010374672"> <p>
									<code class="literal">objectType</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010373584"> <p>
									Specifies whether the value of the element indicated in the <code class="literal">path</code> parameter refers to a <code class="literal">ConfigMap</code>, <code class="literal">Secret</code>, or plain string in the current namespace.
								</p>
								 </td><td align="left" valign="top" headers="idm140419010372496"> <p>
									<code class="literal">Secret</code>, if <code class="literal">elementType</code> is non-string.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010374672"> <p>
									<code class="literal">sourceKey</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010373584"> <p>
									Specifies the key in the <code class="literal">ConfigMap</code> or <code class="literal">Secret</code> resource to be added to the binding secret when collecting the binding data.<br/>
								</p>
								 <p>
									Note:
								</p>
								 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											When used in conjunction with <code class="literal">elementType</code>=<code class="literal">sliceOfMaps</code>, the <code class="literal">sourceKey</code> parameter specifies the key in the slice of maps whose value is used as a key in the binding secret.
										</li><li class="listitem">
											Use this optional parameter to expose a specific entry in the referenced <code class="literal">Secret</code> or <code class="literal">ConfigMap</code> resource as binding data.
										</li><li class="listitem">
											When not specified, all keys and values from the <code class="literal">Secret</code> or <code class="literal">ConfigMap</code> resource are exposed and are added to the binding secret.
										</li></ul></div>
								 </td><td align="left" valign="top" headers="idm140419010372496"> <p>
									N/A
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010374672"> <p>
									<code class="literal">sourceValue</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010373584"> <p>
									Specifies the key in the slice of maps.<br/>
								</p>
								 <p>
									Note:
								</p>
								 <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											The value of this key is used as the base to generate the value of the entry for the key-value pair to be added to the binding secret.
										</li><li class="listitem">
											In addition, the value of the <code class="literal">sourceKey</code> is used as the key of the entry for the key-value pair to be added to the binding secret.
										</li><li class="listitem">
											It is mandatory only if <code class="literal">elementType</code>=<code class="literal">sliceOfMaps</code>.
										</li></ul></div>
								 </td><td align="left" valign="top" headers="idm140419010372496"> <p>
									N/A
								</p>
								 </td></tr></tbody></table></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">sourceKey</code> and <code class="literal">sourceValue</code> parameters are applicable only if the element indicated in the <code class="literal">path</code> parameter refers to a <code class="literal">ConfigMap</code> or <code class="literal">Secret</code> resource.
					</p></div></div></section><section class="section" id="sbo-setting-annotations-mapping-optional_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h3 class="title">6.6.3. Setting annotations mapping to be optional</h3></div></div></div><p>
					You can have optional fields in the annotations. For example, a path to the credentials might not be present if the service endpoint does not require authentication. In such cases, a field might not exist in the target path of the annotations. As a result, Service Binding Operator generates an error, by default.
				</p><p>
					As a service provider, to indicate whether you require annotations mapping, you can set a value for the <code class="literal">optional</code> flag in your annotations when enabling services. Service Binding Operator provides annotations mapping only if the target path is available. When the target path is not available, the Service Binding Operator skips the optional mapping and continues with the projection of the existing mappings without throwing any errors.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To make a field in the annotations optional, set the <code class="literal">optional</code> flag value to <code class="literal">true</code>:
						</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: apps.example.org/v1beta1
kind: Database
metadata:
  name: my-db
  namespace: my-petclinic
  annotations:
    service.binding/username: path={.spec.name},optional=true
    ...</pre>

							</p></div></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If you set the <code class="literal">optional</code> flag value to <code class="literal">false</code> and the Service Binding Operator is unable to find the target path, the Operator fails the annotations mapping.
							</li><li class="listitem">
								If the <code class="literal">optional</code> flag has no value set, the Service Binding Operator considers the value as <code class="literal">false</code> by default and fails the annotations mapping.
							</li></ul></div></div></div></section><section class="section" id="sbo-rbac-requirements_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h3 class="title">6.6.4. RBAC requirements</h3></div></div></div><p class="_abstract _abstract">
					To expose the backing service binding data using the Service Binding Operator, you require certain Role-based access control (RBAC) permissions. Specify certain verbs under the <code class="literal">rules</code> field of the <code class="literal">ClusterRole</code> resource to grant the RBAC permissions for the backing service resources. When you define these <code class="literal">rules</code>, you allow the Service Binding Operator to read the binding data of the backing service resources throughout the cluster. If the users do not have permissions to read binding data or modify application resource, the Service Binding Operator prevents such users to bind services to application. Adhering to the RBAC requirements avoids unnecessary permission elevation for the user and prevents access to unauthorized services or applications.
				</p><p>
					The Service Binding Operator performs requests against the Kubernetes API using a dedicated service account. By default, this account has permissions to bind services to workloads, both represented by the following standard Kubernetes or OpenShift objects:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">Deployments</code>
						</li><li class="listitem">
							<code class="literal">DaemonSets</code>
						</li><li class="listitem">
							<code class="literal">ReplicaSets</code>
						</li><li class="listitem">
							<code class="literal">StatefulSets</code>
						</li><li class="listitem">
							<code class="literal">DeploymentConfigs</code>
						</li></ul></div><p>
					The Operator service account is bound to an aggregated cluster role, allowing Operator providers or cluster administrators to enable binding custom service resources to workloads. To grant the required permissions within a <code class="literal">ClusterRole</code>, label it with the <code class="literal">servicebinding.io/controller</code> flag and set the flag value to <code class="literal">true</code>. The following example shows how to allow the Service Binding Operator to <code class="literal">get</code>, <code class="literal">watch</code>, and <code class="literal">list</code> the custom resources (CRs) of Crunchy PostgreSQL Operator:
				</p><div class="formalpara"><p class="title"><strong>Example: Enable binding to PostgreSQL database instances provisioned by Crunchy PostgreSQL Operator</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: postgrescluster-reader
  labels:
     servicebinding.io/controller: "true"
rules:
- apiGroups:
    - postgres-operator.crunchydata.com
  resources:
    - postgresclusters
  verbs:
    - get
    - watch
    - list
  ...</pre>

					</p></div><p>
					This cluster role can be deployed during the installation of the backing service Operator.
				</p></section><section class="section" id="sbo-categories-of-exposable-binding-data_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h3 class="title">6.6.5. Categories of exposable binding data</h3></div></div></div><p class="_abstract _abstract">
					The Service Binding Operator enables you to expose the binding data values from the backing service resources and custom resource definitions (CRDs).
				</p><p>
					This section provides examples to show how you can use the various categories of exposable binding data. You must modify these examples to suit your work environment and requirements.
				</p><section class="section" id="exposing-a-string-from-a-resource_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.5.1. Exposing a string from a resource</h4></div></div></div><p>
						The following example shows how to expose the string from the <code class="literal">metadata.name</code> field of the <code class="literal">PostgresCluster</code> custom resource (CR) as a username:
					</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    service.binding/username: path={.metadata.name}
    ...</pre>

						</p></div></section><section class="section" id="exposing-a-constant-value-as-the-binding-item_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.5.2. Exposing a constant value as the binding item</h4></div></div></div><p>
						The following examples show how to expose a constant value from the <code class="literal">PostgresCluster</code> custom resource (CR):
					</p><div class="formalpara"><p class="title"><strong>Example: Exposing a constant value</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    "service.binding/type": "postgresql" <span id="CO4-1"><!--Empty--></span><span class="callout">1</span></pre>

						</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO4-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								Binding <code class="literal">type</code> to be exposed with the <code class="literal">postgresql</code> value.
							</div></dd></dl></div></section><section class="section" id="exposing-an-entire-config-map-or-secret-that-is-referenced-from-a-resource_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.5.3. Exposing an entire config map or secret that is referenced from a resource</h4></div></div></div><p>
						The following examples show how to expose an entire secret through annotations:
					</p><div class="formalpara"><p class="title"><strong>Example: Exposing an entire secret through annotations</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    service.binding: 'path={.metadata.name}-pguser-{.metadata.name},objectType=Secret'</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: The referenced secret from the backing service resource</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: hippo-pguser-hippo
data:
  password: "&lt;password&gt;"
  user: "&lt;username&gt;"</pre>

						</p></div></section><section class="section" id="exposing-a-specific-entry-from-a-config-map-or-secret-that-is-referenced-from-a-resource_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.5.4. Exposing a specific entry from a config map or secret that is referenced from a resource</h4></div></div></div><p>
						The following examples show how to expose a specific entry from a config map through annotations:
					</p><div class="formalpara"><p class="title"><strong>Example: Exposing an entry from a config map through annotations</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    service.binding: 'path={.metadata.name}-config,objectType=ConfigMap,sourceKey=user'</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: The referenced config map from the backing service resource</strong></p><p>
							The binding data should have a key with name as <code class="literal">db_timeout</code> and value as <code class="literal">10s</code>:
						</p></div><pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: hippo-config
data:
  db_timeout: "10s"
  user: "hippo"</pre></section><section class="section" id="exposing-a-resource-definition-value_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.5.5. Exposing a resource definition value</h4></div></div></div><p>
						The following example shows how to expose a resource definition value through annotations:
					</p><div class="formalpara"><p class="title"><strong>Example: Exposing a resource definition value through annotations</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    service.binding/username: path={.metadata.name}
    ...</pre>

						</p></div></section><section class="section" id="exposing-entries-of-a-collection-with-the-key-and-value-from-each-entry_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.5.6. Exposing entries of a collection with the key and value from each entry</h4></div></div></div><p>
						The following example shows how to expose the entries of a collection with the key and value from each entry through annotations:
					</p><div class="formalpara"><p class="title"><strong>Example: Exposing the entries of a collection through annotations</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    "service.binding/uri": "path={.status.connections},elementType=sliceOfMaps,sourceKey=type,sourceValue=url"
spec:
  ...
status:
  connections:
    - type: primary
      url: primary.example.com
    - type: secondary
      url: secondary.example.com
    - type: '404'
      url: black-hole.example.com</pre>

						</p></div><p>
						The following example shows how the previous entries of a collection in annotations are projected into the bound application.
					</p><div class="formalpara"><p class="title"><strong>Example: Binding data files</strong></p><p>
							
<pre class="programlisting language-text">/bindings/&lt;binding-name&gt;/uri_primary =&gt; primary.example.com
/bindings/&lt;binding-name&gt;/uri_secondary =&gt; secondary.example.com
/bindings/&lt;binding-name&gt;/uri_404 =&gt; black-hole.example.com</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: Configuration from a backing service resource</strong></p><p>
							
<pre class="programlisting language-yaml">status:
  connections:
    - type: primary
      url: primary.example.com
    - type: secondary
      url: secondary.example.com
    - type: '404'
      url: black-hole.example.com</pre>

						</p></div><p>
						The previous example helps you to project all those values with keys such as <code class="literal">primary</code>, <code class="literal">secondary</code>, and so on.
					</p></section><section class="section" id="exposing-items-of-a-collection-with-one-key-per-item_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.5.7. Exposing items of a collection with one key per item</h4></div></div></div><p>
						The following example shows how to expose the items of a collection with one key per item through annotations:
					</p><div class="formalpara"><p class="title"><strong>Example: Exposing the items of a collection through annotations</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    "service.binding/tags": "path={.spec.tags},elementType=sliceOfStrings"
spec:
    tags:
      - knowledge
      - is
      - power</pre>

						</p></div><p>
						The following example shows how the previous items of a collection in annotations are projected into the bound application.
					</p><div class="formalpara"><p class="title"><strong>Example: Binding data files</strong></p><p>
							
<pre class="programlisting language-text">/bindings/&lt;binding-name&gt;/tags_0 =&gt; knowledge
/bindings/&lt;binding-name&gt;/tags_1 =&gt; is
/bindings/&lt;binding-name&gt;/tags_2 =&gt; power</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: Configuration from a backing service resource</strong></p><p>
							
<pre class="programlisting language-yaml">spec:
  tags:
  - knowledge
  - is
  - power</pre>

						</p></div></section><section class="section" id="exposing-values-of-collection-entries-with-one-key-per-entry-value_exposing-binding-data-from-a-service"><div class="titlepage"><div><div><h4 class="title">6.6.5.8. Exposing values of collection entries with one key per entry value</h4></div></div></div><p>
						The following example shows how to expose the values of collection entries with one key per entry value through annotations:
					</p><div class="formalpara"><p class="title"><strong>Example: Exposing the values of collection entries through annotations</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: postgres-operator.crunchydata.com/v1beta1
kind: PostgresCluster
metadata:
  name: hippo
  namespace: my-petclinic
  annotations:
    "service.binding/url": "path={.spec.connections},elementType=sliceOfStrings,sourceValue=url"
spec:
  connections:
    - type: primary
      url: primary.example.com
    - type: secondary
      url: secondary.example.com
    - type: '404'
      url: black-hole.example.com</pre>

						</p></div><p>
						The following example shows how the previous values of a collection in annotations are projected into the bound application.
					</p><div class="formalpara"><p class="title"><strong>Example: Binding data files</strong></p><p>
							
<pre class="programlisting language-text">/bindings/&lt;binding-name&gt;/url_0 =&gt; primary.example.com
/bindings/&lt;binding-name&gt;/url_1 =&gt; secondary.example.com
/bindings/&lt;binding-name&gt;/url_2 =&gt; black-hole.example.com</pre>

						</p></div></section></section><section class="section _additional-resources" id="additional-resources_exposing-binding-data"><div class="titlepage"><div><div><h3 class="title">6.6.6. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/operators/#osdk-generating-csvs">Defining cluster service versions (CSVs)</a>.
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#projecting-binding-data">Projecting binding data</a>.
						</li></ul></div></section></section><section class="section" id="projecting-binding-data"><div class="titlepage"><div><div><h2 class="title">6.7. Projecting binding data</h2></div></div></div><p class="_abstract _abstract">
				This section provides information on how you can consume the binding data.
			</p><section class="section" id="consumption-of-binding-data"><div class="titlepage"><div><div><h3 class="title">6.7.1. Consumption of binding data</h3></div></div></div><p>
					After the backing service exposes the binding data, for a workload to access and consume this data, you must project it into the workload from a backing service. Service Binding Operator automatically projects this set of data into the workload in the following methods:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							By default, as files.
						</li><li class="listitem">
							As environment variables, after you configure the <code class="literal">.spec.bindAsFiles</code> parameter from the <code class="literal">ServiceBinding</code> resource.
						</li></ol></div></section><section class="section" id="sbo-configuration-of-directory-path-to-project-binding-data_projecting-binding-data"><div class="titlepage"><div><div><h3 class="title">6.7.2. Configuration of the directory path to project the binding data inside workload container</h3></div></div></div><p>
					By default, Service Binding Operator mounts the binding data as files at a specific directory in your workload resource. You can configure the directory path using the <code class="literal">SERVICE_BINDING_ROOT</code> environment variable setup in the container where your workload runs.
				</p><div class="formalpara"><p class="title"><strong>Example: Binding data mounted as files</strong></p><p>
						
<pre class="screen">$SERVICE_BINDING_ROOT <span id="CO5-1"><!--Empty--></span><span class="callout">1</span>
├── account-database <span id="CO5-2"><!--Empty--></span><span class="callout">2</span>
│   ├── type <span id="CO5-3"><!--Empty--></span><span class="callout">3</span>
│   ├── provider <span id="CO5-4"><!--Empty--></span><span class="callout">4</span>
│   ├── uri
│   ├── username
│   └── password
└── transaction-event-stream <span id="CO5-5"><!--Empty--></span><span class="callout">5</span>
    ├── type
    ├── connection-count
    ├── uri
    ├── certificates
    └── private-key</pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO5-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							Root directory.
						</div></dd><dt><a href="#CO5-2"><span class="callout">2</span></a> <a href="#CO5-5"><span class="callout">5</span></a> </dt><dd><div class="para">
							Directory that stores the binding data.
						</div></dd><dt><a href="#CO5-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							Mandatory identifier that identifies the type of the binding data projected into the corresponding directory.
						</div></dd><dt><a href="#CO5-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							Optional: Identifier to identify the provider so that the application can identify the type of backing service it can connect to.
						</div></dd></dl></div><p>
					To consume the binding data as environment variables, use the built-in language feature of your programming language of choice that can read environment variables.
				</p><div class="formalpara"><p class="title"><strong>Example: Python client usage</strong></p><p>
						
<pre class="screen">import os
username = os.getenv("USERNAME")
password = os.getenv("PASSWORD")</pre>

					</p></div><div class="admonition warning"><div class="admonition_header">Warning</div><div><div class="formalpara"><p class="title"><strong>For using the binding data directory name to look up the binding data</strong></p><p>
							Service Binding Operator uses the <code class="literal">ServiceBinding</code> resource name (<code class="literal">.metadata.name</code>) as the binding data directory name. The spec also provides a way to override that name through the <code class="literal">.spec.name</code> field. As a result, there is a chance for binding data name collision if there are multiple <code class="literal">ServiceBinding</code> resources in the namespace. However, due to the nature of the volume mount in Kubernetes, the binding data directory will contain values from only one of the <code class="literal">Secret</code> resources.
						</p></div></div></div><section class="section" id="computation-of-the-final-path-for-projecting-the-binding-data-as-files_projecting-binding-data"><div class="titlepage"><div><div><h4 class="title">6.7.2.1. Computation of the final path for projecting the binding data as files</h4></div></div></div><p>
						The following table summarizes the configuration of how the final path for the binding data projection is computed when files are mounted at a specific directory:
					</p><div class="table" id="idm140419011172864"><p class="title"><strong>Table 6.5. Summary of the final path computation</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419011774256" scope="col"><code class="literal">SERVICE_BINDING_ROOT</code></th><th align="left" valign="top" id="idm140419011773008" scope="col">Final path</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419011774256"> <p>
										Not available
									</p>
									 </td><td align="left" valign="top" headers="idm140419011773008"> <p>
										<code class="literal">/bindings/&lt;ServiceBinding_ResourceName&gt;</code>
									</p>
									 </td></tr><tr><td align="left" valign="top" headers="idm140419011774256"> <p>
										<code class="literal">dir/path/root</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419011773008"> <p>
										<code class="literal">dir/path/root/&lt;ServiceBinding_ResourceName&gt;</code>
									</p>
									 </td></tr></tbody></table></div></div><p>
						In the previous table, the <code class="literal">&lt;ServiceBinding_ResourceName&gt;</code> entry specifies the name of the <code class="literal">ServiceBinding</code> resource that you configure in the <code class="literal">.metadata.name</code> section of the custom resource (CR).
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							By default, the projected files get their permissions set to 0644. Service Binding Operator cannot set specific permissions due to a bug in Kubernetes that causes issues if the service expects specific permissions such as <code class="literal">0600</code>. As a workaround, you can modify the code of the program or the application that is running inside a workload resource to copy the file to the <code class="literal">/tmp</code> directory and set the appropriate permissions.
						</p></div></div><p>
						To access and consume the binding data within the existing <code class="literal">SERVICE_BINDING_ROOT</code> environment variable, use the built-in language feature of your programming language of choice that can read environment variables.
					</p><div class="formalpara"><p class="title"><strong>Example: Python client usage</strong></p><p>
							
<pre class="screen">from pyservicebinding import binding
try:
    sb = binding.ServiceBinding()
except binding.ServiceBindingRootMissingError as msg:
    # log the error message and retry/exit
    print("SERVICE_BINDING_ROOT env var not set")
sb = binding.ServiceBinding()
bindings_list = sb.bindings("postgresql")</pre>

						</p></div><p>
						In the previous example, the <code class="literal">bindings_list</code> variable contains the binding data for the <code class="literal">postgresql</code> database service type.
					</p></section></section><section class="section" id="sbo-projecting-the-binding-data_projecting-binding-data"><div class="titlepage"><div><div><h3 class="title">6.7.3. Projecting the binding data</h3></div></div></div><p>
					Depending on your workload requirements and environment, you can choose to project the binding data either as files or environment variables.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You understand the following concepts:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Environment and requirements of your workload, and how it works with the provided services.
								</li><li class="listitem">
									Consumption of the binding data in your workload resource.
								</li><li class="listitem">
									Configuration of how the final path for data projection is computed for the default method.
								</li></ul></div></li><li class="listitem">
							The binding data is exposed from the backing service.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							To project the binding data as files, determine the destination folder by ensuring that the existing <code class="literal">SERVICE_BINDING_ROOT</code> environment variable is present in the container where your workload runs.
						</li><li class="listitem">
							To project the binding data as environment variables, set the value for the <code class="literal">.spec.bindAsFiles</code> parameter to <code class="literal">false</code> from the <code class="literal">ServiceBinding</code> resource in the custom resource (CR).
						</li></ol></div></section><section class="section _additional-resources" id="additional-resources_projecting-binding-data-sbo"><div class="titlepage"><div><div><h3 class="title">6.7.4. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#exposing-binding-data-from-a-service">Exposing binding data from a service</a>.
						</li><li class="listitem">
							<a class="link" href="https://redhat-developer.github.io/service-binding-operator/userguide/using-projected-bindings/using-projected-bindings.html">Using the projected binding data in the source code of the application</a>.
						</li></ul></div></section></section><section class="section" id="binding-workloads-using-sbo"><div class="titlepage"><div><div><h2 class="title">6.8. Binding workloads using Service Binding Operator</h2></div></div></div><p>
				Application developers must bind a workload to one or more backing services by using a binding secret. This secret is generated for the purpose of storing information to be consumed by the workload.
			</p><p>
				As an example, consider that the service you want to connect to is already exposing the binding data. In this case, you would also need a workload to be used along with the <code class="literal">ServiceBinding</code> custom resource (CR). By using this <code class="literal">ServiceBinding</code> CR, the workload sends a binding request with the details of the services to bind with.
			</p><div class="formalpara"><p class="title"><strong>Example of <code class="literal">ServiceBinding</code> CR</strong></p><p>
					
<pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
    name: spring-petclinic-pgcluster
    namespace: my-petclinic
spec:
    services: <span id="CO6-1"><!--Empty--></span><span class="callout">1</span>
    - group: postgres-operator.crunchydata.com
      version: v1beta1
      kind: PostgresCluster
      name: hippo
    application: <span id="CO6-2"><!--Empty--></span><span class="callout">2</span>
      name: spring-petclinic
      group: apps
      version: v1
      resource: deployments</pre>

				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO6-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						Specifies a list of service resources.
					</div></dd><dt><a href="#CO6-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						The sample application that points to a Deployment or any other similar resource with an embedded PodSpec.
					</div></dd></dl></div><p>
				As shown in the previous example, you can also directly use a <code class="literal">ConfigMap</code> or a <code class="literal">Secret</code> itself as a service resource to be used as a source of binding data.
			</p><section class="section" id="sbo-naming-strategies_binding-workloads-using-sbo"><div class="titlepage"><div><div><h3 class="title">6.8.1. Naming strategies</h3></div></div></div><p class="_abstract _abstract">
					Naming strategies are available only for the <code class="literal">binding.operators.coreos.com</code> API group.
				</p><p>
					Naming strategies use Go templates to help you define custom binding names through the service binding request. Naming strategies apply for all attributes including the mappings in the <code class="literal">ServiceBinding</code> custom resource (CR).
				</p><p>
					A backing service projects the binding names as files or environment variables into the workload. If a workload expects the projected binding names in a particular format, but the binding names to be projected from the backing service are not available in that format, then you can change the binding names using naming strategies.
				</p><div class="formalpara"><p class="title"><strong>Predefined post-processing functions</strong></p><p>
						While using naming strategies, depending on the expectations or requirements of your workload, you can use the following predefined post-processing functions in any combination to convert the character strings:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">upper</code>: Converts the character strings into capital or uppercase letters.
						</li><li class="listitem">
							<code class="literal">lower</code>: Converts the character strings into lowercase letters.
						</li><li class="listitem">
							<code class="literal">title</code>: Converts the character strings where the first letter of each word is capitalized except for certain minor words.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Predefined naming strategies</strong></p><p>
						Binding names declared through annotations are processed for their name change before their projection into the workload according to the following predefined naming strategies:
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							<code class="literal">none</code>: When applied, there are no changes in the binding names.
						</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
								After the template compilation, the binding names take the <code class="literal">{{ .name }}</code> form.
							</p></div><pre class="programlisting language-yaml">host: hippo-pgbouncer
port: 5432</pre></li><li class="listitem"><p class="simpara">
							<code class="literal">upper</code>: Applied when no <code class="literal">namingStrategy</code> is defined. When applied, converts all the character strings of the binding name key into capital or uppercase letters.
						</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
								After the template compilation, the binding names take the <code class="literal">{{ .service.kind | upper}}_{{ .name | upper }}</code> form.
							</p></div><pre class="programlisting language-yaml">DATABASE_HOST: hippo-pgbouncer
DATABASE_PORT: 5432</pre><p class="simpara">
							If your workload requires a different format, you can define a custom naming strategy and change the binding name using a prefix and a separator, for example, <code class="literal">PORT_DATABASE</code>.
						</p></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								When the binding names are projected as files, by default the predefined <code class="literal">none</code> naming strategy is applied, and the binding names do not change.
							</li><li class="listitem">
								When the binding names are projected as environment variables and no <code class="literal">namingStrategy</code> is defined, by default the predefined <code class="literal">uppercase</code> naming strategy is applied.
							</li><li class="listitem">
								You can override the predefined naming strategies by defining custom naming strategies using different combinations of custom binding names and predefined post-processing functions.
							</li></ul></div></div></div></section><section class="section" id="sbo-advanced-binding-options_binding-workloads-using-sbo"><div class="titlepage"><div><div><h3 class="title">6.8.2. Advanced binding options</h3></div></div></div><p>
					You can define the <code class="literal">ServiceBinding</code> custom resource (CR) to use the following advanced binding options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Changing binding names: This option is available only for the <code class="literal">binding.operators.coreos.com</code> API group.
						</li><li class="listitem">
							Composing custom binding data: This option is available only for the <code class="literal">binding.operators.coreos.com</code> API group.
						</li><li class="listitem">
							Binding workloads using label selectors: This option is available for both the <code class="literal">binding.operators.coreos.com</code> and <code class="literal">servicebinding.io</code> API groups.
						</li></ul></div><section class="section" id="changing-binding-names_binding-workloads-using-sbo"><div class="titlepage"><div><div><h4 class="title">6.8.2.1. Changing the binding names before projecting them into the workload</h4></div></div></div><p>
						You can specify the rules to change the binding names in the <code class="literal">.spec.namingStrategy</code> attribute of the <code class="literal">ServiceBinding</code> CR. For example, consider a Spring PetClinic sample application that connects to the PostgreSQL database. In this case, the PostgreSQL database service exposes the <code class="literal">host</code> and <code class="literal">port</code> fields of the database to use for binding. The Spring PetClinic sample application can access this exposed binding data through the binding names.
					</p><div class="formalpara"><p class="title"><strong>Example: Spring PetClinic sample application in the <code class="literal">ServiceBinding</code> CR</strong></p><p>
							
<pre class="programlisting language-yaml">...
    application:
      name: spring-petclinic
      group: apps
      version: v1
      resource: deployments
...</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example: PostgreSQL database service in the <code class="literal">ServiceBinding</code> CR</strong></p><p>
							
<pre class="programlisting language-yaml">...
    services:
    - group: postgres-operator.crunchydata.com
      version: v1beta1
      kind: PostgresCluster
      name: hippo
...</pre>

						</p></div><p>
						If <code class="literal">namingStrategy</code> is not defined and the binding names are projected as environment variables, then the <code class="literal">host: hippo-pgbouncer</code> value in the backing service and the projected environment variable would appear as shown in the following example:
					</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
							
<pre class="programlisting language-yaml">DATABASE_HOST: hippo-pgbouncer</pre>

						</p></div><p>
						where:
					</p><div class="horizontal"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 15%; "><!--Empty--></col><col style="width: 85%; "><!--Empty--></col></colgroup><tbody valign="top"><tr><td valign="top"> <p>
										<code class="literal">DATABASE</code>
									</p>
									 </td><td valign="top"> <p>
										Specifies the <code class="literal">kind</code> backend service.
									</p>
									 </td></tr><tr><td valign="top"> <p>
										<code class="literal">HOST</code>
									</p>
									 </td><td valign="top"> <p>
										Specifies the binding name.
									</p>
									 </td></tr></tbody></table></div><p>
						After applying the <code class="literal">POSTGRESQL_{{ .service.kind | upper }}_{{ .name | upper }}_ENV</code> naming strategy, the list of custom binding names prepared by the service binding request appears as shown in the following example:
					</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
							
<pre class="programlisting language-yaml">POSTGRESQL_DATABASE_HOST_ENV: hippo-pgbouncer
POSTGRESQL_DATABASE_PORT_ENV: 5432</pre>

						</p></div><p>
						The following items describe the expressions defined in the <code class="literal">POSTGRESQL_{{ .service.kind | upper }}_{{ .name | upper }}_ENV</code> naming strategy:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">.name</code>: Refers to the binding name exposed by the backing service. In the previous example, the binding names are <code class="literal">HOST</code> and <code class="literal">PORT</code>.
							</li><li class="listitem">
								<code class="literal">.service.kind</code>: Refers to the kind of service resource whose binding names are changed with the naming strategy.
							</li><li class="listitem">
								<code class="literal">upper</code>: String function used to post-process the character string while compiling the Go template string.
							</li><li class="listitem">
								<code class="literal">POSTGRESQL</code>: Prefix of the custom binding name.
							</li><li class="listitem">
								<code class="literal">ENV</code>: Suffix of the custom binding name.
							</li></ul></div><p>
						Similar to the previous example, you can define the string templates in <code class="literal">namingStrategy</code> to define how each key of the binding names should be prepared by the service binding request.
					</p></section><section class="section" id="composing-custom-binding-data_binding-workloads-using-sbo"><div class="titlepage"><div><div><h4 class="title">6.8.2.2. Composing custom binding data</h4></div></div></div><p>
						As an application developer, you can compose custom binding data under the following circumstances:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The backing service does not expose binding data.
							</li><li class="listitem">
								The values exposed are not available in the required format as expected by the workload.
							</li></ul></div><p>
						For example, consider a case where the backing service CR exposes the host, port, and database user as binding data, but the workload requires that the binding data be consumed as a connection string. You can compose custom binding data using attributes in the Kubernetes resource representing the backing service.
					</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
    name: spring-petclinic-pgcluster
    namespace: my-petclinic
spec:
    services:
    - group: postgres-operator.crunchydata.com
      version: v1beta1
      kind: PostgresCluster
      name: hippo <span id="CO7-1"><!--Empty--></span><span class="callout">1</span>
      id: postgresDB <span id="CO7-2"><!--Empty--></span><span class="callout">2</span>
    - group: ""
      version: v1
      kind: Secret
      name: hippo-pguser-hippo
      id: postgresSecret
    application:
      name: spring-petclinic
      group: apps
      version: v1
      resource: deployments
    mappings:
      ## From the database service
      - name: JDBC_URL
        value: 'jdbc:postgresql://{{ .postgresDB.metadata.annotations.proxy }}:{{ .postgresDB.spec.port }}/{{ .postgresDB.metadata.name }}'
      ## From both the services!
      - name: CREDENTIALS
        value: '{{ .postgresDB.metadata.name }}{{ translationService.postgresSecret.data.password }}'
      ## Generate JSON
      - name: DB_JSON <span id="CO7-3"><!--Empty--></span><span class="callout">3</span>
        value: {{ json .postgresDB.status }} <span id="CO7-4"><!--Empty--></span><span class="callout">4</span></pre>

						</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO7-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								Name of the backing service resource.
							</div></dd><dt><a href="#CO7-2"><span class="callout">2</span></a> </dt><dd><div class="para">
								Optional identifier.
							</div></dd><dt><a href="#CO7-3"><span class="callout">3</span></a> </dt><dd><div class="para">
								The JSON name that the Service Binding Operator generates. The Service Binding Operator projects this JSON name as the name of a file or environment variable.
							</div></dd><dt><a href="#CO7-4"><span class="callout">4</span></a> </dt><dd><div class="para">
								The JSON value that the Service Binding Operator generates. The Service Binding Operator projects this JSON value as a file or environment variable. The JSON value contains the attributes from your specified field of the backing service custom resource.
							</div></dd></dl></div></section><section class="section" id="binding-workloads-using-a-label-selector_binding-workloads-using-sbo"><div class="titlepage"><div><div><h4 class="title">6.8.2.3. Binding workloads using a label selector</h4></div></div></div><p>
						You can use a label selector to specify the workload to bind. If you declare a service binding using the label selectors to pick up workloads, the Service Binding Operator periodically attempts to find and bind new workloads that match the given label selector.
					</p><p>
						For example, as a cluster administrator, you can bind a service to every <code class="literal">Deployment</code> in a namespace with the <code class="literal">environment: production</code> label by setting an appropriate <code class="literal">labelSelector</code> field in the <code class="literal">ServiceBinding</code> CR. This enables the Service Binding Operator to bind each of these workloads with one <code class="literal">ServiceBinding</code> CR.
					</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">ServiceBinding</code> CR in the <code class="literal">binding.operators.coreos.com/v1alpha1</code> API</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
  name: multi-application-binding
  namespace: service-binding-demo
spec:
  application:
    labelSelector: <span id="CO8-1"><!--Empty--></span><span class="callout">1</span>
      matchLabels:
        environment: production
    group: apps
    version: v1
    resource: deployments
  services:
    group: ""
    version: v1
    kind: Secret
    name: super-secret-data</pre>

						</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO8-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								Specifies the workload that is being bound.
							</div></dd></dl></div><div class="formalpara"><p class="title"><strong>Example <code class="literal">ServiceBinding</code> CR in the <code class="literal">servicebinding.io</code> API</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: servicebindings.io/v1beta1
kind: ServiceBinding
metadata:
  name: multi-application-binding
  namespace: service-binding-demo
spec:
  workload:
    selector: <span id="CO9-1"><!--Empty--></span><span class="callout">1</span>
      matchLabels:
        environment: production
    apiVersion: app/v1
    kind: Deployment
  service:
    apiVersion: v1
    kind: Secret
    name: super-secret-data</pre>

						</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO9-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								Specifies the workload that is being bound.
							</div></dd></dl></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							If you define the following pairs of fields, Service Binding Operator refuses the binding operation and generates an error:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The <code class="literal">name</code> and <code class="literal">labelSelector</code> fields in the <code class="literal">binding.operators.coreos.com/v1alpha1</code> API.
								</li><li class="listitem">
									The <code class="literal">name</code> and <code class="literal">selector</code> fields in the <code class="literal">servicebinding.io</code> API (Spec API).
								</li></ul></div></div></div><div class="formalpara"><p class="title"><strong>Understanding the rebinding behavior</strong></p><p>
							Consider a case where, after a successful binding, you use the <code class="literal">name</code> field to identify a workload. If you delete and recreate that workload, the <code class="literal">ServiceBinding</code> reconciler does not rebind the workload, and the Operator cannot project the binding data to the workload. However, if you use the <code class="literal">labelSelector</code> field to identify a workload, the <code class="literal">ServiceBinding</code> reconciler rebinds the workload, and the Operator projects the binding data.
						</p></div></section></section><section class="section" id="sbo-binding-workloads-that-are-not-compliant-with-PodSpec_binding-workloads-using-sbo"><div class="titlepage"><div><div><h3 class="title">6.8.3. Binding secondary workloads that are not compliant with PodSpec</h3></div></div></div><p>
					A typical scenario in service binding involves configuring the backing service, the workload (Deployment), and Service Binding Operator. Consider a scenario that involves a secondary workload (which can also be an application Operator) that is not compliant with PodSpec and is between the primary workload (Deployment) and Service Binding Operator.
				</p><p>
					For such secondary workload resources, the location of the container path is arbitrary. For service binding, if the secondary workload in a CR is not compliant with the PodSpec, you must specify the location of the container path. Doing so projects the binding data into the container path specified in the secondary workload of the <code class="literal">ServiceBinding</code> custom resource (CR), for example, when you do not want the binding data inside a pod.
				</p><p>
					In Service Binding Operator, you can configure the path of where containers or secrets reside within a workload and bind these paths at a custom location.
				</p><section class="section" id="configuring-custom-location-of-container-path_binding-workloads-using-sbo"><div class="titlepage"><div><div><h4 class="title">6.8.3.1. Configuring the custom location of the container path</h4></div></div></div><p>
						This custom location is available for the <code class="literal">binding.operators.coreos.com</code> API group when Service Binding Operator projects the binding data as environment variables.
					</p><p>
						Consider a secondary workload CR, which is not compliant with the PodSpec and has containers located at the <code class="literal">spec.containers</code> path:
					</p><div class="formalpara"><p class="title"><strong>Example: Secondary workload CR</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: "operator.sbo.com/v1"
kind: SecondaryWorkload
metadata:
    name: secondary-workload
spec:
    containers:
    - name: hello-world
      image: quay.io/baijum/secondary-workload:latest
      ports:
      - containerPort: 8080</pre>

						</p></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
								Configure the <code class="literal">spec.containers</code> path by specifying a value in the <code class="literal">ServiceBinding</code> CR and bind this path to a <code class="literal">spec.application.bindingPath.containersPath</code> custom location:
							</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">ServiceBinding</code> CR with the <code class="literal">spec.containers</code> path in a custom location</strong></p><p>
									
<pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
    name: spring-petclinic-pgcluster
spec:
    services:
    - group: postgres-operator.crunchydata.com
      version: v1beta1
      kind: PostgresCluster
      name: hippo
      id: postgresDB
    - group: ""
      version: v1
      kind: Secret
      name: hippo-pguser-hippo
      id: postgresSecret
    application: <span id="CO10-1"><!--Empty--></span><span class="callout">1</span>
      name: spring-petclinic
      group: apps
      version: v1
      resource: deployments
    application: <span id="CO10-2"><!--Empty--></span><span class="callout">2</span>
      name: secondary-workload
      group: operator.sbo.com
      version: v1
      resource: secondaryworkloads
      bindingPath:
        containersPath: spec.containers <span id="CO10-3"><!--Empty--></span><span class="callout">3</span></pre>

								</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO10-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										The sample application that points to a Deployment or any other similar resource with an embedded PodSpec.
									</div></dd><dt><a href="#CO10-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										The secondary workload, which is not compliant with the PodSpec.
									</div></dd><dt><a href="#CO10-3"><span class="callout">3</span></a> </dt><dd><div class="para">
										The custom location of the container path.
									</div></dd></dl></div></li></ul></div><p>
						After you specify the location of the container path, Service Binding Operator generates the binding data, which becomes available in the container path specified in the secondary workload of the <code class="literal">ServiceBinding</code> CR.
					</p><p>
						The following example shows the <code class="literal">spec.containers</code> path with the <code class="literal">envFrom</code> and <code class="literal">secretRef</code> fields:
					</p><div class="formalpara"><p class="title"><strong>Example: Secondary workload CR with the <code class="literal">envFrom</code> and <code class="literal">secretRef</code> fields</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: "operator.sbo.com/v1"
kind: SecondaryWorkload
metadata:
    name: secondary-workload
spec:
    containers:
    - env: <span id="CO11-1"><!--Empty--></span><span class="callout">1</span>
      - name: ServiceBindingOperatorChangeTriggerEnvVar
        value: "31793"
      envFrom:
      - secretRef:
          name: secret-resource-name <span id="CO11-2"><!--Empty--></span><span class="callout">2</span>
      image: quay.io/baijum/secondary-workload:latest
      name: hello-world
      ports:
      - containerPort: 8080
      resources: {}</pre>

						</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO11-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								Unique array of containers with values generated by the Service Binding Operator. These values are based on the backing service CR.
							</div></dd><dt><a href="#CO11-2"><span class="callout">2</span></a> </dt><dd><div class="para">
								Name of the <code class="literal">Secret</code> resource generated by the Service Binding Operator.
							</div></dd></dl></div></section><section class="section" id="configuring-custom-location-of-secret-path_binding-workloads-using-sbo"><div class="titlepage"><div><div><h4 class="title">6.8.3.2. Configuring the custom location of the secret path</h4></div></div></div><p>
						This custom location is available for the <code class="literal">binding.operators.coreos.com</code> API group when Service Binding Operator projects the binding data as environment variables.
					</p><p>
						Consider a secondary workload CR, which is not compliant with the PodSpec, with only the secret at the <code class="literal">spec.secret</code> path:
					</p><div class="formalpara"><p class="title"><strong>Example: Secondary workload CR</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: "operator.sbo.com/v1"
kind: SecondaryWorkload
metadata:
    name: secondary-workload
spec:
    secret: ""</pre>

						</p></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="discrete"><li class="listitem"><p class="simpara">
								Configure the <code class="literal">spec.secret</code> path by specifying a value in the <code class="literal">ServiceBinding</code> CR and bind this path at a <code class="literal">spec.application.bindingPath.secretPath</code> custom location:
							</p><div class="formalpara"><p class="title"><strong>Example: <code class="literal">ServiceBinding</code> CR with the <code class="literal">spec.secret</code> path in a custom location</strong></p><p>
									
<pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
    name: spring-petclinic-pgcluster
spec:
...
    application: <span id="CO12-1"><!--Empty--></span><span class="callout">1</span>
      name: secondary-workload
      group: operator.sbo.com
      version: v1
      resource: secondaryworkloads
      bindingPath:
        secretPath: spec.secret <span id="CO12-2"><!--Empty--></span><span class="callout">2</span>
...</pre>

								</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO12-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										The secondary workload, which is not compliant with the PodSpec.
									</div></dd><dt><a href="#CO12-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										The custom location of the secret path that contains the name of the <code class="literal">Secret</code> resource.
									</div></dd></dl></div></li></ul></div><p>
						After you specify the location of the secret path, Service Binding Operator generates the binding data, which becomes available in the secret path specified in the secondary workload of the <code class="literal">ServiceBinding</code> CR.
					</p><p>
						The following example shows the <code class="literal">spec.secret</code> path with the <code class="literal">binding-request</code> value:
					</p><div class="formalpara"><p class="title"><strong>Example: Secondary workload CR with the <code class="literal">binding-request</code> value</strong></p><p>
							
<pre class="programlisting language-yaml">...
apiVersion: "operator.sbo.com/v1"
kind: SecondaryWorkload
metadata:
    name: secondary-workload
spec:
    secret: binding-request-72ddc0c540ab3a290e138726940591debf14c581 <span id="CO13-1"><!--Empty--></span><span class="callout">1</span>
...</pre>

						</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO13-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								The unique name of the <code class="literal">Secret</code> resource that Service Binding Operator generates.
							</div></dd></dl></div></section><section class="section" id="workload-resource-mapping_binding-workloads-using-sbo"><div class="titlepage"><div><div><h4 class="title">6.8.3.3. Workload resource mapping</h4></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Workload resource mapping is available for the secondary workloads of the <code class="literal">ServiceBinding</code> custom resource (CR) for both the API groups: <code class="literal">binding.operators.coreos.com</code> and <code class="literal">servicebinding.io</code>.
								</li><li class="listitem">
									You must define <code class="literal">ClusterWorkloadResourceMapping</code> resources only under the <code class="literal">servicebinding.io</code> API group. However, the <code class="literal">ClusterWorkloadResourceMapping</code> resources interact with <code class="literal">ServiceBinding</code> resources under both the <code class="literal">binding.operators.coreos.com</code> and <code class="literal">servicebinding.io</code> API groups.
								</li></ul></div></div></div><p>
						If you cannot configure custom path locations by using the configuration method for container path, you can define exactly where binding data needs to be projected. Specify where to project the binding data for a given workload kind by defining the <code class="literal">ClusterWorkloadResourceMapping</code> resources in the <code class="literal">servicebinding.io</code> API group.
					</p><p>
						The following example shows how to define a mapping for the <code class="literal">CronJob.batch/v1</code> resources.
					</p><div class="formalpara"><p class="title"><strong>Example: Mapping for <code class="literal">CronJob.batch/v1</code> resources</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: servicebinding.io/v1beta1
kind: ClusterWorkloadResourceMapping
metadata:
 name: cronjobs.batch <span id="CO14-1"><!--Empty--></span><span class="callout">1</span>
spec:
  versions:
  - version: "v1" <span id="CO14-2"><!--Empty--></span><span class="callout">2</span>
    annotations: .spec.jobTemplate.spec.template.metadata.annotations <span id="CO14-3"><!--Empty--></span><span class="callout">3</span>
    containers:
    - path: .spec.jobTemplate.spec.template.spec.containers[*] <span id="CO14-4"><!--Empty--></span><span class="callout">4</span>
    - path: .spec.jobTemplate.spec.template.spec.initContainers[*]
      name: .name <span id="CO14-5"><!--Empty--></span><span class="callout">5</span>
      env: .env <span id="CO14-6"><!--Empty--></span><span class="callout">6</span>
      volumeMounts: .volumeMounts <span id="CO14-7"><!--Empty--></span><span class="callout">7</span>
    volumes: .spec.jobTemplate.spec.template.spec.volumes <span id="CO14-8"><!--Empty--></span><span class="callout">8</span></pre>

						</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO14-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								Name of the <code class="literal">ClusterWorkloadResourceMapping</code> resource, which must be qualified as the <code class="literal">plural.group</code> of the mapped workload resource.
							</div></dd><dt><a href="#CO14-2"><span class="callout">2</span></a> </dt><dd><div class="para">
								Version of the resource that is being mapped. Any version that is not specified can be matched with the "*" wildcard.
							</div></dd><dt><a href="#CO14-3"><span class="callout">3</span></a> </dt><dd><div class="para">
								Optional: Identifier of the <code class="literal">.annotations</code> field in a pod, specified with a fixed JSONPath. The default value is <code class="literal">.spec.template.spec.annotations</code>.
							</div></dd><dt><a href="#CO14-4"><span class="callout">4</span></a> </dt><dd><div class="para">
								Identifier of the <code class="literal">.containers</code> and <code class="literal">.initContainers</code> fields in a pod, specified with a JSONPath. If no entries under the <code class="literal">containers</code> field are defined, the Service Binding Operator defaults to two paths: <code class="literal">.spec.template.spec.containers[*]</code> and <code class="literal">.spec.template.spec.initContainers[\*]</code>, with all other fields set as their default. However, if you specify an entry, then you must define the <code class="literal">.path</code> field.
							</div></dd><dt><a href="#CO14-5"><span class="callout">5</span></a> </dt><dd><div class="para">
								Optional: Identifier of the <code class="literal">.name</code> field in a container, specified with a fixed JSONPath. The default value is <code class="literal">.name</code>.
							</div></dd><dt><a href="#CO14-6"><span class="callout">6</span></a> </dt><dd><div class="para">
								Optional: Identifier of the <code class="literal">.env</code> field in a container, specified with a fixed JSONPath. The default value is <code class="literal">.env</code>.
							</div></dd><dt><a href="#CO14-7"><span class="callout">7</span></a> </dt><dd><div class="para">
								Optional: Identifier of the <code class="literal">.volumeMounts</code> field in a container, specified with a fixed JSONPath. The default value is <code class="literal">.volumeMounts</code>.
							</div></dd><dt><a href="#CO14-8"><span class="callout">8</span></a> </dt><dd><div class="para">
								Optional: Identifier of the <code class="literal">.volumes</code> field in a pod, specified with a fixed JSONPath. The default value is <code class="literal">.spec.template.spec.volumes</code>.
							</div></dd></dl></div><div class="admonition important"><div class="admonition_header">Important</div><div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									In this context, a fixed JSONPath is a subset of the JSONPath grammar that accepts only the following operations:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
											Field lookup: <code class="literal">.spec.template</code>
										</li><li class="listitem">
											Array indexing: <code class="literal">.spec['template']</code>
										</li></ul></div><p class="simpara">
									All other operations are not accepted.
								</p></li><li class="listitem">
									Most of these fields are optional. When they are not specified, the Service Binding Operator assumes defaults compatible with <code class="literal">PodSpec</code> resources.
								</li><li class="listitem">
									The Service Binding Operator requires that each of these fields is structurally equivalent to the corresponding field in a pod deployment. For example, the contents of the <code class="literal">.env</code> field in a workload resource must be able to accept the same structure of data that the <code class="literal">.env</code> field in a Pod resource would. Otherwise, projecting binding data into such a workload might result in unexpected behavior from the Service Binding Operator.
								</li></ul></div></div></div><div class="formalpara"><p class="title"><strong>Behavior specific to the <code class="literal">binding.operators.coreos.com</code> API group</strong></p><p>
							You can expect the following behaviors when <code class="literal">ClusterWorkloadResourceMapping</code> resources interact with <code class="literal">ServiceBinding</code> resources under the <code class="literal">binding.operators.coreos.com</code> API group:
						</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								If a <code class="literal">ServiceBinding</code> resource with the <code class="literal">bindAsFiles: false</code> flag value is created together with one of these mappings, then environment variables are projected into the <code class="literal">.envFrom</code> field underneath each <code class="literal">path</code> field specified in the corresponding <code class="literal">ClusterWorkloadResourceMapping</code> resource.
							</li><li class="listitem"><p class="simpara">
								As a cluster administrator, you can specify both a <code class="literal">ClusterWorkloadResourceMapping</code> resource and the <code class="literal">.spec.application.bindingPath.containersPath</code> field in a <code class="literal">ServiceBinding.bindings.coreos.com</code> resource for binding purposes.
							</p><p class="simpara">
								The Service Binding Operator attempts to project binding data into the locations specified in both a <code class="literal">ClusterWorkloadResourceMapping</code> resource and the <code class="literal">.spec.application.bindingPath.containersPath</code> field. This behavior is equivalent to adding a container entry to the corresponding <code class="literal">ClusterWorkloadResourceMapping</code> resource with the <code class="literal">path: $containersPath</code> attribute, with all other values taking their default value.
							</p></li></ul></div></section></section><section class="section" id="sbo-unbinding-workloads-from-a-backing-service_binding-workloads-using-sbo"><div class="titlepage"><div><div><h3 class="title">6.8.4. Unbinding workloads from a backing service</h3></div></div></div><p class="_abstract _abstract">
					You can unbind a workload from a backing service by using the <code class="literal">oc</code> tool.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To unbind a workload from a backing service, delete the <code class="literal">ServiceBinding</code> custom resource (CR) linked to it:
						</p><pre class="programlisting language-terminal">$ oc delete ServiceBinding &lt;.metadata.name&gt;</pre><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
								
<pre class="programlisting language-terminal">$ oc delete ServiceBinding spring-petclinic-pgcluster</pre>

							</p></div><p class="simpara">
							where:
						</p><div class="horizontal"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 15%; "><!--Empty--></col><col style="width: 85%; "><!--Empty--></col></colgroup><tbody valign="top"><tr><td valign="top"> <p>
											<code class="literal">spring-petclinic-pgcluster</code>
										</p>
										 </td><td valign="top"> <p>
											Specifies the name of the <code class="literal">ServiceBinding</code> CR.
										</p>
										 </td></tr></tbody></table></div></li></ul></div></section><section class="section _additional-resources" id="additional-resources_binding-workloads-sbo"><div class="titlepage"><div><div><h3 class="title">6.8.5. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#binding-a-workload-together-with-a-backing-service_understanding-service-binding-operator">Binding a workload together with a backing service</a>.
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#connecting-the-spring-petclinic-sample-application-to-the-postgresql-database-service">Connecting the Spring PetClinic sample application to the PostgreSQL database service</a>.
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/operators/#crd-creating-custom-resources-from-file_crd-managing-resources-from-crds">Creating custom resources from a file</a>
						</li><li class="listitem">
							<a class="link" href="https://redhat-developer.github.io/service-binding-operator/userguide/binding-workloads-using-sbo/custom-path-injection.html#_workload_resource_mapping">Example schema of the ClusterWorkloadResourceMapping resource</a>.
						</li></ul></div></section></section><section class="section" id="odc-connecting-an-application-to-a-service-using-the-developer-perspective"><div class="titlepage"><div><div><h2 class="title">6.9. Connecting an application to a service using the Developer perspective</h2></div></div></div><p class="_abstract _abstract">
				Use the <span class="strong strong"><strong>Topology</strong></span> view for the following purposes:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Group multiple components within an application.
					</li><li class="listitem">
						Connect components with each other.
					</li><li class="listitem">
						Connect multiple resources to services with labels.
					</li></ul></div><p>
				You can either use a binding or a visual connector to connect components.
			</p><p>
				A binding connection between the components can be established only if the target node is an Operator-backed service. This is indicated by the <span class="strong strong"><strong>Create a binding connector</strong></span> tool-tip which appears when you drag an arrow to such a target node. When an application is connected to a service by using a binding connector a <code class="literal">ServiceBinding</code> resource is created. Then, the Service Binding Operator controller projects the necessary binding data into the application deployment. After the request is successful, the application is redeployed establishing an interaction between the connected components.
			</p><p>
				A visual connector establishes only a visual connection between the components, depicting an intent to connect. No interaction between the components is established. If the target node is not an Operator-backed service the <span class="strong strong"><strong>Create a visual connector</strong></span> tool-tip is displayed when you drag an arrow to a target node.
			</p><section class="section" id="odc-discovering-and-identifying-operator-backed-bindable-services_odc-connecting-an-application-to-a-service-using-the-developer-perspective"><div class="titlepage"><div><div><h3 class="title">6.9.1. Discovering and identifying Operator-backed bindable services</h3></div></div></div><p>
					As a user, if you want to create a bindable service, you must know which services are bindable. Bindable services are services that the applications can consume easily because they expose their binding data such as credentials, connection details, volume mounts, secrets, and other binding data in a standard way. The <span class="strong strong"><strong>Developer</strong></span> perspective helps you discover and identify such bindable services.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To discover and identify Operator-backed bindable services, consider the following alternative approaches:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
									Click <span class="strong strong"><strong>+Add</strong></span> → <span class="strong strong"><strong>Developer Catalog</strong></span> → <span class="strong strong"><strong>Operator Backed</strong></span> to see the Operator-backed tiles. Operator-backed services that support service binding features have a <span class="strong strong"><strong>Bindable</strong></span> badge on the tiles.
								</li><li class="listitem"><p class="simpara">
									On the left pane of the <span class="strong strong"><strong>Operator Backed</strong></span> page, select the <span class="strong strong"><strong>Bindable</strong></span> checkbox.
								</p><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
									Click the help icon next to <span class="strong strong"><strong>Service binding</strong></span> to see more information about bindable services.
								</p></div></div></li><li class="listitem">
									Click <span class="strong strong"><strong>+Add</strong></span> → <span class="strong strong"><strong>Add</strong></span> and search for Operator-backed services. When you click the bindable service, you can view the <span class="strong strong"><strong>Bindable</strong></span> badge in the side panel to the right.
								</li></ul></div></li></ul></div></section><section class="section" id="odc-creating-a-visual-connection-between-components_odc-connecting-an-application-to-a-service-using-the-developer-perspective"><div class="titlepage"><div><div><h3 class="title">6.9.2. Creating a visual connection between components</h3></div></div></div><p>
					You can depict an intent to connect application components by using the visual connector.
				</p><p>
					This procedure walks you through an example of creating a visual connection between a PostgreSQL Database service and a Spring PetClinic sample application.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have created and deployed a Spring PetClinic sample application by using the <span class="strong strong"><strong>Developer</strong></span> perspective.
						</li><li class="listitem">
							You have created and deployed a Crunchy PostgreSQL database instance by using the <span class="strong strong"><strong>Developer</strong></span> perspective. This instance has the following components: <code class="literal">hippo-backup</code>, <code class="literal">hippo-instance</code>, <code class="literal">hippo-repo-host</code>, and <code class="literal">hippo-pgbouncer</code>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Hover over the Spring PetClinic sample application to see a dangling arrow on the node.
						</p><div class="figure" id="idm140419015351424"><p class="title"><strong>Figure 6.2. Visual connector</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/452e8904ade7c840388317d66cf0ed68/odc_connector.png" alt="odc connector"/></div></div></div></li><li class="listitem">
							Click and drag the arrow towards the <code class="literal">hippo-pgbouncer</code> deployment to connect the Spring PetClinic sample application with it.
						</li><li class="listitem">
							Click the <code class="literal">spring-petclinic</code> deployment to see the <span class="strong strong"><strong>Overview</strong></span> panel. Under the <span class="strong strong"><strong>Details</strong></span> tab, click the edit icon in the <span class="strong strong"><strong>Annotations</strong></span> section to see the <span class="strong strong"><strong>Key = <code class="literal">app.openshift.io/connects-to</code></strong></span> and <span class="strong strong"><strong>Value = <code class="literal">[{"apiVersion":"apps/v1","kind":"Deployment","name":"hippo-pgbouncer"}]</code></strong></span> annotation added to the deployment.
						</li><li class="listitem"><p class="simpara">
							Optional: You can repeat these steps to establish visual connections between other applications and components you create.
						</p><div class="figure" id="idm140419023842288"><p class="title"><strong>Figure 6.3. Connecting multiple applications</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/712289e6e1c1b6dd62edf5eb170ef564/odc_connecting_multiple_applications.png" alt="odc connecting multiple applications"/></div></div></div></li></ol></div></section><section class="section" id="odc-creating-a-binding-connection-between-components_odc-connecting-an-application-to-a-service-using-the-developer-perspective"><div class="titlepage"><div><div><h3 class="title">6.9.3. Creating a binding connection between components</h3></div></div></div><p>
					You can create a binding connection with Operator-backed components, as demonstrated in the following example, which uses a PostgreSQL Database service and a Spring PetClinic sample application. To create a binding connection with a service that the PostgreSQL Database Operator backs, you must first add the Red Hat-provided PostgreSQL Database Operator to the <span class="strong strong"><strong>OperatorHub</strong></span>, and then install the Operator. The PostreSQL Database Operator then creates and manages the Database resource, which exposes the binding data in secrets, config maps, status, and spec attributes.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You created and deployed a Spring PetClinic sample application in the <span class="strong strong"><strong>Developer</strong></span> perspective.
						</li><li class="listitem">
							You installed Service Binding Operator from the <span class="strong strong"><strong>OperatorHub</strong></span>.
						</li><li class="listitem">
							You installed the <span class="strong strong"><strong>Crunchy Postgres for Kubernetes</strong></span> Operator from the OperatorHub in the <code class="literal">v5</code> <span class="strong strong"><strong>Update</strong></span> channel.
						</li><li class="listitem">
							You created a <span class="strong strong"><strong>PostgresCluster</strong></span> resource in the <span class="strong strong"><strong>Developer</strong></span> perspective, which resulted in a Crunchy PostgreSQL database instance with the following components: <code class="literal">hippo-backup</code>, <code class="literal">hippo-instance</code>, <code class="literal">hippo-repo-host</code>, and <code class="literal">hippo-pgbouncer</code>.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Developer</strong></span> perspective, switch to the relevant project, for example, <code class="literal">my-petclinic</code>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Topology</strong></span> view, hover over the Spring PetClinic sample application to see a dangling arrow on the node.
						</li><li class="listitem">
							Drag and drop the arrow onto the <span class="strong strong"><strong>hippo</strong></span> database icon in the Postgres Cluster to make a binding connection with the Spring PetClinic sample application.
						</li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Create Service Binding</strong></span> dialog, keep the default name or add a different name for the service binding, and then click <span class="strong strong"><strong>Create</strong></span>.
						</p><div class="figure" id="idm140419015414624"><p class="title"><strong>Figure 6.4. Service Binding dialog</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/8e01e08e448550ebba27533f54836020/odc-sbc-modal.png" alt="odc sbc modal"/></div></div></div></li><li class="listitem">
							Optional: If there is difficulty in making a binding connection using the Topology view, go to <span class="strong strong"><strong>+Add</strong></span> → <span class="strong strong"><strong>YAML</strong></span> → <span class="strong strong"><strong>Import YAML</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Optional: In the YAML editor, add the <code class="literal">ServiceBinding</code> resource:
						</p><pre class="programlisting language-yaml">apiVersion: binding.operators.coreos.com/v1alpha1
kind: ServiceBinding
metadata:
    name: spring-petclinic-pgcluster
    namespace: my-petclinic
spec:
    services:
    - group: postgres-operator.crunchydata.com
      version: v1beta1
      kind: PostgresCluster
      name: hippo
    application:
      name: spring-petclinic
      group: apps
      version: v1
      resource: deployments</pre><p class="simpara">
							A service binding request is created and a binding connection is created through a <code class="literal">ServiceBinding</code> resource. When the database service connection request succeeds, the application is redeployed and the connection is established.
						</p><div class="figure" id="idm140419012749872"><p class="title"><strong>Figure 6.5. Binding connector</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/77d563c8141817f3b30d3e2edc0089c1/odc-binding-connector.png" alt="odc binding connector"/></div></div></div><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
							You can also use the context menu by dragging the dangling arrow to add and create a binding connection to an operator-backed service.
						</p><div class="figure" id="idm140419012745120"><p class="title"><strong>Figure 6.6. Context menu to create binding connection</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/8fbc47c386008749d2730b2bef356355/odc_context_operator.png" alt="odc context operator"/></div></div></div></div></div></li><li class="listitem">
							In the navigation menu, click <span class="strong strong"><strong>Topology</strong></span>. The spring-petclinic deployment in the Topology view includes an Open URL link to view its web page.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Open URL</strong></span> link.
						</li></ol></div><p>
					You can now view the Spring PetClinic sample application remotely to confirm that the application is now connected to the database service and that the data has been successfully projected to the application from the Crunchy PostgreSQL database service.
				</p><p>
					The Service Binding Operator has successfully created a working connection between the application and the database service.
				</p></section><section class="section" id="odc-verifying-the-status-of-your-service-binding-from-the-topology-view_odc-connecting-an-application-to-a-service-using-the-developer-perspective"><div class="titlepage"><div><div><h3 class="title">6.9.4. Verifying the status of your service binding from the Topology view</h3></div></div></div><p>
					The <span class="strong strong"><strong>Developer</strong></span> perspective helps you verify the status of your service binding through the <span class="strong strong"><strong>Topology</strong></span> view.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							If a service binding was successful, click the binding connector. A side panel appears displaying the <span class="strong strong"><strong>Connected</strong></span> status under the <span class="strong strong"><strong>Details</strong></span> tab.
						</p><p class="simpara">
							Optionally, you can view the <span class="strong strong"><strong>Connected</strong></span> status on the following pages from the <span class="strong strong"><strong>Developer</strong></span> perspective:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The <span class="strong strong"><strong>ServiceBindings</strong></span> page.
								</li><li class="listitem">
									The <span class="strong strong"><strong>ServiceBinding details</strong></span> page. In addition, the page title displays a <span class="strong strong"><strong>Connected</strong></span> badge.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							If a service binding was unsuccessful, the binding connector shows a red arrowhead and a red cross in the middle of the connection. Click this connector to view the <span class="strong strong"><strong>Error</strong></span> status in the side panel under the <span class="strong strong"><strong>Details</strong></span> tab. Optionally, click the <span class="strong strong"><strong>Error</strong></span> status to view specific information about the underlying problem.
						</p><p class="simpara">
							You can also view the <span class="strong strong"><strong>Error</strong></span> status and a tooltip on the following pages from the <span class="strong strong"><strong>Developer</strong></span> perspective:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									The <span class="strong strong"><strong>ServiceBindings</strong></span> page.
								</li><li class="listitem">
									The <span class="strong strong"><strong>ServiceBinding details</strong></span> page. In addition, the page title displays an <span class="strong strong"><strong>Error</strong></span> badge.
								</li></ul></div></li></ol></div><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
					In the <span class="strong strong"><strong>ServiceBindings</strong></span> page, use the <span class="strong strong"><strong>Filter</strong></span> dropdown to list the service bindings based on their status.
				</p></div></div></section><section class="section" id="odc-visualizing-the-binding-connections-to-resources_odc-connecting-an-application-to-a-service-using-the-developer-perspective"><div class="titlepage"><div><div><h3 class="title">6.9.5. Visualizing the binding connections to resources</h3></div></div></div><p>
					As a user, use <span class="strong strong"><strong>Label Selector</strong></span> in the <span class="strong strong"><strong>Topology</strong></span> view to visualize a service binding and simplify the process of binding applications to backing services. When creating <code class="literal">ServiceBinding</code> resources, specify labels by using <span class="strong strong"><strong>Label Selector</strong></span> to find and connect applications instead of using the name of the application. The Service Binding Operator then consumes these <code class="literal">ServiceBinding</code> resources and specified labels to find the applications to create a service binding with.
				</p><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
					To navigate to a list of all connected resources, click the label selector associated with the <code class="literal">ServiceBinding</code> resource.
				</p></div></div><p>
					To view the <span class="strong strong"><strong>Label Selector</strong></span>, consider the following approaches:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							After you import a <code class="literal">ServiceBinding</code> resource, view the <span class="strong strong"><strong>Label Selector</strong></span> associated with the service binding on the <span class="strong strong"><strong>ServiceBinding details</strong></span> page.
						</p><div class="figure" id="idm140419013183360"><p class="title"><strong>Figure 6.7. ServiceBinding details page</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/85823e5df11692c14c1347b855949d3d/odc-label-selector-sb-details.png" alt="odc label selector sb details"/></div></div></div></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						To use <span class="strong strong"><strong>Label Selector</strong></span> and to create one or more connections at once, you must import the YAML file of the <code class="literal">ServiceBinding</code> resource.
					</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							After the connection is established and when you click the binding connector, the service binding connector <span class="strong strong"><strong>Details</strong></span> side panel appears. You can view the <span class="strong strong"><strong>Label Selector</strong></span> associated with the service binding on this panel.
						</p><div class="figure" id="idm140419013174128"><p class="title"><strong>Figure 6.8. Topology label selector side panel</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/79e62a21bc625e20e4763ff0a517a16f/odc-label-selector-topology-side-panel.png" alt="odc label selector topology side panel"/></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								When you delete a binding connector (a single connection within <span class="strong strong"><strong>Topology</strong></span> along with a service binding), the action removes all connections that are tied to the deleted service binding. While deleting a binding connector, a confirmation dialog appears, which informs that all connectors will be deleted.
							</p><div class="figure" id="idm140419015011200"><p class="title"><strong>Figure 6.9. Delete ServiceBinding confirmation dialog</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/1a106e38dd5c57d51d619765c400f48a/odc-delete-service-binding.png" alt="odc delete service binding"/></div></div></div></div></div></li></ul></div></section><section class="section _additional-resources" id="additional-resources-odc-connecting-an-application-to-a-service-using-the-developer-perspective"><div class="titlepage"><div><div><h3 class="title">6.9.6. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#getting-started-with-service-binding">Getting started with service binding</a>.
						</li><li class="listitem">
							<a class="link" href="https://github.com/redhat-developer/service-binding-operator#known-bindable-operators">Known bindable Operators</a>.
						</li></ul></div></section></section></section><section class="chapter" id="working-with-helm-charts"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Working with Helm charts</h1></div></div></div><section class="section" id="understanding-helm"><div class="titlepage"><div><div><h2 class="title">7.1. Understanding Helm</h2></div></div></div><p class="_abstract _abstract">
				Helm is a software package manager that simplifies deployment of applications and services to OpenShift Container Platform clusters.
			</p><p>
				Helm uses a packaging format called <span class="emphasis"><em>charts</em></span>. A Helm chart is a collection of files that describes the OpenShift Container Platform resources.
			</p><p>
				Creating a chart in a cluster creates a running instance of the chart known as a <span class="emphasis"><em>release</em></span>.
			</p><p>
				Each time a chart is created, or a release is upgraded or rolled back, an incremental revision is created.
			</p><section class="section" id="key-features"><div class="titlepage"><div><div><h3 class="title">7.1.1. Key features</h3></div></div></div><p>
					Helm provides the ability to:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Search through a large collection of charts stored in the chart repository.
						</li><li class="listitem">
							Modify existing charts.
						</li><li class="listitem">
							Create your own charts with OpenShift Container Platform or Kubernetes resources.
						</li><li class="listitem">
							Package and share your applications as charts.
						</li></ul></div></section><section class="section" id="red-hat-certification-of-helm-charts-for-openshift"><div class="titlepage"><div><div><h3 class="title">7.1.2. Red Hat Certification of Helm charts for OpenShift</h3></div></div></div><p>
					You can choose to verify and certify your Helm charts by Red Hat for all the components you will be deploying on the Red Hat OpenShift Container Platform. Charts go through an automated Red Hat OpenShift certification workflow that guarantees security compliance as well as best integration and experience with the platform. Certification assures the integrity of the chart and ensures that the Helm chart works seamlessly on Red Hat OpenShift clusters.
				</p></section><section class="section _additional-resources" id="additional-resources-3"><div class="titlepage"><div><div><h3 class="title">7.1.3. Additional resources</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							For more information on how to certify your Helm charts as a Red Hat partner, see <a class="link" href="https://redhat-connect.gitbook.io/partner-guide-for-red-hat-openshift-and-container/helm-chart-certification/overview">Red Hat Certification of Helm charts for OpenShift</a>.
						</li><li class="listitem">
							For more information on OpenShift and Container certification guides for Red Hat partners, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_software_certification/8.51/html-single/red_hat_software_certification_workflow_guide/index#con_container-certification_openshift-sw-cert-workflow-introduction-to-redhat-openshift-operator-certification">Partner Guide for OpenShift and Container Certification</a>.
						</li><li class="listitem">
							For a list of the charts, see <a class="link" href="https://charts.openshift.io/index.yaml">the Red Hat <code class="literal">Helm index</code> file</a>.
						</li><li class="listitem">
							You can view the available charts at the <a class="link" href="https://marketplace.redhat.com/en-us/documentation/access-red-hat-marketplace">Red Hat Marketplace</a>. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#red-hat-marketplace">Using the Red Hat Marketplace</a>.
						</li></ul></div></section></section><section class="section" id="installing-helm"><div class="titlepage"><div><div><h2 class="title">7.2. Installing Helm</h2></div></div></div><p>
				The following section describes how to install Helm on different platforms using the CLI.
			</p><p>
				You can also find the URL to the latest binaries from the OpenShift Container Platform web console by clicking the <span class="strong strong"><strong>?</strong></span> icon in the upper-right corner and selecting <span class="strong strong"><strong>Command Line Tools</strong></span>.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have installed Go, version 1.13 or higher.
					</li></ul></div><section class="section" id="on-linux"><div class="titlepage"><div><div><h3 class="title">7.2.1. On Linux</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Download the Helm binary and add it to your path:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									Linux (x86_64, amd64)
								</p><pre class="programlisting language-terminal"># curl -L https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest/helm-linux-amd64 -o /usr/local/bin/helm</pre></li><li class="listitem"><p class="simpara">
									Linux on IBM Z and IBM® LinuxONE (s390x)
								</p><pre class="programlisting language-terminal"># curl -L https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest/helm-linux-s390x -o /usr/local/bin/helm</pre></li><li class="listitem"><p class="simpara">
									Linux on IBM Power (ppc64le)
								</p><pre class="programlisting language-terminal"># curl -L https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest/helm-linux-ppc64le -o /usr/local/bin/helm</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							Make the binary file executable:
						</p><pre class="programlisting language-terminal"># chmod +x /usr/local/bin/helm</pre></li><li class="listitem"><p class="simpara">
							Check the installed version:
						</p><pre class="programlisting language-terminal">$ helm version</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">version.BuildInfo{Version:"v3.0", GitCommit:"b31719aab7963acf4887a1c1e6d5e53378e34d93", GitTreeState:"clean", GoVersion:"go1.13.4"}</pre>

							</p></div></li></ol></div></section><section class="section" id="on-windows-7-8"><div class="titlepage"><div><div><h3 class="title">7.2.2. On Windows 7/8</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Download the latest <a class="link" href="https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest/helm-windows-amd64.exe"><code class="literal">.exe</code> file</a> and put in a directory of your preference.
						</li><li class="listitem">
							Right click <span class="strong strong"><strong>Start</strong></span> and click <span class="strong strong"><strong>Control Panel</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>System and Security</strong></span> and then click <span class="strong strong"><strong>System</strong></span>.
						</li><li class="listitem">
							From the menu on the left, select <span class="strong strong"><strong>Advanced systems settings</strong></span> and click <span class="strong strong"><strong>Environment Variables</strong></span> at the bottom.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Path</strong></span> from the <span class="strong strong"><strong>Variable</strong></span> section and click <span class="strong strong"><strong>Edit</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>New</strong></span> and type the path to the folder with the <code class="literal">.exe</code> file into the field or click <span class="strong strong"><strong>Browse</strong></span> and select the directory, and click <span class="strong strong"><strong>OK</strong></span>.
						</li></ol></div></section><section class="section" id="on-windows-10"><div class="titlepage"><div><div><h3 class="title">7.2.3. On Windows 10</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Download the latest <a class="link" href="https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest/helm-windows-amd64.exe"><code class="literal">.exe</code> file</a> and put in a directory of your preference.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Search</strong></span> and type <code class="literal">env</code> or <code class="literal">environment</code>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Edit environment variables for your account</strong></span>.
						</li><li class="listitem">
							Select <span class="strong strong"><strong>Path</strong></span> from the <span class="strong strong"><strong>Variable</strong></span> section and click <span class="strong strong"><strong>Edit</strong></span>.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>New</strong></span> and type the path to the directory with the exe file into the field or click <span class="strong strong"><strong>Browse</strong></span> and select the directory, and click <span class="strong strong"><strong>OK</strong></span>.
						</li></ol></div></section><section class="section" id="on-macos"><div class="titlepage"><div><div><h3 class="title">7.2.4. On MacOS</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Download the Helm binary and add it to your path:
						</p><pre class="programlisting language-terminal"># curl -L https://mirror.openshift.com/pub/openshift-v4/clients/helm/latest/helm-darwin-amd64 -o /usr/local/bin/helm</pre></li><li class="listitem"><p class="simpara">
							Make the binary file executable:
						</p><pre class="programlisting language-terminal"># chmod +x /usr/local/bin/helm</pre></li><li class="listitem"><p class="simpara">
							Check the installed version:
						</p><pre class="programlisting language-terminal">$ helm version</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">version.BuildInfo{Version:"v3.0", GitCommit:"b31719aab7963acf4887a1c1e6d5e53378e34d93", GitTreeState:"clean", GoVersion:"go1.13.4"}</pre>

							</p></div></li></ol></div></section></section><section class="section" id="configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h2 class="title">7.3. Configuring custom Helm chart repositories</h2></div></div></div><p class="_abstract _abstract">
				You can create Helm releases on an OpenShift Container Platform cluster using the following methods:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The CLI.
					</li><li class="listitem">
						The <span class="strong strong"><strong>Developer</strong></span> perspective of the web console.
					</li></ul></div><p>
				The <span class="strong strong"><strong>Developer Catalog</strong></span>, in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console, displays the Helm charts available in the cluster. By default, it lists the Helm charts from the Red Hat OpenShift Helm chart repository. For a list of the charts, see <a class="link" href="https://charts.openshift.io/index.yaml">the Red Hat <code class="literal">Helm index</code> file</a>.
			</p><p>
				As a cluster administrator, you can add multiple cluster-scoped and namespace-scoped Helm chart repositories, separate from the default cluster-scoped Helm repository, and display the Helm charts from these repositories in the <span class="strong strong"><strong>Developer Catalog</strong></span>.
			</p><p>
				As a regular user or project member with the appropriate role-based access control (RBAC) permissions, you can add multiple namespace-scoped Helm chart repositories, apart from the default cluster-scoped Helm repository, and display the Helm charts from these repositories in the <span class="strong strong"><strong>Developer Catalog</strong></span>.
			</p><p>
				In the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console, you can use the <span class="strong strong"><strong>Helm</strong></span> page to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Create Helm Releases and Repositories using the <span class="strong strong"><strong>Create</strong></span> button.
					</li><li class="listitem">
						Create, update, or delete a cluster-scoped or namespace-scoped Helm chart repository.
					</li><li class="listitem">
						View the list of the existing Helm chart repositories in the Repositories tab, which can also be easily distinguished as either cluster scoped or namespace scoped.
					</li></ul></div><section class="section" id="installing-a-helm-chart-on-an-openshift-cluster_configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h3 class="title">7.3.1. Installing a Helm chart on an OpenShift Container Platform cluster</h3></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have a running OpenShift Container Platform cluster and you have logged into it.
						</li><li class="listitem">
							You have installed Helm.
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a new project:
						</p><pre class="programlisting language-terminal">$ oc new-project vault</pre></li><li class="listitem"><p class="simpara">
							Add a repository of Helm charts to your local Helm client:
						</p><pre class="programlisting language-terminal">$ helm repo add openshift-helm-charts https://charts.openshift.io/</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">"openshift-helm-charts" has been added to your repositories</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Update the repository:
						</p><pre class="programlisting language-terminal">$ helm repo update</pre></li><li class="listitem"><p class="simpara">
							Install an example HashiCorp Vault:
						</p><pre class="programlisting language-terminal">$ helm install example-vault openshift-helm-charts/hashicorp-vault</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME: example-vault
LAST DEPLOYED: Fri Mar 11 12:02:12 2022
NAMESPACE: vault
STATUS: deployed
REVISION: 1
NOTES:
Thank you for installing HashiCorp Vault!</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Verify that the chart has installed successfully:
						</p><pre class="programlisting language-terminal">$ helm list</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME         	NAMESPACE	REVISION	UPDATED                                	STATUS  	CHART       	APP VERSION
example-vault	vault    	1       	2022-03-11 12:02:12.296226673 +0530 IST	deployed	vault-0.19.0	1.9.2</pre>

							</p></div></li></ol></div></section><section class="section" id="odc-creating-helm-releases-using-developer-perspective_configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h3 class="title">7.3.2. Creating Helm releases using the Developer perspective</h3></div></div></div><p>
					You can use either the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console or the CLI to select and create a release from the Helm charts listed in the <span class="strong strong"><strong>Developer Catalog</strong></span>. You can create Helm releases by installing Helm charts and see them in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							You have logged in to the web console and have switched to <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#about-developer-perspective_web-console-overview">the <span class="strong strong"><strong>Developer</strong></span> perspective</a>.
						</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To create Helm releases from the Helm charts provided in the <span class="strong strong"><strong>Developer Catalog</strong></span>:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Developer</strong></span> perspective, navigate to the <span class="strong strong"><strong>+Add</strong></span> view and select a project. Then click <span class="strong strong"><strong>Helm Chart</strong></span> option to see all the Helm Charts in the <span class="strong strong"><strong>Developer Catalog</strong></span>.
						</li><li class="listitem">
							Select a chart and read the description, README, and other details about the chart.
						</li><li class="listitem"><p class="simpara">
							Click <span class="strong strong"><strong>Create</strong></span>.
						</p><div class="figure" id="idm140419011778368"><p class="title"><strong>Figure 7.1. Helm charts in developer catalog</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/ac24c4ee174a585764a2ce66b666dca3/odc_helm_chart_devcatalog_new.png" alt="odc helm chart devcatalog new"/></div></div></div></li><li class="listitem"><p class="simpara">
							In the <span class="strong strong"><strong>Create Helm Release</strong></span> page:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
									Enter a unique name for the release in the <span class="strong strong"><strong>Release Name</strong></span> field.
								</li><li class="listitem">
									Select the required chart version from the <span class="strong strong"><strong>Chart Version</strong></span> drop-down list.
								</li><li class="listitem"><p class="simpara">
									Configure your Helm chart by using the <span class="strong strong"><strong>Form View</strong></span> or the <span class="strong strong"><strong>YAML View</strong></span>.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Where available, you can switch between the <span class="strong strong"><strong>YAML View</strong></span> and <span class="strong strong"><strong>Form View</strong></span>. The data is persisted when switching between the views.
									</p></div></div></li><li class="listitem"><p class="simpara">
									Click <span class="strong strong"><strong>Create</strong></span> to create a Helm release. The web console displays the new release in the <span class="strong strong"><strong>Topology</strong></span> view.
								</p><p class="simpara">
									If a Helm chart has release notes, the web console displays them.
								</p><p class="simpara">
									If a Helm chart creates workloads, the web console displays them on the <span class="strong strong"><strong>Topology</strong></span> or <span class="strong strong"><strong>Helm release details</strong></span> page. The workloads are <code class="literal">DaemonSet</code>, <code class="literal">CronJob</code>, <code class="literal">Pod</code>, <code class="literal">Deployment</code>, and <code class="literal">DeploymentConfig</code>.
								</p></li><li class="listitem">
									View the newly created Helm release in the <span class="strong strong"><strong>Helm Releases</strong></span> page.
								</li></ol></div></li></ol></div><p>
					You can upgrade, rollback, or delete a Helm release by using the <span class="strong strong"><strong>Actions</strong></span> button on the side panel or by right-clicking a Helm release.
				</p></section><section class="section" id="using-helm-in-the-web-terminal"><div class="titlepage"><div><div><h3 class="title">7.3.3. Using Helm in the web terminal</h3></div></div></div><p>
					You can use Helm by <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#odc-access-web-terminal_odc-using-web-terminal">Accessing the web terminal</a> in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console.
				</p></section><section class="section" id="creating-a-custom-helm-chart-on-openshift_configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h3 class="title">7.3.4. Creating a custom Helm chart on OpenShift Container Platform</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create a new project:
						</p><pre class="programlisting language-terminal">$ oc new-project nodejs-ex-k</pre></li><li class="listitem"><p class="simpara">
							Download an example Node.js chart that contains OpenShift Container Platform objects:
						</p><pre class="programlisting language-terminal">$ git clone https://github.com/redhat-developer/redhat-helm-charts</pre></li><li class="listitem"><p class="simpara">
							Go to the directory with the sample chart:
						</p><pre class="programlisting language-terminal">$ cd redhat-helm-charts/alpha/nodejs-ex-k/</pre></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal">Chart.yaml</code> file and add a description of your chart:
						</p><pre class="programlisting language-yaml">apiVersion: v2 <span id="CO15-1"><!--Empty--></span><span class="callout">1</span>
name: nodejs-ex-k <span id="CO15-2"><!--Empty--></span><span class="callout">2</span>
description: A Helm chart for OpenShift <span id="CO15-3"><!--Empty--></span><span class="callout">3</span>
icon: https://static.redhat.com/libs/redhat/brand-assets/latest/corp/logo.svg <span id="CO15-4"><!--Empty--></span><span class="callout">4</span>
version: 0.2.1 <span id="CO15-5"><!--Empty--></span><span class="callout">5</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO15-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									The chart API version. It should be <code class="literal">v2</code> for Helm charts that require at least Helm 3.
								</div></dd><dt><a href="#CO15-2"><span class="callout">2</span></a> </dt><dd><div class="para">
									The name of your chart.
								</div></dd><dt><a href="#CO15-3"><span class="callout">3</span></a> </dt><dd><div class="para">
									The description of your chart.
								</div></dd><dt><a href="#CO15-4"><span class="callout">4</span></a> </dt><dd><div class="para">
									The URL to an image to be used as an icon.
								</div></dd><dt><a href="#CO15-5"><span class="callout">5</span></a> </dt><dd><div class="para">
									The Version of your chart as per the Semantic Versioning (SemVer) 2.0.0 Specification.
								</div></dd></dl></div></li><li class="listitem"><p class="simpara">
							Verify that the chart is formatted properly:
						</p><pre class="programlisting language-terminal">$ helm lint</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, 0 chart(s) failed</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Navigate to the previous directory level:
						</p><pre class="programlisting language-terminal">$ cd ..</pre></li><li class="listitem"><p class="simpara">
							Install the chart:
						</p><pre class="programlisting language-terminal">$ helm install nodejs-chart nodejs-ex-k</pre></li><li class="listitem"><p class="simpara">
							Verify that the chart has installed successfully:
						</p><pre class="programlisting language-terminal">$ helm list</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME NAMESPACE REVISION UPDATED STATUS CHART APP VERSION
nodejs-chart nodejs-ex-k 1 2019-12-05 15:06:51.379134163 -0500 EST deployed nodejs-0.1.0  1.16.0</pre>

							</p></div></li></ol></div></section><section class="section" id="adding-helm-chart-repositories_configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h3 class="title">7.3.5. Adding custom Helm chart repositories</h3></div></div></div><p>
					As a cluster administrator, you can add custom Helm chart repositories to your cluster and enable access to the Helm charts from these repositories in the <span class="strong strong"><strong>Developer Catalog</strong></span>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To add a new Helm Chart Repository, you must add the Helm Chart Repository custom resource (CR) to your cluster.
						</p><div class="formalpara"><p class="title"><strong>Sample Helm Chart Repository CR</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: helm.openshift.io/v1beta1
kind: HelmChartRepository
metadata:
  name: &lt;name&gt;
spec:
 # optional name that might be used by console
 # name: &lt;chart-display-name&gt;
  connectionConfig:
    url: &lt;helm-chart-repository-url&gt;</pre>

							</p></div><p class="simpara">
							For example, to add an Azure sample chart repository, run:
						</p><pre class="programlisting language-terminal">$ cat &lt;&lt;EOF | oc apply -f -
apiVersion: helm.openshift.io/v1beta1
kind: HelmChartRepository
metadata:
  name: azure-sample-repo
spec:
  name: azure-sample-repo
  connectionConfig:
    url: https://raw.githubusercontent.com/Azure-Samples/helm-charts/master/docs
EOF</pre></li><li class="listitem"><p class="simpara">
							Navigate to the <span class="strong strong"><strong>Developer Catalog</strong></span> in the web console to verify that the Helm charts from the chart repository are displayed.
						</p><p class="simpara">
							For example, use the <span class="strong strong"><strong>Chart repositories</strong></span> filter to search for a Helm chart from the repository.
						</p><div class="figure" id="idm140419023886944"><p class="title"><strong>Figure 7.2. Chart repositories filter</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/85e60aeb2668e95f79e3260bd6f6970e/odc_helm_chart_repo_filter.png" alt="odc helm chart repo filter"/></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If a cluster administrator removes all of the chart repositories, then you cannot view the Helm option in the <span class="strong strong"><strong>+Add</strong></span> view, <span class="strong strong"><strong>Developer Catalog</strong></span>, and left navigation panel.
							</p></div></div></li></ol></div></section><section class="section" id="adding-namespace-scoped-helm-chart-repositories.adoc_configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h3 class="title">7.3.6. Adding namespace-scoped custom Helm chart repositories</h3></div></div></div><p class="_abstract _abstract">
					The cluster-scoped <code class="literal">HelmChartRepository</code> custom resource definition (CRD) for Helm repository provides the ability for administrators to add Helm repositories as custom resources. The namespace-scoped <code class="literal">ProjectHelmChartRepository</code> CRD allows project members with the appropriate role-based access control (RBAC) permissions to create Helm repository resources of their choice but scoped to their namespace. Such project members can see charts from both cluster-scoped and namespace-scoped Helm repository resources.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Administrators can limit users from creating namespace-scoped Helm repository resources. By limiting users, administrators have the flexibility to control the RBAC through a namespace role instead of a cluster role. This avoids unnecessary permission elevation for the user and prevents access to unauthorized services or applications.
							</li><li class="listitem">
								The addition of the namespace-scoped Helm repository does not impact the behavior of the existing cluster-scoped Helm repository.
							</li></ul></div></div></div><p>
					As a regular user or project member with the appropriate RBAC permissions, you can add custom namespace-scoped Helm chart repositories to your cluster and enable access to the Helm charts from these repositories in the <span class="strong strong"><strong>Developer Catalog</strong></span>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To add a new namespace-scoped Helm Chart Repository, you must add the Helm Chart Repository custom resource (CR) to your namespace.
						</p><div class="formalpara"><p class="title"><strong>Sample Namespace-scoped Helm Chart Repository CR</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: helm.openshift.io/v1beta1
kind: ProjectHelmChartRepository
metadata:
  name: &lt;name&gt;
spec:
  url: https://my.chart-repo.org/stable

  # optional name that might be used by console
  name: &lt;chart-repo-display-name&gt;

  # optional and only needed for UI purposes
  description: &lt;My private chart repo&gt;

  # required: chart repository URL
  connectionConfig:
    url: &lt;helm-chart-repository-url&gt;</pre>

							</p></div><p class="simpara">
							For example, to add an Azure sample chart repository scoped to your <code class="literal">my-namespace</code> namespace, run:
						</p><pre class="programlisting language-terminal">$ cat &lt;&lt;EOF | oc apply --namespace my-namespace -f -
apiVersion: helm.openshift.io/v1beta1
kind: ProjectHelmChartRepository
metadata:
  name: azure-sample-repo
spec:
  name: azure-sample-repo
  connectionConfig:
    url: https://raw.githubusercontent.com/Azure-Samples/helm-charts/master/docs
EOF</pre><p class="simpara">
							The output verifies that the namespace-scoped Helm Chart Repository CR is created:
						</p><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="screen">projecthelmchartrepository.helm.openshift.io/azure-sample-repo created</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Navigate to the <span class="strong strong"><strong>Developer Catalog</strong></span> in the web console to verify that the Helm charts from the chart repository are displayed in your <code class="literal">my-namespace</code> namespace.
						</p><p class="simpara">
							For example, use the <span class="strong strong"><strong>Chart repositories</strong></span> filter to search for a Helm chart from the repository.
						</p><div class="figure" id="idm140419033715008"><p class="title"><strong>Figure 7.3. Chart repositories filter in your namespace</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/a76246bd2d68c72c95ca9cb344f8d4a8/odc_namespace_helm_chart_repo_filter.png" alt="odc namespace helm chart repo filter"/></div></div></div><p class="simpara">
							Alternatively, run:
						</p><pre class="programlisting language-terminal">$ oc get projecthelmchartrepositories --namespace my-namespace</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="screen">NAME                     AGE
azure-sample-repo        1m</pre>

							</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If a cluster administrator or a regular user with appropriate RBAC permissions removes all of the chart repositories in a specific namespace, then you cannot view the Helm option in the <span class="strong strong"><strong>+Add</strong></span> view, <span class="strong strong"><strong>Developer Catalog</strong></span>, and left navigation panel for that specific namespace.
							</p></div></div></li></ol></div></section><section class="section" id="creating-credentials-and-certificates-to-add-helm-repositories_configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h3 class="title">7.3.7. Creating credentials and CA certificates to add Helm chart repositories</h3></div></div></div><p>
					Some Helm chart repositories need credentials and custom certificate authority (CA) certificates to connect to it. You can use the web console as well as the CLI to add credentials and certificates.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To configure the credentials and certificates, and then add a Helm chart repository using the CLI:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In the <code class="literal">openshift-config</code> namespace, create a <code class="literal">ConfigMap</code> object with a custom CA certificate in PEM encoded format, and store it under the <code class="literal">ca-bundle.crt</code> key within the config map:
						</p><pre class="programlisting language-terminal">$ oc create configmap helm-ca-cert \
--from-file=ca-bundle.crt=/path/to/certs/ca.crt \
-n openshift-config</pre></li><li class="listitem"><p class="simpara">
							In the <code class="literal">openshift-config</code> namespace, create a <code class="literal">Secret</code> object to add the client TLS configurations:
						</p><pre class="programlisting language-terminal">$ oc create secret tls helm-tls-configs \
--cert=/path/to/certs/client.crt \
--key=/path/to/certs/client.key \
-n openshift-config</pre><p class="simpara">
							Note that the client certificate and key must be in PEM encoded format and stored under the keys <code class="literal">tls.crt</code> and <code class="literal">tls.key</code>, respectively.
						</p></li><li class="listitem"><p class="simpara">
							Add the Helm repository as follows:
						</p><pre class="programlisting language-terminal">$ cat &lt;&lt;EOF | oc apply -f -
apiVersion: helm.openshift.io/v1beta1
kind: HelmChartRepository
metadata:
  name: &lt;helm-repository&gt;
spec:
  name: &lt;helm-repository&gt;
  connectionConfig:
    url: &lt;URL for the Helm repository&gt;
    tlsConfig:
        name: helm-tls-configs
    ca:
	name: helm-ca-cert
EOF</pre><p class="simpara">
							The <code class="literal">ConfigMap</code> and <code class="literal">Secret</code> are consumed in the HelmChartRepository CR using the <code class="literal">tlsConfig</code> and <code class="literal">ca</code> fields. These certificates are used to connect to the Helm repository URL.
						</p></li><li class="listitem"><p class="simpara">
							By default, all authenticated users have access to all configured charts. However, for chart repositories where certificates are needed, you must provide users with read access to the <code class="literal">helm-ca-cert</code> config map and <code class="literal">helm-tls-configs</code> secret in the <code class="literal">openshift-config</code> namespace, as follows:
						</p><pre class="programlisting language-terminal">$ cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  namespace: openshift-config
  name: helm-chartrepos-tls-conf-viewer
rules:
- apiGroups: [""]
  resources: ["configmaps"]
  resourceNames: ["helm-ca-cert"]
  verbs: ["get"]
- apiGroups: [""]
  resources: ["secrets"]
  resourceNames: ["helm-tls-configs"]
  verbs: ["get"]
---
kind: RoleBinding
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  namespace: openshift-config
  name: helm-chartrepos-tls-conf-viewer
subjects:
  - kind: Group
    apiGroup: rbac.authorization.k8s.io
    name: 'system:authenticated'
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: Role
  name: helm-chartrepos-tls-conf-viewer
EOF</pre></li></ol></div></section><section class="section" id="filtering-helm-charts-by-certification-level_configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h3 class="title">7.3.8. Filtering Helm Charts by their certification level</h3></div></div></div><p>
					You can filter Helm charts based on their certification level in the <span class="strong strong"><strong>Developer Catalog</strong></span>.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Developer</strong></span> perspective, navigate to the <span class="strong strong"><strong>+Add</strong></span> view and select a project.
						</li><li class="listitem">
							From the <span class="strong strong"><strong>Developer Catalog</strong></span> tile, select the <span class="strong strong"><strong>Helm Chart</strong></span> option to see all the Helm charts in the <span class="strong strong"><strong>Developer Catalog</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Use the filters to the left of the list of Helm charts to filter the required charts:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Use the <span class="strong strong"><strong>Chart Repositories</strong></span> filter to filter charts provided by <span class="strong strong"><strong>Red Hat Certification Charts</strong></span> or <span class="strong strong"><strong>OpenShift Helm Charts</strong></span>.
								</li><li class="listitem">
									Use the <span class="strong strong"><strong>Source</strong></span> filter to filter charts sourced from <span class="strong strong"><strong>Partners</strong></span>, <span class="strong strong"><strong>Community</strong></span>, or <span class="strong strong"><strong>Red Hat</strong></span>. Certified charts are indicated with the ( 
									<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/9afd18c9073490e030f82ab30069fa6b/odc_verified_icon.png" alt="odc verified icon"/></span>
									 ) icon.
								</li></ul></div></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <span class="strong strong"><strong>Source</strong></span> filter will not be visible when there is only one provider type.
					</p></div></div><p>
					You can now select the required chart and install it.
				</p></section><section class="section" id="helm-disabling-helm-chart-repositories_configuring-custom-helm-chart-repositories"><div class="titlepage"><div><div><h3 class="title">7.3.9. Disabling Helm Chart repositories</h3></div></div></div><p>
					You can disable Helm Charts from a particular Helm Chart Repository in the catalog by setting the <code class="literal">disabled</code> property in the <code class="literal">HelmChartRepository</code> custom resource to <code class="literal">true</code>.
				</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To disable a Helm Chart repository by using CLI, add the <code class="literal">disabled: true</code> flag to the custom resource. For example, to remove an Azure sample chart repository, run:
						</p><pre class="screen">$ cat &lt;&lt;EOF | oc apply -f -
apiVersion: helm.openshift.io/v1beta1
kind: HelmChartRepository
metadata:
  name: azure-sample-repo
spec:
  connectionConfig:
   url:https://raw.githubusercontent.com/Azure-Samples/helm-charts/master/docs
  disabled: true
EOF</pre></li><li class="listitem"><p class="simpara">
							To disable a recently added Helm Chart repository by using Web Console:
						</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Go to <span class="strong strong"><strong>Custom Resource Definitions</strong></span> and search for the <code class="literal">HelmChartRepository</code> custom resource.
								</li><li class="listitem">
									Go to <span class="strong strong"><strong>Instances</strong></span>, find the repository you want to disable, and click its name.
								</li><li class="listitem"><p class="simpara">
									Go to the <span class="strong strong"><strong>YAML</strong></span> tab, add the <code class="literal">disabled: true</code> flag in the <code class="literal">spec</code> section, and click <code class="literal">Save</code>.
								</p><div class="formalpara"><p class="title"><strong>Example</strong></p><p>
										
<pre class="screen">spec:
  connectionConfig:
    url: &lt;url-of-the-repositoru-to-be-disabled&gt;
  disabled: true</pre>

									</p></div><p class="simpara">
									The repository is now disabled and will not appear in the catalog.
								</p></li></ol></div></li></ul></div></section></section><section class="section" id="odc-working-with-helm-releases"><div class="titlepage"><div><div><h2 class="title">7.4. Working with Helm releases</h2></div></div></div><p>
				You can use the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console to update, rollback, or delete a Helm release.
			</p><section class="section" id="prerequisites-5"><div class="titlepage"><div><div><h3 class="title">7.4.1. Prerequisites</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							You have logged in to the web console and have switched to <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#about-developer-perspective_web-console-overview">the <span class="strong strong"><strong>Developer</strong></span> perspective</a>.
						</li></ul></div></section><section class="section" id="odc-upgrading-helm-release_working-with-helm-releases"><div class="titlepage"><div><div><h3 class="title">7.4.2. Upgrading a Helm release</h3></div></div></div><p>
					You can upgrade a Helm release to upgrade to a new chart version or update your release configuration.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Topology</strong></span> view, select the Helm release to see the side panel.
						</li><li class="listitem">
							Click <span class="strong strong"><strong>Actions</strong></span> → <span class="strong strong"><strong>Upgrade Helm Release</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Upgrade Helm Release</strong></span> page, select the <span class="strong strong"><strong>Chart Version</strong></span> you want to upgrade to, and then click <span class="strong strong"><strong>Upgrade</strong></span> to create another Helm release. The <span class="strong strong"><strong>Helm Releases</strong></span> page displays the two revisions.
						</li></ol></div></section><section class="section" id="odc-rolling-back-helm-release_working-with-helm-releases"><div class="titlepage"><div><div><h3 class="title">7.4.3. Rolling back a Helm release</h3></div></div></div><p>
					If a release fails, you can rollback the Helm release to a previous version.
				</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						To rollback a release using the <span class="strong strong"><strong>Helm</strong></span> view:
					</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Developer</strong></span> perspective, navigate to the <span class="strong strong"><strong>Helm</strong></span> view to see the <span class="strong strong"><strong>Helm Releases</strong></span> in the namespace.
						</li><li class="listitem">
							Click the <span class="strong strong"><strong>Options</strong></span> menu 
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
							 adjoining the listed release, and select <span class="strong strong"><strong>Rollback</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Rollback Helm Release</strong></span> page, select the <span class="strong strong"><strong>Revision</strong></span> you want to rollback to and click <span class="strong strong"><strong>Rollback</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Helm Releases</strong></span> page, click on the chart to see the details and resources for that release.
						</li><li class="listitem"><p class="simpara">
							Go to the <span class="strong strong"><strong>Revision History</strong></span> tab to see all the revisions for the chart.
						</p><div class="figure" id="idm140419010565104"><p class="title"><strong>Figure 7.4. Helm revision history</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/a72c603a898c4323a0cf403562bb4cab/odc_helm_revision_history.png" alt="odc helm revision history"/></div></div></div></li><li class="listitem">
							If required, you can further use the <span class="strong strong"><strong>Options</strong></span> menu 
							<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
							 adjoining a particular revision and select the revision to rollback to.
						</li></ol></div></section><section class="section" id="odc-deleting-helm-release_working-with-helm-releases"><div class="titlepage"><div><div><h3 class="title">7.4.4. Deleting a Helm release</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							In the <span class="strong strong"><strong>Topology</strong></span> view, right-click the Helm release and select <span class="strong strong"><strong>Delete Helm Release</strong></span>.
						</li><li class="listitem">
							In the confirmation prompt, enter the name of the chart and click <span class="strong strong"><strong>Delete</strong></span>.
						</li></ol></div></section></section></section><section class="chapter" id="deployments"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Deployments</h1></div></div></div><section class="section" id="what-deployments-are"><div class="titlepage"><div><div><h2 class="title">8.1. Understanding Deployment and DeploymentConfig objects</h2></div></div></div><p>
				The <code class="literal">Deployment</code> and <code class="literal">DeploymentConfig</code> API objects in OpenShift Container Platform provide two similar but different methods for fine-grained management over common user applications. They are composed of the following separate API objects:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A <code class="literal">Deployment</code> or <code class="literal">DeploymentConfig</code> object, either of which describes the desired state of a particular component of the application as a pod template.
					</li><li class="listitem">
						<code class="literal">Deployment</code> objects involve one or more <span class="emphasis"><em>replica sets</em></span>, which contain a point-in-time record of the state of a deployment as a pod template. Similarly, <code class="literal">DeploymentConfig</code> objects involve one or more <span class="emphasis"><em>replication controllers</em></span>, which preceded replica sets.
					</li><li class="listitem">
						One or more pods, which represent an instance of a particular version of an application.
					</li></ul></div><p>
				Use <code class="literal">Deployment</code> objects unless you need a specific feature or behavior provided by <code class="literal">DeploymentConfig</code> objects.
			</p><section class="section" id="what-deployments-are-build-blocks"><div class="titlepage"><div><div><h3 class="title">8.1.1. Building blocks of a deployment</h3></div></div></div><p>
					Deployments and deployment configs are enabled by the use of native Kubernetes API objects <code class="literal">ReplicaSet</code> and <code class="literal">ReplicationController</code>, respectively, as their building blocks.
				</p><p>
					Users do not have to manipulate replica sets, replication controllers, or pods owned by <code class="literal">Deployment</code> or <code class="literal">DeploymentConfig</code> objects. The deployment systems ensure changes are propagated appropriately.
				</p><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
					If the existing deployment strategies are not suited for your use case and you must run manual steps during the lifecycle of your deployment, then you should consider creating a custom deployment strategy.
				</p></div></div><p>
					The following sections provide further details on these objects.
				</p><section class="section" id="deployments-repliasets_what-deployments-are"><div class="titlepage"><div><div><h4 class="title">8.1.1.1. Replica sets</h4></div></div></div><p>
						A <code class="literal">ReplicaSet</code> is a native Kubernetes API object that ensures a specified number of pod replicas are running at any given time.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Only use replica sets if you require custom update orchestration or do not require updates at all. Otherwise, use deployments. Replica sets can be used independently, but are used by deployments to orchestrate pod creation, deletion, and updates. Deployments manage their replica sets automatically, provide declarative updates to pods, and do not have to manually manage the replica sets that they create.
						</p></div></div><p>
						The following is an example <code class="literal">ReplicaSet</code> definition:
					</p><pre class="programlisting language-yaml">apiVersion: apps/v1
kind: ReplicaSet
metadata:
  name: frontend-1
  labels:
    tier: frontend
spec:
  replicas: 3
  selector: <span id="CO16-1"><!--Empty--></span><span class="callout">1</span>
    matchLabels: <span id="CO16-2"><!--Empty--></span><span class="callout">2</span>
      tier: frontend
    matchExpressions: <span id="CO16-3"><!--Empty--></span><span class="callout">3</span>
      - {key: tier, operator: In, values: [frontend]}
  template:
    metadata:
      labels:
        tier: frontend
    spec:
      containers:
      - image: openshift/hello-openshift
        name: helloworld
        ports:
        - containerPort: 8080
          protocol: TCP
      restartPolicy: Always</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO16-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								A label query over a set of resources. The result of <code class="literal">matchLabels</code> and <code class="literal">matchExpressions</code> are logically conjoined.
							</div></dd><dt><a href="#CO16-2"><span class="callout">2</span></a> </dt><dd><div class="para">
								Equality-based selector to specify resources with labels that match the selector.
							</div></dd><dt><a href="#CO16-3"><span class="callout">3</span></a> </dt><dd><div class="para">
								Set-based selector to filter keys. This selects all resources with key equal to <code class="literal">tier</code> and value equal to <code class="literal">frontend</code>.
							</div></dd></dl></div></section><section class="section" id="deployments-replicationcontrollers_what-deployments-are"><div class="titlepage"><div><div><h4 class="title">8.1.1.2. Replication controllers</h4></div></div></div><p>
						Similar to a replica set, a replication controller ensures that a specified number of replicas of a pod are running at all times. If pods exit or are deleted, the replication controller instantiates more up to the defined number. Likewise, if there are more running than desired, it deletes as many as necessary to match the defined amount. The difference between a replica set and a replication controller is that a replica set supports set-based selector requirements whereas a replication controller only supports equality-based selector requirements.
					</p><p>
						A replication controller configuration consists of:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The number of replicas desired, which can be adjusted at run time.
							</li><li class="listitem">
								A <code class="literal">Pod</code> definition to use when creating a replicated pod.
							</li><li class="listitem">
								A selector for identifying managed pods.
							</li></ul></div><p>
						A selector is a set of labels assigned to the pods that are managed by the replication controller. These labels are included in the <code class="literal">Pod</code> definition that the replication controller instantiates. The replication controller uses the selector to determine how many instances of the pod are already running in order to adjust as needed.
					</p><p>
						The replication controller does not perform auto-scaling based on load or traffic, as it does not track either. Rather, this requires its replica count to be adjusted by an external auto-scaler.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Use a <code class="literal">DeploymentConfig</code> to create a replication controller instead of creating replication controllers directly.
						</p><p>
							If you require custom orchestration or do not require updates, use replica sets instead of replication controllers.
						</p></div></div><p>
						The following is an example definition of a replication controller:
					</p><pre class="programlisting language-yaml">apiVersion: v1
kind: ReplicationController
metadata:
  name: frontend-1
spec:
  replicas: 1  <span id="CO17-1"><!--Empty--></span><span class="callout">1</span>
  selector:    <span id="CO17-2"><!--Empty--></span><span class="callout">2</span>
    name: frontend
  template:    <span id="CO17-3"><!--Empty--></span><span class="callout">3</span>
    metadata:
      labels:  <span id="CO17-4"><!--Empty--></span><span class="callout">4</span>
        name: frontend <span id="CO17-5"><!--Empty--></span><span class="callout">5</span>
    spec:
      containers:
      - image: openshift/hello-openshift
        name: helloworld
        ports:
        - containerPort: 8080
          protocol: TCP
      restartPolicy: Always</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO17-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								The number of copies of the pod to run.
							</div></dd><dt><a href="#CO17-2"><span class="callout">2</span></a> </dt><dd><div class="para">
								The label selector of the pod to run.
							</div></dd><dt><a href="#CO17-3"><span class="callout">3</span></a> </dt><dd><div class="para">
								A template for the pod the controller creates.
							</div></dd><dt><a href="#CO17-4"><span class="callout">4</span></a> </dt><dd><div class="para">
								Labels on the pod should include those from the label selector.
							</div></dd><dt><a href="#CO17-5"><span class="callout">5</span></a> </dt><dd><div class="para">
								The maximum name length after expanding any parameters is 63 characters.
							</div></dd></dl></div></section></section><section class="section" id="deployments-kube-deployments_what-deployments-are"><div class="titlepage"><div><div><h3 class="title">8.1.2. Deployments</h3></div></div></div><p>
					Kubernetes provides a first-class, native API object type in OpenShift Container Platform called <code class="literal">Deployment</code>. <code class="literal">Deployment</code> objects describe the desired state of a particular component of an application as a pod template. Deployments create replica sets, which orchestrate pod lifecycles.
				</p><p>
					For example, the following deployment definition creates a replica set to bring up one <code class="literal">hello-openshift</code> pod:
				</p><div class="formalpara"><p class="title"><strong>Deployment definition</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: hello-openshift
spec:
  replicas: 1
  selector:
    matchLabels:
      app: hello-openshift
  template:
    metadata:
      labels:
        app: hello-openshift
    spec:
      containers:
      - name: hello-openshift
        image: openshift/hello-openshift:latest
        ports:
        - containerPort: 80</pre>

					</p></div></section><section class="section" id="deployments-and-deploymentconfigs_what-deployments-are"><div class="titlepage"><div><div><h3 class="title">8.1.3. DeploymentConfig objects</h3></div></div></div><p>
					Building on replication controllers, OpenShift Container Platform adds expanded support for the software development and deployment lifecycle with the concept of <code class="literal">DeploymentConfig</code> objects. In the simplest case, a <code class="literal">DeploymentConfig</code> object creates a new replication controller and lets it start up pods.
				</p><p>
					However, OpenShift Container Platform deployments from <code class="literal">DeploymentConfig</code> objects also provide the ability to transition from an existing deployment of an image to a new one and also define hooks to be run before or after creating the replication controller.
				</p><p>
					The <code class="literal">DeploymentConfig</code> deployment system provides the following capabilities:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							A <code class="literal">DeploymentConfig</code> object, which is a template for running applications.
						</li><li class="listitem">
							Triggers that drive automated deployments in response to events.
						</li><li class="listitem">
							User-customizable deployment strategies to transition from the previous version to the new version. A strategy runs inside a pod commonly referred as the deployment process.
						</li><li class="listitem">
							A set of hooks (lifecycle hooks) for executing custom behavior in different points during the lifecycle of a deployment.
						</li><li class="listitem">
							Versioning of your application to support rollbacks either manually or automatically in case of deployment failure.
						</li><li class="listitem">
							Manual replication scaling and autoscaling.
						</li></ul></div><p>
					When you create a <code class="literal">DeploymentConfig</code> object, a replication controller is created representing the <code class="literal">DeploymentConfig</code> object’s pod template. If the deployment changes, a new replication controller is created with the latest pod template, and a deployment process runs to scale down the old replication controller and scale up the new one.
				</p><p>
					Instances of your application are automatically added and removed from both service load balancers and routers as they are created. As long as your application supports graceful shutdown when it receives the <code class="literal">TERM</code> signal, you can ensure that running user connections are given a chance to complete normally.
				</p><p>
					The OpenShift Container Platform <code class="literal">DeploymentConfig</code> object defines the following details:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The elements of a <code class="literal">ReplicationController</code> definition.
						</li><li class="listitem">
							Triggers for creating a new deployment automatically.
						</li><li class="listitem">
							The strategy for transitioning between deployments.
						</li><li class="listitem">
							Lifecycle hooks.
						</li></ol></div><p>
					Each time a deployment is triggered, whether manually or automatically, a deployer pod manages the deployment (including scaling down the old replication controller, scaling up the new one, and running hooks). The deployment pod remains for an indefinite amount of time after it completes the deployment to retain its logs of the deployment. When a deployment is superseded by another, the previous replication controller is retained to enable easy rollback if needed.
				</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">DeploymentConfig</code> definition</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: apps.openshift.io/v1
kind: DeploymentConfig
metadata:
  name: frontend
spec:
  replicas: 5
  selector:
    name: frontend
  template: { ... }
  triggers:
  - type: ConfigChange <span id="CO18-1"><!--Empty--></span><span class="callout">1</span>
  - imageChangeParams:
      automatic: true
      containerNames:
      - helloworld
      from:
        kind: ImageStreamTag
        name: hello-openshift:latest
    type: ImageChange  <span id="CO18-2"><!--Empty--></span><span class="callout">2</span>
  strategy:
    type: Rolling      <span id="CO18-3"><!--Empty--></span><span class="callout">3</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO18-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							A configuration change trigger results in a new replication controller whenever changes are detected in the pod template of the deployment configuration.
						</div></dd><dt><a href="#CO18-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							An image change trigger causes a new deployment to be created each time a new version of the backing image is available in the named image stream.
						</div></dd><dt><a href="#CO18-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							The default <code class="literal">Rolling</code> strategy makes a downtime-free transition between deployments.
						</div></dd></dl></div></section><section class="section" id="deployments-comparing-deploymentconfigs_what-deployments-are"><div class="titlepage"><div><div><h3 class="title">8.1.4. Comparing Deployment and DeploymentConfig objects</h3></div></div></div><p>
					Both Kubernetes <code class="literal">Deployment</code> objects and OpenShift Container Platform-provided <code class="literal">DeploymentConfig</code> objects are supported in OpenShift Container Platform; however, it is recommended to use <code class="literal">Deployment</code> objects unless you need a specific feature or behavior provided by <code class="literal">DeploymentConfig</code> objects.
				</p><p>
					The following sections go into more detail on the differences between the two object types to further help you decide which type to use.
				</p><section class="section" id="deployments-design_what-deployments-are"><div class="titlepage"><div><div><h4 class="title">8.1.4.1. Design</h4></div></div></div><p>
						One important difference between <code class="literal">Deployment</code> and <code class="literal">DeploymentConfig</code> objects is the properties of the <a class="link" href="https://en.wikipedia.org/wiki/CAP_theorem">CAP theorem</a> that each design has chosen for the rollout process. <code class="literal">DeploymentConfig</code> objects prefer consistency, whereas <code class="literal">Deployments</code> objects take availability over consistency.
					</p><p>
						For <code class="literal">DeploymentConfig</code> objects, if a node running a deployer pod goes down, it will not get replaced. The process waits until the node comes back online or is manually deleted. Manually deleting the node also deletes the corresponding pod. This means that you can not delete the pod to unstick the rollout, as the kubelet is responsible for deleting the associated pod.
					</p><p>
						However, deployment rollouts are driven from a controller manager. The controller manager runs in high availability mode on masters and uses leader election algorithms to value availability over consistency. During a failure it is possible for other masters to act on the same deployment at the same time, but this issue will be reconciled shortly after the failure occurs.
					</p></section><section class="section" id="delpoyments-specific-features_what-deployments-are"><div class="titlepage"><div><div><h4 class="title">8.1.4.2. Deployment-specific features</h4></div></div></div><h5 id="rollover">Rollover</h5><p>
						The deployment process for <code class="literal">Deployment</code> objects is driven by a controller loop, in contrast to <code class="literal">DeploymentConfig</code> objects that use deployer pods for every new rollout. This means that the <code class="literal">Deployment</code> object can have as many active replica sets as possible, and eventually the deployment controller will scale down all old replica sets and scale up the newest one.
					</p><p>
						<code class="literal">DeploymentConfig</code> objects can have at most one deployer pod running, otherwise multiple deployers might conflict when trying to scale up what they think should be the newest replication controller. Because of this, only two replication controllers can be active at any point in time. Ultimately, this results in faster rapid rollouts for <code class="literal">Deployment</code> objects.
					</p><h5 id="proportional-scaling">Proportional scaling</h5><p>
						Because the deployment controller is the sole source of truth for the sizes of new and old replica sets owned by a <code class="literal">Deployment</code> object, it can scale ongoing rollouts. Additional replicas are distributed proportionally based on the size of each replica set.
					</p><p>
						<code class="literal">DeploymentConfig</code> objects cannot be scaled when a rollout is ongoing because the controller will have issues with the deployer process about the size of the new replication controller.
					</p><h5 id="pausing-mid-rollout">Pausing mid-rollout</h5><p>
						Deployments can be paused at any point in time, meaning you can also pause ongoing rollouts. However, you currently cannot pause deployer pods; if you try to pause a deployment in the middle of a rollout, the deployer process is not affected and continues until it finishes.
					</p></section><section class="section" id="delpoymentconfigs-specific-features_what-deployments-are"><div class="titlepage"><div><div><h4 class="title">8.1.4.3. DeploymentConfig object-specific features</h4></div></div></div><h5 id="automatic-rollbacks">Automatic rollbacks</h5><p>
						Currently, deployments do not support automatically rolling back to the last successfully deployed replica set in case of a failure.
					</p><h5 id="triggers">Triggers</h5><p>
						Deployments have an implicit config change trigger in that every change in the pod template of a deployment automatically triggers a new rollout. If you do not want new rollouts on pod template changes, pause the deployment:
					</p><pre class="programlisting language-terminal">$ oc rollout pause deployments/&lt;name&gt;</pre><h5 id="lifecycle-hooks">Lifecycle hooks</h5><p>
						Deployments do not yet support any lifecycle hooks.
					</p><h5 id="custom-strategies">Custom strategies</h5><p>
						Deployments do not support user-specified custom deployment strategies.
					</p></section></section></section><section class="section" id="deployment-operations"><div class="titlepage"><div><div><h2 class="title">8.2. Managing deployment processes</h2></div></div></div><section class="section" id="deploymentconfig-operations"><div class="titlepage"><div><div><h3 class="title">8.2.1. Managing DeploymentConfig objects</h3></div></div></div><p>
					<code class="literal">DeploymentConfig</code> objects can be managed from the OpenShift Container Platform web console’s <span class="strong strong"><strong>Workloads</strong></span> page or using the <code class="literal">oc</code> CLI. The following procedures show CLI usage unless otherwise stated.
				</p><section class="section" id="deployments-starting-a-deployment_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.1. Starting a deployment</h4></div></div></div><p>
						You can start a rollout to begin the deployment process of your application.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To start a new deployment process from an existing <code class="literal">DeploymentConfig</code> object, run the following command:
							</p><pre class="programlisting language-terminal">$ oc rollout latest dc/&lt;name&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									If a deployment process is already in progress, the command displays a message and a new replication controller will not be deployed.
								</p></div></div></li></ol></div></section><section class="section" id="deployments-viewing-a-deployment_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.2. Viewing a deployment</h4></div></div></div><p>
						You can view a deployment to get basic information about all the available revisions of your application.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To show details about all recently created replication controllers for the provided <code class="literal">DeploymentConfig</code> object, including any currently running deployment process, run the following command:
							</p><pre class="programlisting language-terminal">$ oc rollout history dc/&lt;name&gt;</pre></li><li class="listitem"><p class="simpara">
								To view details specific to a revision, add the <code class="literal">--revision</code> flag:
							</p><pre class="programlisting language-terminal">$ oc rollout history dc/&lt;name&gt; --revision=1</pre></li><li class="listitem"><p class="simpara">
								For more detailed information about a <code class="literal">DeploymentConfig</code> object and its latest revision, use the <code class="literal">oc describe</code> command:
							</p><pre class="programlisting language-terminal">$ oc describe dc &lt;name&gt;</pre></li></ol></div></section><section class="section" id="deployments-retrying-deployment_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.3. Retrying a deployment</h4></div></div></div><p>
						If the current revision of your <code class="literal">DeploymentConfig</code> object failed to deploy, you can restart the deployment process.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To restart a failed deployment process:
							</p><pre class="programlisting language-terminal">$ oc rollout retry dc/&lt;name&gt;</pre><p class="simpara">
								If the latest revision of it was deployed successfully, the command displays a message and the deployment process is not retried.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Retrying a deployment restarts the deployment process and does not create a new deployment revision. The restarted replication controller has the same configuration it had when it failed.
								</p></div></div></li></ol></div></section><section class="section" id="deployments-rolling-back_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.4. Rolling back a deployment</h4></div></div></div><p>
						Rollbacks revert an application back to a previous revision and can be performed using the REST API, the CLI, or the web console.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To rollback to the last successful deployed revision of your configuration:
							</p><pre class="programlisting language-terminal">$ oc rollout undo dc/&lt;name&gt;</pre><p class="simpara">
								The <code class="literal">DeploymentConfig</code> object’s template is reverted to match the deployment revision specified in the undo command, and a new replication controller is started. If no revision is specified with <code class="literal">--to-revision</code>, then the last successfully deployed revision is used.
							</p></li><li class="listitem"><p class="simpara">
								Image change triggers on the <code class="literal">DeploymentConfig</code> object are disabled as part of the rollback to prevent accidentally starting a new deployment process soon after the rollback is complete.
							</p><p class="simpara">
								To re-enable the image change triggers:
							</p><pre class="programlisting language-terminal">$ oc set triggers dc/&lt;name&gt; --auto</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Deployment configs also support automatically rolling back to the last successful revision of the configuration in case the latest deployment process fails. In that case, the latest template that failed to deploy stays intact by the system and it is up to users to fix their configurations.
						</p></div></div></section><section class="section" id="deployments-exe-cmd-in-container_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.5. Executing commands inside a container</h4></div></div></div><p>
						You can add a command to a container, which modifies the container’s startup behavior by overruling the image’s <code class="literal">ENTRYPOINT</code>. This is different from a lifecycle hook, which instead can be run once per deployment at a specified time.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Add the <code class="literal">command</code> parameters to the <code class="literal">spec</code> field of the <code class="literal">DeploymentConfig</code> object. You can also add an <code class="literal">args</code> field, which modifies the <code class="literal">command</code> (or the <code class="literal">ENTRYPOINT</code> if <code class="literal">command</code> does not exist).
							</p><pre class="programlisting language-yaml">spec:
  containers:
  - name: &lt;container_name&gt;
    image: 'image'
    command:
      - '&lt;command&gt;'
    args:
      - '&lt;argument_1&gt;'
      - '&lt;argument_2&gt;'
      - '&lt;argument_3&gt;'</pre><p class="simpara">
								For example, to execute the <code class="literal">java</code> command with the <code class="literal">-jar</code> and <code class="literal">/opt/app-root/springboots2idemo.jar</code> arguments:
							</p><pre class="programlisting language-yaml">spec:
  containers:
  - name: example-spring-boot
    image: 'image'
    command:
      - java
    args:
      - '-jar'
      - /opt/app-root/springboots2idemo.jar</pre></li></ol></div></section><section class="section" id="deployments-viewing-logs_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.6. Viewing deployment logs</h4></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To stream the logs of the latest revision for a given <code class="literal">DeploymentConfig</code> object:
							</p><pre class="programlisting language-terminal">$ oc logs -f dc/&lt;name&gt;</pre><p class="simpara">
								If the latest revision is running or failed, the command returns the logs of the process that is responsible for deploying your pods. If it is successful, it returns the logs from a pod of your application.
							</p></li><li class="listitem"><p class="simpara">
								You can also view logs from older failed deployment processes, if and only if these processes (old replication controllers and their deployer pods) exist and have not been pruned or deleted manually:
							</p><pre class="programlisting language-terminal">$ oc logs --version=1 dc/&lt;name&gt;</pre></li></ol></div></section><section class="section" id="deployments-triggers_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.7. Deployment triggers</h4></div></div></div><p>
						A <code class="literal">DeploymentConfig</code> object can contain triggers, which drive the creation of new deployment processes in response to events inside the cluster.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							If no triggers are defined on a <code class="literal">DeploymentConfig</code> object, a config change trigger is added by default. If triggers are defined as an empty field, deployments must be started manually.
						</p></div></div><h5 id="deployments-configchange-trigger_deployment-operations">Config change deployment triggers</h5><p>
						The config change trigger results in a new replication controller whenever configuration changes are detected in the pod template of the <code class="literal">DeploymentConfig</code> object.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If a config change trigger is defined on a <code class="literal">DeploymentConfig</code> object, the first replication controller is automatically created soon after the <code class="literal">DeploymentConfig</code> object itself is created and it is not paused.
						</p></div></div><div class="formalpara"><p class="title"><strong>Config change deployment trigger</strong></p><p>
							
<pre class="programlisting language-yaml">triggers:
  - type: "ConfigChange"</pre>

						</p></div><h5 id="deployments-imagechange-trigger_deployment-operations">Image change deployment triggers</h5><p>
						The image change trigger results in a new replication controller whenever the content of an image stream tag changes (when a new version of the image is pushed).
					</p><div class="formalpara"><p class="title"><strong>Image change deployment trigger</strong></p><p>
							
<pre class="programlisting language-yaml">triggers:
  - type: "ImageChange"
    imageChangeParams:
      automatic: true <span id="CO19-1"><!--Empty--></span><span class="callout">1</span>
      from:
        kind: "ImageStreamTag"
        name: "origin-ruby-sample:latest"
        namespace: "myproject"
      containerNames:
        - "helloworld"</pre>

						</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO19-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								If the <code class="literal">imageChangeParams.automatic</code> field is set to <code class="literal">false</code>, the trigger is disabled.
							</div></dd></dl></div><p>
						With the above example, when the <code class="literal">latest</code> tag value of the <code class="literal">origin-ruby-sample</code> image stream changes and the new image value differs from the current image specified in the <code class="literal">DeploymentConfig</code> object’s <code class="literal">helloworld</code> container, a new replication controller is created using the new image for the <code class="literal">helloworld</code> container.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If an image change trigger is defined on a <code class="literal">DeploymentConfig</code> object (with a config change trigger and <code class="literal">automatic=false</code>, or with <code class="literal">automatic=true</code>) and the image stream tag pointed by the image change trigger does not exist yet, the initial deployment process will automatically start as soon as an image is imported or pushed by a build to the image stream tag.
						</p></div></div><section class="section" id="deployments-setting-triggers_deployment-operations"><div class="titlepage"><div><div><h5 class="title">8.2.1.7.1. Setting deployment triggers</h5></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
									You can set deployment triggers for a <code class="literal">DeploymentConfig</code> object using the <code class="literal">oc set triggers</code> command. For example, to set a image change trigger, use the following command:
								</p><pre class="programlisting language-terminal">$ oc set triggers dc/&lt;dc_name&gt; \
    --from-image=&lt;project&gt;/&lt;image&gt;:&lt;tag&gt; -c &lt;container_name&gt;</pre></li></ol></div></section></section><section class="section" id="deployments-setting-resources_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.8. Setting deployment resources</h4></div></div></div><p>
						A deployment is completed by a pod that consumes resources (memory, CPU, and ephemeral storage) on a node. By default, pods consume unbounded node resources. However, if a project specifies default container limits, then pods consume resources up to those limits.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The minimum memory limit for a deployment is 12 MB. If a container fails to start due to a <code class="literal">Cannot allocate memory</code> pod event, the memory limit is too low. Either increase or remove the memory limit. Removing the limit allows pods to consume unbounded node resources.
						</p></div></div><p>
						You can also limit resource use by specifying resource limits as part of the deployment strategy. Deployment resources can be used with the recreate, rolling, or custom deployment strategies.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								In the following example, each of <code class="literal">resources</code>, <code class="literal">cpu</code>, <code class="literal">memory</code>, and <code class="literal">ephemeral-storage</code> is optional:
							</p><pre class="programlisting language-yaml">type: "Recreate"
resources:
  limits:
    cpu: "100m" <span id="CO20-1"><!--Empty--></span><span class="callout">1</span>
    memory: "256Mi" <span id="CO20-2"><!--Empty--></span><span class="callout">2</span>
    ephemeral-storage: "1Gi" <span id="CO20-3"><!--Empty--></span><span class="callout">3</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO20-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										<code class="literal">cpu</code> is in CPU units: <code class="literal">100m</code> represents 0.1 CPU units (100 * 1e-3).
									</div></dd><dt><a href="#CO20-2"><span class="callout">2</span></a> </dt><dd><div class="para">
										<code class="literal">memory</code> is in bytes: <code class="literal">256Mi</code> represents 268435456 bytes (256 * 2 ^ 20).
									</div></dd><dt><a href="#CO20-3"><span class="callout">3</span></a> </dt><dd><div class="para">
										<code class="literal">ephemeral-storage</code> is in bytes: <code class="literal">1Gi</code> represents 1073741824 bytes (2 ^ 30).
									</div></dd></dl></div><p class="simpara">
								However, if a quota has been defined for your project, one of the following two items is required:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
										A <code class="literal">resources</code> section set with an explicit <code class="literal">requests</code>:
									</p><pre class="programlisting language-yaml">  type: "Recreate"
  resources:
    requests: <span id="CO21-1"><!--Empty--></span><span class="callout">1</span>
      cpu: "100m"
      memory: "256Mi"
      ephemeral-storage: "1Gi"</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO21-1"><span class="callout">1</span></a> </dt><dd><div class="para">
												The <code class="literal">requests</code> object contains the list of resources that correspond to the list of resources in the quota.
											</div></dd></dl></div></li><li class="listitem">
										A limit range defined in your project, where the defaults from the <code class="literal">LimitRange</code> object apply to pods created during the deployment process.
									</li></ul></div><p class="simpara">
								To set deployment resources, choose one of the above options. Otherwise, deploy pod creation fails, citing a failure to satisfy quota.
							</p></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
								For more information about resource limits and requests, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/nodes/#nodes-cluster-resource-configure-about_nodes-cluster-resource-configure">Understanding managing application memory</a>.
							</li></ul></div></section><section class="section" id="deployments-scaling-manually_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.9. Scaling manually</h4></div></div></div><p>
						In addition to rollbacks, you can exercise fine-grained control over the number of replicas by manually scaling them.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Pods can also be auto-scaled using the <code class="literal">oc autoscale</code> command.
						</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To manually scale a <code class="literal">DeploymentConfig</code> object, use the <code class="literal">oc scale</code> command. For example, the following command sets the replicas in the <code class="literal">frontend</code> <code class="literal">DeploymentConfig</code> object to <code class="literal">3</code>.
							</p><pre class="programlisting language-terminal">$ oc scale dc frontend --replicas=3</pre><p class="simpara">
								The number of replicas eventually propagates to the desired and current state of the deployment configured by the <code class="literal">DeploymentConfig</code> object <code class="literal">frontend</code>.
							</p></li></ol></div></section><section class="section" id="deployments-accessing-private-repos_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.10. Accessing private repositories from DeploymentConfig objects</h4></div></div></div><p>
						You can add a secret to your <code class="literal">DeploymentConfig</code> object so that it can access images from a private repository. This procedure shows the OpenShift Container Platform web console method.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								Create a new project.
							</li><li class="listitem">
								From the <span class="strong strong"><strong>Workloads</strong></span> page, create a secret that contains credentials for accessing a private image repository.
							</li><li class="listitem">
								Create a <code class="literal">DeploymentConfig</code> object.
							</li><li class="listitem">
								On the <code class="literal">DeploymentConfig</code> object editor page, set the <span class="strong strong"><strong>Pull Secret</strong></span> and save your changes.
							</li></ol></div></section><section class="section" id="deployments-assigning-pods-to-nodes_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.11. Assigning pods to specific nodes</h4></div></div></div><p>
						You can use node selectors in conjunction with labeled nodes to control pod placement.
					</p><p>
						Cluster administrators can set the default node selector for a project in order to restrict pod placement to specific nodes. As a developer, you can set a node selector on a <code class="literal">Pod</code> configuration to restrict nodes even further.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To add a node selector when creating a pod, edit the <code class="literal">Pod</code> configuration, and add the <code class="literal">nodeSelector</code> value. This can be added to a single <code class="literal">Pod</code> configuration, or in a <code class="literal">Pod</code> template:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
spec:
  nodeSelector:
    disktype: ssd
...</pre><p class="simpara">
								Pods created when the node selector is in place are assigned to nodes with the specified labels. The labels specified here are used in conjunction with the labels added by a cluster administrator.
							</p><p class="simpara">
								For example, if a project has the <code class="literal">type=user-node</code> and <code class="literal">region=east</code> labels added to a project by the cluster administrator, and you add the above <code class="literal">disktype: ssd</code> label to a pod, the pod is only ever scheduled on nodes that have all three labels.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Labels can only be set to one value, so setting a node selector of <code class="literal">region=west</code> in a <code class="literal">Pod</code> configuration that has <code class="literal">region=east</code> as the administrator-set default, results in a pod that will never be scheduled.
								</p></div></div></li></ol></div></section><section class="section" id="deployments-running-pod-svc-acct_deployment-operations"><div class="titlepage"><div><div><h4 class="title">8.2.1.12. Running a pod with a different service account</h4></div></div></div><p>
						You can run a pod with a service account other than the default.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Edit the <code class="literal">DeploymentConfig</code> object:
							</p><pre class="programlisting language-terminal">$ oc edit dc/&lt;deployment_config&gt;</pre></li><li class="listitem"><p class="simpara">
								Add the <code class="literal">serviceAccount</code> and <code class="literal">serviceAccountName</code> parameters to the <code class="literal">spec</code> field, and specify the service account you want to use:
							</p><pre class="programlisting language-yaml">spec:
  securityContext: {}
  serviceAccount: &lt;service_account&gt;
  serviceAccountName: &lt;service_account&gt;</pre></li></ol></div></section></section></section><section class="section" id="deployment-strategies"><div class="titlepage"><div><div><h2 class="title">8.3. Using deployment strategies</h2></div></div></div><p>
				<span class="emphasis"><em>Deployment strategies</em></span> are used to change or upgrade applications without downtime so that users barely notice a change.
			</p><p>
				Because users generally access applications through a route handled by a router, deployment strategies can focus on <code class="literal">DeploymentConfig</code> object features or routing features. Strategies that focus on <code class="literal">DeploymentConfig</code> object features impact all routes that use the application. Strategies that use router features target individual routes.
			</p><p>
				Most deployment strategies are supported through the <code class="literal">DeploymentConfig</code> object, and some additional strategies are supported through router features.
			</p><section class="section" id="choosing-deployment-strategies"><div class="titlepage"><div><div><h3 class="title">8.3.1. Choosing a deployment strategy</h3></div></div></div><p>
					Consider the following when choosing a deployment strategy:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Long-running connections must be handled gracefully.
						</li><li class="listitem">
							Database conversions can be complex and must be done and rolled back along with the application.
						</li><li class="listitem">
							If the application is a hybrid of microservices and traditional components, downtime might be required to complete the transition.
						</li><li class="listitem">
							You must have the infrastructure to do this.
						</li><li class="listitem">
							If you have a non-isolated test environment, you can break both new and old versions.
						</li></ul></div><p>
					A deployment strategy uses readiness checks to determine if a new pod is ready for use. If a readiness check fails, the <code class="literal">DeploymentConfig</code> object retries to run the pod until it times out. The default timeout is <code class="literal">10m</code>, a value set in <code class="literal">TimeoutSeconds</code> in <code class="literal">dc.spec.strategy.*params</code>.
				</p></section><section class="section" id="deployments-rolling-strategy_deployment-strategies"><div class="titlepage"><div><div><h3 class="title">8.3.2. Rolling strategy</h3></div></div></div><p>
					A rolling deployment slowly replaces instances of the previous version of an application with instances of the new version of the application. The rolling strategy is the default deployment strategy used if no strategy is specified on a <code class="literal">DeploymentConfig</code> object.
				</p><p>
					A rolling deployment typically waits for new pods to become <code class="literal">ready</code> via a readiness check before scaling down the old components. If a significant issue occurs, the rolling deployment can be aborted.
				</p><p>
					<span class="strong strong"><strong>When to use a rolling deployment:</strong></span>
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							When you want to take no downtime during an application update.
						</li><li class="listitem">
							When your application supports having old code and new code running at the same time.
						</li></ul></div><p>
					A rolling deployment means you have both old and new versions of your code running at the same time. This typically requires that your application handle N-1 compatibility.
				</p><div class="formalpara"><p class="title"><strong>Example rolling strategy definition</strong></p><p>
						
<pre class="programlisting language-yaml">strategy:
  type: Rolling
  rollingParams:
    updatePeriodSeconds: 1 <span id="CO22-1"><!--Empty--></span><span class="callout">1</span>
    intervalSeconds: 1 <span id="CO22-2"><!--Empty--></span><span class="callout">2</span>
    timeoutSeconds: 120 <span id="CO22-3"><!--Empty--></span><span class="callout">3</span>
    maxSurge: "20%" <span id="CO22-4"><!--Empty--></span><span class="callout">4</span>
    maxUnavailable: "10%" <span id="CO22-5"><!--Empty--></span><span class="callout">5</span>
    pre: {} <span id="CO22-6"><!--Empty--></span><span class="callout">6</span>
    post: {}</pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO22-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The time to wait between individual pod updates. If unspecified, this value defaults to <code class="literal">1</code>.
						</div></dd><dt><a href="#CO22-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							The time to wait between polling the deployment status after update. If unspecified, this value defaults to <code class="literal">1</code>.
						</div></dd><dt><a href="#CO22-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							The time to wait for a scaling event before giving up. Optional; the default is <code class="literal">600</code>. Here, <span class="emphasis"><em>giving up</em></span> means automatically rolling back to the previous complete deployment.
						</div></dd><dt><a href="#CO22-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							<code class="literal">maxSurge</code> is optional and defaults to <code class="literal">25%</code> if not specified. See the information below the following procedure.
						</div></dd><dt><a href="#CO22-5"><span class="callout">5</span></a> </dt><dd><div class="para">
							<code class="literal">maxUnavailable</code> is optional and defaults to <code class="literal">25%</code> if not specified. See the information below the following procedure.
						</div></dd><dt><a href="#CO22-6"><span class="callout">6</span></a> </dt><dd><div class="para">
							<code class="literal">pre</code> and <code class="literal">post</code> are both lifecycle hooks.
						</div></dd></dl></div><p>
					The rolling strategy:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Executes any <code class="literal">pre</code> lifecycle hook.
						</li><li class="listitem">
							Scales up the new replication controller based on the surge count.
						</li><li class="listitem">
							Scales down the old replication controller based on the max unavailable count.
						</li><li class="listitem">
							Repeats this scaling until the new replication controller has reached the desired replica count and the old replication controller has been scaled to zero.
						</li><li class="listitem">
							Executes any <code class="literal">post</code> lifecycle hook.
						</li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						When scaling down, the rolling strategy waits for pods to become ready so it can decide whether further scaling would affect availability. If scaled up pods never become ready, the deployment process will eventually time out and result in a deployment failure.
					</p></div></div><p>
					The <code class="literal">maxUnavailable</code> parameter is the maximum number of pods that can be unavailable during the update. The <code class="literal">maxSurge</code> parameter is the maximum number of pods that can be scheduled above the original number of pods. Both parameters can be set to either a percentage (e.g., <code class="literal">10%</code>) or an absolute value (e.g., <code class="literal">2</code>). The default value for both is <code class="literal">25%</code>.
				</p><p>
					These parameters allow the deployment to be tuned for availability and speed. For example:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">maxUnavailable*=0</code> and <code class="literal">maxSurge*=20%</code> ensures full capacity is maintained during the update and rapid scale up.
						</li><li class="listitem">
							<code class="literal">maxUnavailable*=10%</code> and <code class="literal">maxSurge*=0</code> performs an update using no extra capacity (an in-place update).
						</li><li class="listitem">
							<code class="literal">maxUnavailable*=10%</code> and <code class="literal">maxSurge*=10%</code> scales up and down quickly with some potential for capacity loss.
						</li></ul></div><p>
					Generally, if you want fast rollouts, use <code class="literal">maxSurge</code>. If you have to take into account resource quota and can accept partial unavailability, use <code class="literal">maxUnavailable</code>.
				</p><section class="section" id="deployments-canary-deployments_deployment-strategies"><div class="titlepage"><div><div><h4 class="title">8.3.2.1. Canary deployments</h4></div></div></div><p>
						All rolling deployments in OpenShift Container Platform are <span class="emphasis"><em>canary deployments</em></span>; a new version (the canary) is tested before all of the old instances are replaced. If the readiness check never succeeds, the canary instance is removed and the <code class="literal">DeploymentConfig</code> object will be automatically rolled back.
					</p><p>
						The readiness check is part of the application code and can be as sophisticated as necessary to ensure the new instance is ready to be used. If you must implement more complex checks of the application (such as sending real user workloads to the new instance), consider implementing a custom deployment or using a blue-green deployment strategy.
					</p></section><section class="section" id="deployments-creating-rolling-deployment_deployment-strategies"><div class="titlepage"><div><div><h4 class="title">8.3.2.2. Creating a rolling deployment</h4></div></div></div><p>
						Rolling deployments are the default type in OpenShift Container Platform. You can create a rolling deployment using the CLI.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Create an application based on the example deployment images found in <a class="link" href="https://quay.io/repository/openshifttest/deployment-example">Quay.io</a>:
							</p><pre class="programlisting language-terminal">$ oc new-app quay.io/openshifttest/deployment-example:latest</pre></li><li class="listitem"><p class="simpara">
								If you have the router installed, make the application available via a route or use the service IP directly.
							</p><pre class="programlisting language-terminal">$ oc expose svc/deployment-example</pre></li><li class="listitem">
								Browse to the application at <code class="literal">deployment-example.&lt;project&gt;.&lt;router_domain&gt;</code> to verify you see the <code class="literal">v1</code> image.
							</li><li class="listitem"><p class="simpara">
								Scale the <code class="literal">DeploymentConfig</code> object up to three replicas:
							</p><pre class="programlisting language-terminal">$ oc scale dc/deployment-example --replicas=3</pre></li><li class="listitem"><p class="simpara">
								Trigger a new deployment automatically by tagging a new version of the example as the <code class="literal">latest</code> tag:
							</p><pre class="programlisting language-terminal">$ oc tag deployment-example:v2 deployment-example:latest</pre></li><li class="listitem">
								In your browser, refresh the page until you see the <code class="literal">v2</code> image.
							</li><li class="listitem"><p class="simpara">
								When using the CLI, the following command shows how many pods are on version 1 and how many are on version 2. In the web console, the pods are progressively added to v2 and removed from v1:
							</p><pre class="programlisting language-terminal">$ oc describe dc deployment-example</pre></li></ol></div><p>
						During the deployment process, the new replication controller is incrementally scaled up. After the new pods are marked as <code class="literal">ready</code> (by passing their readiness check), the deployment process continues.
					</p><p>
						If the pods do not become ready, the process aborts, and the deployment rolls back to its previous version.
					</p></section><section class="section" id="odc-editing-deployments_rolling-strategy"><div class="titlepage"><div><div><h4 class="title">8.3.2.3. Editing a deployment by using the Developer perspective</h4></div></div></div><p>
						You can edit the deployment strategy, image settings, environment variables, and advanced options for your deployment by using the <span class="strong strong"><strong>Developer</strong></span> perspective.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You are in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console.
							</li><li class="listitem">
								You have created an application.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								Navigate to the <span class="strong strong"><strong>Topology</strong></span> view. Click on your application to see the <span class="strong strong"><strong>Details</strong></span> panel.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Actions</strong></span> drop-down menu, select <span class="strong strong"><strong>Edit Deployment</strong></span> to view the <span class="strong strong"><strong>Edit Deployment</strong></span> page.
							</li><li class="listitem"><p class="simpara">
								You can edit the following <span class="strong strong"><strong>Advanced options</strong></span> for your deployment:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Optional: You can pause rollouts by clicking <span class="strong strong"><strong>Pause rollouts</strong></span>, and then selecting the <span class="strong strong"><strong>Pause rollouts for this deployment</strong></span> checkbox.
									</p><p class="simpara">
										By pausing rollouts, you can make changes to your application without triggering a rollout. You can resume rollouts at any time.
									</p></li><li class="listitem">
										Optional: Click <span class="strong strong"><strong>Scaling</strong></span> to change the number of instances of your image by modifying the number of <span class="strong strong"><strong>Replicas</strong></span>.
									</li></ol></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Save</strong></span>.
							</li></ol></div></section><section class="section" id="odc-starting-rolling-deployment_rolling-strategy"><div class="titlepage"><div><div><h4 class="title">8.3.2.4. Starting a rolling deployment using the Developer perspective</h4></div></div></div><p>
						You can upgrade an application by starting a rolling deployment.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You are in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console.
							</li><li class="listitem">
								You have created an application.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								In the <span class="strong strong"><strong>Topology</strong></span> view of the <span class="strong strong"><strong>Developer</strong></span> perspective, click on the application node to see the <span class="strong strong"><strong>Overview</strong></span> tab in the side panel. Note that the <span class="strong strong"><strong>Update Strategy</strong></span> is set to the default <span class="strong strong"><strong>Rolling</strong></span> strategy.
							</li><li class="listitem"><p class="simpara">
								In the <span class="strong strong"><strong>Actions</strong></span> drop-down menu, select <span class="strong strong"><strong>Start Rollout</strong></span> to start a rolling update. The rolling deployment spins up the new version of the application and then terminates the old one.
							</p><div class="figure" id="idm140419011751568"><p class="title"><strong>Figure 8.1. Rolling update</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/9f7b83ae8c6139f366cf0008e792be09/odc-rolling-update.png" alt="odc rolling update"/></div></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">Creating and deploying applications on OpenShift Container Platform using the <span class="strong strong"><strong>Developer</strong></span> perspective</a>
							</li><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-viewing-application-composition-using-topology-view">Viewing the applications in your project, verifying their deployment status, and interacting with them in the <span class="strong strong"><strong>Topology</strong></span> view</a>
							</li></ul></div></section></section><section class="section" id="deployments-recreate-strategy_rolling-strategy"><div class="titlepage"><div><div><h3 class="title">8.3.3. Recreate strategy</h3></div></div></div><p>
					The recreate strategy has basic rollout behavior and supports lifecycle hooks for injecting code into the deployment process.
				</p><div class="formalpara"><p class="title"><strong>Example recreate strategy definition</strong></p><p>
						
<pre class="programlisting language-yaml">strategy:
  type: Recreate
  recreateParams: <span id="CO23-1"><!--Empty--></span><span class="callout">1</span>
    pre: {} <span id="CO23-2"><!--Empty--></span><span class="callout">2</span>
    mid: {}
    post: {}</pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO23-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							<code class="literal">recreateParams</code> are optional.
						</div></dd><dt><a href="#CO23-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							<code class="literal">pre</code>, <code class="literal">mid</code>, and <code class="literal">post</code> are lifecycle hooks.
						</div></dd></dl></div><p>
					The recreate strategy:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Executes any <code class="literal">pre</code> lifecycle hook.
						</li><li class="listitem">
							Scales down the previous deployment to zero.
						</li><li class="listitem">
							Executes any <code class="literal">mid</code> lifecycle hook.
						</li><li class="listitem">
							Scales up the new deployment.
						</li><li class="listitem">
							Executes any <code class="literal">post</code> lifecycle hook.
						</li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						During scale up, if the replica count of the deployment is greater than one, the first replica of the deployment will be validated for readiness before fully scaling up the deployment. If the validation of the first replica fails, the deployment will be considered a failure.
					</p></div></div><p>
					<span class="strong strong"><strong>When to use a recreate deployment:</strong></span>
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							When you must run migrations or other data transformations before your new code starts.
						</li><li class="listitem">
							When you do not support having new and old versions of your application code running at the same time.
						</li><li class="listitem">
							When you want to use a RWO volume, which is not supported being shared between multiple replicas.
						</li></ul></div><p>
					A recreate deployment incurs downtime because, for a brief period, no instances of your application are running. However, your old code and new code do not run at the same time.
				</p><section class="section" id="odc-editing-deployments_recreate-strategy"><div class="titlepage"><div><div><h4 class="title">8.3.3.1. Editing a deployment by using the Developer perspective</h4></div></div></div><p>
						You can edit the deployment strategy, image settings, environment variables, and advanced options for your deployment by using the <span class="strong strong"><strong>Developer</strong></span> perspective.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You are in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console.
							</li><li class="listitem">
								You have created an application.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								Navigate to the <span class="strong strong"><strong>Topology</strong></span> view. Click on your application to see the <span class="strong strong"><strong>Details</strong></span> panel.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Actions</strong></span> drop-down menu, select <span class="strong strong"><strong>Edit Deployment</strong></span> to view the <span class="strong strong"><strong>Edit Deployment</strong></span> page.
							</li><li class="listitem"><p class="simpara">
								You can edit the following <span class="strong strong"><strong>Advanced options</strong></span> for your deployment:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Optional: You can pause rollouts by clicking <span class="strong strong"><strong>Pause rollouts</strong></span>, and then selecting the <span class="strong strong"><strong>Pause rollouts for this deployment</strong></span> checkbox.
									</p><p class="simpara">
										By pausing rollouts, you can make changes to your application without triggering a rollout. You can resume rollouts at any time.
									</p></li><li class="listitem">
										Optional: Click <span class="strong strong"><strong>Scaling</strong></span> to change the number of instances of your image by modifying the number of <span class="strong strong"><strong>Replicas</strong></span>.
									</li></ol></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Save</strong></span>.
							</li></ol></div></section><section class="section" id="odc-starting-recreate-deployment_recreate-strategy"><div class="titlepage"><div><div><h4 class="title">8.3.3.2. Starting a recreate deployment using the Developer perspective</h4></div></div></div><p>
						You can switch the deployment strategy from the default rolling update to a recreate update using the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								Ensure that you are in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console.
							</li><li class="listitem">
								Ensure that you have created an application using the <span class="strong strong"><strong>Add</strong></span> view and see it deployed in the <span class="strong strong"><strong>Topology</strong></span> view.
							</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
							To switch to a recreate update strategy and to upgrade an application:
						</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								In the <span class="strong strong"><strong>Actions</strong></span> drop-down menu, select <span class="strong strong"><strong>Edit Deployment Config</strong></span> to see the deployment configuration details of the application.
							</li><li class="listitem">
								In the YAML editor, change the <code class="literal">spec.strategy.type</code> to <code class="literal">Recreate</code> and click <span class="strong strong"><strong>Save</strong></span>.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Topology</strong></span> view, select the node to see the <span class="strong strong"><strong>Overview</strong></span> tab in the side panel. The <span class="strong strong"><strong>Update Strategy</strong></span> is now set to <span class="strong strong"><strong>Recreate</strong></span>.
							</li><li class="listitem"><p class="simpara">
								Use the <span class="strong strong"><strong>Actions</strong></span> drop-down menu to select <span class="strong strong"><strong>Start Rollout</strong></span> to start an update using the recreate strategy. The recreate strategy first terminates pods for the older version of the application and then spins up pods for the new version.
							</p><div class="figure" id="idm140419010850512"><p class="title"><strong>Figure 8.2. Recreate update</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/6ea8a2acfff8b6f5884d5173d352bff0/odc-recreate-update.png" alt="odc recreate update"/></div></div></div></li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">Creating and deploying applications on OpenShift Container Platform using the <span class="strong strong"><strong>Developer</strong></span> perspective</a>
							</li><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-viewing-application-composition-using-topology-view">Viewing the applications in your project, verifying their deployment status, and interacting with them in the <span class="strong strong"><strong>Topology</strong></span> view</a>
							</li></ul></div></section></section><section class="section" id="deployments-custom-strategy_recreate-strategy"><div class="titlepage"><div><div><h3 class="title">8.3.4. Custom strategy</h3></div></div></div><p>
					The custom strategy allows you to provide your own deployment behavior.
				</p><div class="formalpara"><p class="title"><strong>Example custom strategy definition</strong></p><p>
						
<pre class="programlisting language-yaml">strategy:
  type: Custom
  customParams:
    image: organization/strategy
    command: [ "command", "arg1" ]
    environment:
      - name: ENV_1
        value: VALUE_1</pre>

					</p></div><p>
					In the above example, the <code class="literal">organization/strategy</code> container image provides the deployment behavior. The optional <code class="literal">command</code> array overrides any <code class="literal">CMD</code> directive specified in the image’s <code class="literal">Dockerfile</code>. The optional environment variables provided are added to the execution environment of the strategy process.
				</p><p>
					Additionally, OpenShift Container Platform provides the following environment variables to the deployment process:
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419014337424" scope="col">Environment variable</th><th align="left" valign="top" id="idm140419014336336" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="middle" headers="idm140419014337424"> <p>
									<code class="literal">OPENSHIFT_DEPLOYMENT_NAME</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014336336"> <p>
									The name of the new deployment, a replication controller.
								</p>
								 </td></tr><tr><td align="left" valign="middle" headers="idm140419014337424"> <p>
									<code class="literal">OPENSHIFT_DEPLOYMENT_NAMESPACE</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014336336"> <p>
									The name space of the new deployment.
								</p>
								 </td></tr></tbody></table></div><p>
					The replica count of the new deployment will initially be zero. The responsibility of the strategy is to make the new deployment active using the logic that best serves the needs of the user.
				</p><p>
					Alternatively, use the <code class="literal">customParams</code> object to inject the custom deployment logic into the existing deployment strategies. Provide a custom shell script logic and call the <code class="literal">openshift-deploy</code> binary. Users do not have to supply their custom deployer container image; in this case, the default OpenShift Container Platform deployer image is used instead:
				</p><pre class="programlisting language-yaml">strategy:
  type: Rolling
  customParams:
    command:
    - /bin/sh
    - -c
    - |
      set -e
      openshift-deploy --until=50%
      echo Halfway there
      openshift-deploy
      echo Complete</pre><p>
					This results in following deployment:
				</p><pre class="programlisting language-terminal">Started deployment #2
--&gt; Scaling up custom-deployment-2 from 0 to 2, scaling down custom-deployment-1 from 2 to 0 (keep 2 pods available, don't exceed 3 pods)
    Scaling custom-deployment-2 up to 1
--&gt; Reached 50% (currently 50%)
Halfway there
--&gt; Scaling up custom-deployment-2 from 1 to 2, scaling down custom-deployment-1 from 2 to 0 (keep 2 pods available, don't exceed 3 pods)
    Scaling custom-deployment-1 down to 1
    Scaling custom-deployment-2 up to 2
    Scaling custom-deployment-1 down to 0
--&gt; Success
Complete</pre><p>
					If the custom deployment strategy process requires access to the OpenShift Container Platform API or the Kubernetes API the container that executes the strategy can use the service account token available inside the container for authentication.
				</p><section class="section" id="odc-editing-deployments_custom-strategy"><div class="titlepage"><div><div><h4 class="title">8.3.4.1. Editing a deployment by using the Developer perspective</h4></div></div></div><p>
						You can edit the deployment strategy, image settings, environment variables, and advanced options for your deployment by using the <span class="strong strong"><strong>Developer</strong></span> perspective.
					</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
								You are in the <span class="strong strong"><strong>Developer</strong></span> perspective of the web console.
							</li><li class="listitem">
								You have created an application.
							</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
								Navigate to the <span class="strong strong"><strong>Topology</strong></span> view. Click on your application to see the <span class="strong strong"><strong>Details</strong></span> panel.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Actions</strong></span> drop-down menu, select <span class="strong strong"><strong>Edit Deployment</strong></span> to view the <span class="strong strong"><strong>Edit Deployment</strong></span> page.
							</li><li class="listitem"><p class="simpara">
								You can edit the following <span class="strong strong"><strong>Advanced options</strong></span> for your deployment:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Optional: You can pause rollouts by clicking <span class="strong strong"><strong>Pause rollouts</strong></span>, and then selecting the <span class="strong strong"><strong>Pause rollouts for this deployment</strong></span> checkbox.
									</p><p class="simpara">
										By pausing rollouts, you can make changes to your application without triggering a rollout. You can resume rollouts at any time.
									</p></li><li class="listitem">
										Optional: Click <span class="strong strong"><strong>Scaling</strong></span> to change the number of instances of your image by modifying the number of <span class="strong strong"><strong>Replicas</strong></span>.
									</li></ol></div></li><li class="listitem">
								Click <span class="strong strong"><strong>Save</strong></span>.
							</li></ol></div></section></section><section class="section" id="deployments-lifecycle-hooks_custom-strategy"><div class="titlepage"><div><div><h3 class="title">8.3.5. Lifecycle hooks</h3></div></div></div><p>
					The rolling and recreate strategies support <span class="emphasis"><em>lifecycle hooks</em></span>, or deployment hooks, which allow behavior to be injected into the deployment process at predefined points within the strategy:
				</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">pre</code> lifecycle hook</strong></p><p>
						
<pre class="programlisting language-yaml">pre:
  failurePolicy: Abort
  execNewPod: {} <span id="CO24-1"><!--Empty--></span><span class="callout">1</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO24-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							<code class="literal">execNewPod</code> is a pod-based lifecycle hook.
						</div></dd></dl></div><p>
					Every hook has a <span class="emphasis"><em>failure policy</em></span>, which defines the action the strategy should take when a hook failure is encountered:
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 20%; " class="col_1"><!--Empty--></col><col style="width: 80%; " class="col_2"><!--Empty--></col></colgroup><tbody><tr><td align="left" valign="middle"> <p>
									<code class="literal">Abort</code>
								</p>
								 </td><td align="left" valign="top"> <p>
									The deployment process will be considered a failure if the hook fails.
								</p>
								 </td></tr><tr><td align="left" valign="middle"> <p>
									<code class="literal">Retry</code>
								</p>
								 </td><td align="left" valign="top"> <p>
									The hook execution should be retried until it succeeds.
								</p>
								 </td></tr><tr><td align="left" valign="middle"> <p>
									<code class="literal">Ignore</code>
								</p>
								 </td><td align="left" valign="top"> <p>
									Any hook failure should be ignored and the deployment should proceed.
								</p>
								 </td></tr></tbody></table></div><p>
					Hooks have a type-specific field that describes how to execute the hook. Currently, pod-based hooks are the only supported hook type, specified by the <code class="literal">execNewPod</code> field.
				</p><h4 id="pod-based-lifecycle-hook">Pod-based lifecycle hook</h4><p>
					Pod-based lifecycle hooks execute hook code in a new pod derived from the template in a <code class="literal">DeploymentConfig</code> object.
				</p><p>
					The following simplified example deployment uses the rolling strategy. Triggers and some other minor details are omitted for brevity:
				</p><pre class="programlisting language-yaml">kind: DeploymentConfig
apiVersion: apps.openshift.io/v1
metadata:
  name: frontend
spec:
  template:
    metadata:
      labels:
        name: frontend
    spec:
      containers:
        - name: helloworld
          image: openshift/origin-ruby-sample
  replicas: 5
  selector:
    name: frontend
  strategy:
    type: Rolling
    rollingParams:
      pre:
        failurePolicy: Abort
        execNewPod:
          containerName: helloworld <span id="CO25-1"><!--Empty--></span><span class="callout">1</span>
          command: [ "/usr/bin/command", "arg1", "arg2" ] <span id="CO25-2"><!--Empty--></span><span class="callout">2</span>
          env: <span id="CO25-3"><!--Empty--></span><span class="callout">3</span>
            - name: CUSTOM_VAR1
              value: custom_value1
          volumes:
            - data <span id="CO25-4"><!--Empty--></span><span class="callout">4</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO25-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The <code class="literal">helloworld</code> name refers to <code class="literal">spec.template.spec.containers[0].name</code>.
						</div></dd><dt><a href="#CO25-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							This <code class="literal">command</code> overrides any <code class="literal">ENTRYPOINT</code> defined by the <code class="literal">openshift/origin-ruby-sample</code> image.
						</div></dd><dt><a href="#CO25-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							<code class="literal">env</code> is an optional set of environment variables for the hook container.
						</div></dd><dt><a href="#CO25-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							<code class="literal">volumes</code> is an optional set of volume references for the hook container.
						</div></dd></dl></div><p>
					In this example, the <code class="literal">pre</code> hook will be executed in a new pod using the <code class="literal">openshift/origin-ruby-sample</code> image from the <code class="literal">helloworld</code> container. The hook pod has the following properties:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The hook command is <code class="literal">/usr/bin/command arg1 arg2</code>.
						</li><li class="listitem">
							The hook container has the <code class="literal">CUSTOM_VAR1=custom_value1</code> environment variable.
						</li><li class="listitem">
							The hook failure policy is <code class="literal">Abort</code>, meaning the deployment process fails if the hook fails.
						</li><li class="listitem">
							The hook pod inherits the <code class="literal">data</code> volume from the <code class="literal">DeploymentConfig</code> object pod.
						</li></ul></div><section class="section" id="deployments-setting-lifecycle-hooks_custom-strategy"><div class="titlepage"><div><div><h4 class="title">8.3.5.1. Setting lifecycle hooks</h4></div></div></div><p>
						You can set lifecycle hooks, or deployment hooks, for a deployment using the CLI.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Use the <code class="literal">oc set deployment-hook</code> command to set the type of hook you want: <code class="literal">--pre</code>, <code class="literal">--mid</code>, or <code class="literal">--post</code>. For example, to set a pre-deployment hook:
							</p><pre class="programlisting language-terminal">$ oc set deployment-hook dc/frontend \
    --pre -c helloworld -e CUSTOM_VAR1=custom_value1 \
    --volumes data --failure-policy=abort -- /usr/bin/command arg1 arg2</pre></li></ol></div></section></section></section><section class="section" id="route-based-deployment-strategies"><div class="titlepage"><div><div><h2 class="title">8.4. Using route-based deployment strategies</h2></div></div></div><p>
				Deployment strategies provide a way for the application to evolve. Some strategies use <code class="literal">Deployment</code> objects to make changes that are seen by users of all routes that resolve to the application. Other advanced strategies, such as the ones described in this section, use router features in conjunction with <code class="literal">Deployment</code> objects to impact specific routes.
			</p><p>
				The most common route-based strategy is to use a <span class="emphasis"><em>blue-green deployment</em></span>. The new version (the green version) is brought up for testing and evaluation, while the users still use the stable version (the blue version). When ready, the users are switched to the green version. If a problem arises, you can switch back to the blue version.
			</p><p>
				A common alternative strategy is to use <span class="emphasis"><em>A/B versions</em></span> that are both active at the same time and some users use one version, and some users use the other version. This can be used for experimenting with user interface changes and other features to get user feedback. It can also be used to verify proper operation in a production context where problems impact a limited number of users.
			</p><p>
				A canary deployment tests the new version but when a problem is detected it quickly falls back to the previous version. This can be done with both of the above strategies.
			</p><p>
				The route-based deployment strategies do not scale the number of pods in the services. To maintain desired performance characteristics the deployment configurations might have to be scaled.
			</p><section class="section" id="deployments-proxy-shard_route-based-deployment-strategies"><div class="titlepage"><div><div><h3 class="title">8.4.1. Proxy shards and traffic splitting</h3></div></div></div><p>
					In production environments, you can precisely control the distribution of traffic that lands on a particular shard. When dealing with large numbers of instances, you can use the relative scale of individual shards to implement percentage based traffic. That combines well with a <span class="emphasis"><em>proxy shard</em></span>, which forwards or splits the traffic it receives to a separate service or application running elsewhere.
				</p><p>
					In the simplest configuration, the proxy forwards requests unchanged. In more complex setups, you can duplicate the incoming requests and send to both a separate cluster as well as to a local instance of the application, and compare the result. Other patterns include keeping the caches of a DR installation warm, or sampling incoming traffic for analysis purposes.
				</p><p>
					Any TCP (or UDP) proxy could be run under the desired shard. Use the <code class="literal">oc scale</code> command to alter the relative number of instances serving requests under the proxy shard. For more complex traffic management, consider customizing the OpenShift Container Platform router with proportional balancing capabilities.
				</p></section><section class="section" id="deployments-n1-compatibility_route-based-deployment-strategies"><div class="titlepage"><div><div><h3 class="title">8.4.2. N-1 compatibility</h3></div></div></div><p>
					Applications that have new code and old code running at the same time must be careful to ensure that data written by the new code can be read and handled (or gracefully ignored) by the old version of the code. This is sometimes called <span class="emphasis"><em>schema evolution</em></span> and is a complex problem.
				</p><p>
					This can take many forms: data stored on disk, in a database, in a temporary cache, or that is part of a user’s browser session. While most web applications can support rolling deployments, it is important to test and design your application to handle it.
				</p><p>
					For some applications, the period of time that old code and new code is running side by side is short, so bugs or some failed user transactions are acceptable. For others, the failure pattern may result in the entire application becoming non-functional.
				</p><p>
					One way to validate N-1 compatibility is to use an A/B deployment: run the old code and new code at the same time in a controlled way in a test environment, and verify that traffic that flows to the new deployment does not cause failures in the old deployment.
				</p></section><section class="section" id="deployments-graceful-termination_route-based-deployment-strategies"><div class="titlepage"><div><div><h3 class="title">8.4.3. Graceful termination</h3></div></div></div><p>
					OpenShift Container Platform and Kubernetes give application instances time to shut down before removing them from load balancing rotations. However, applications must ensure they cleanly terminate user connections as well before they exit.
				</p><p>
					On shutdown, OpenShift Container Platform sends a <code class="literal">TERM</code> signal to the processes in the container. Application code, on receiving <code class="literal">SIGTERM</code>, stop accepting new connections. This ensures that load balancers route traffic to other active instances. The application code then waits until all open connections are closed, or gracefully terminate individual connections at the next opportunity, before exiting.
				</p><p>
					After the graceful termination period expires, a process that has not exited is sent the <code class="literal">KILL</code> signal, which immediately ends the process. The <code class="literal">terminationGracePeriodSeconds</code> attribute of a pod or pod template controls the graceful termination period (default 30 seconds) and can be customized per application as necessary.
				</p></section><section class="section" id="deployments-blue-green_route-based-deployment-strategies"><div class="titlepage"><div><div><h3 class="title">8.4.4. Blue-green deployments</h3></div></div></div><p>
					Blue-green deployments involve running two versions of an application at the same time and moving traffic from the in-production version (the blue version) to the newer version (the green version). You can use a rolling strategy or switch services in a route.
				</p><p>
					Because many applications depend on persistent data, you must have an application that supports <span class="emphasis"><em>N-1 compatibility</em></span>, which means it shares data and implements live migration between the database, store, or disk by creating two copies of the data layer.
				</p><p>
					Consider the data used in testing the new version. If it is the production data, a bug in the new version can break the production version.
				</p><section class="section" id="deployments-blue-green-setting-up_route-based-deployment-strategies"><div class="titlepage"><div><div><h4 class="title">8.4.4.1. Setting up a blue-green deployment</h4></div></div></div><p>
						Blue-green deployments use two <code class="literal">Deployment</code> objects. Both are running, and the one in production depends on the service the route specifies, with each <code class="literal">Deployment</code> object exposed to a different service.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Routes are intended for web (HTTP and HTTPS) traffic, so this technique is best suited for web applications.
						</p></div></div><p>
						You can create a new route to the new version and test it. When ready, change the service in the production route to point to the new service and the new (green) version is live.
					</p><p>
						If necessary, you can roll back to the older (blue) version by switching the service back to the previous version.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Create two independent application components.
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Create a copy of the example application running the <code class="literal">v1</code> image under the <code class="literal">example-blue</code> service:
									</p><pre class="programlisting language-terminal">$ oc new-app openshift/deployment-example:v1 --name=example-blue</pre></li><li class="listitem"><p class="simpara">
										Create a second copy that uses the <code class="literal">v2</code> image under the <code class="literal">example-green</code> service:
									</p><pre class="programlisting language-terminal">$ oc new-app openshift/deployment-example:v2 --name=example-green</pre></li></ol></div></li><li class="listitem"><p class="simpara">
								Create a route that points to the old service:
							</p><pre class="programlisting language-terminal">$ oc expose svc/example-blue --name=bluegreen-example</pre></li><li class="listitem">
								Browse to the application at <code class="literal">bluegreen-example-&lt;project&gt;.&lt;router_domain&gt;</code> to verify you see the <code class="literal">v1</code> image.
							</li><li class="listitem"><p class="simpara">
								Edit the route and change the service name to <code class="literal">example-green</code>:
							</p><pre class="programlisting language-terminal">$ oc patch route/bluegreen-example -p '{"spec":{"to":{"name":"example-green"}}}'</pre></li><li class="listitem">
								To verify that the route has changed, refresh the browser until you see the <code class="literal">v2</code> image.
							</li></ol></div></section></section><section class="section" id="deployments-ab-testing_route-based-deployment-strategies"><div class="titlepage"><div><div><h3 class="title">8.4.5. A/B deployments</h3></div></div></div><p>
					The A/B deployment strategy lets you try a new version of the application in a limited way in the production environment. You can specify that the production version gets most of the user requests while a limited fraction of requests go to the new version.
				</p><p>
					Because you control the portion of requests to each version, as testing progresses you can increase the fraction of requests to the new version and ultimately stop using the previous version. As you adjust the request load on each version, the number of pods in each service might have to be scaled as well to provide the expected performance.
				</p><p>
					In addition to upgrading software, you can use this feature to experiment with versions of the user interface. Since some users get the old version and some the new, you can evaluate the user’s reaction to the different versions to inform design decisions.
				</p><p>
					For this to be effective, both the old and new versions must be similar enough that both can run at the same time. This is common with bug fix releases and when new features do not interfere with the old. The versions require N-1 compatibility to properly work together.
				</p><p>
					OpenShift Container Platform supports N-1 compatibility through the web console as well as the CLI.
				</p><section class="section" id="deployments-ab-testing-lb_route-based-deployment-strategies"><div class="titlepage"><div><div><h4 class="title">8.4.5.1. Load balancing for A/B testing</h4></div></div></div><p>
						The user sets up a route with multiple services. Each service handles a version of the application.
					</p><p>
						Each service is assigned a <code class="literal">weight</code> and the portion of requests to each service is the <code class="literal">service_weight</code> divided by the <code class="literal">sum_of_weights</code>. The <code class="literal">weight</code> for each service is distributed to the service’s endpoints so that the sum of the endpoint <code class="literal">weights</code> is the service <code class="literal">weight</code>.
					</p><p>
						The route can have up to four services. The <code class="literal">weight</code> for the service can be between <code class="literal">0</code> and <code class="literal">256</code>. When the <code class="literal">weight</code> is <code class="literal">0</code>, the service does not participate in load-balancing but continues to serve existing persistent connections. When the service <code class="literal">weight</code> is not <code class="literal">0</code>, each endpoint has a minimum <code class="literal">weight</code> of <code class="literal">1</code>. Because of this, a service with a lot of endpoints can end up with higher <code class="literal">weight</code> than intended. In this case, reduce the number of pods to get the expected load balance <code class="literal">weight</code>.
					</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
							To set up the A/B environment:
						</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Create the two applications and give them different names. Each creates a <code class="literal">Deployment</code> object. The applications are versions of the same program; one is usually the current production version and the other the proposed new version.
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
										Create the first application. The following example creates an application called <code class="literal">ab-example-a</code>:
									</p><pre class="programlisting language-terminal">$ oc new-app openshift/deployment-example --name=ab-example-a</pre></li><li class="listitem"><p class="simpara">
										Create the second application:
									</p><pre class="programlisting language-terminal">$ oc new-app openshift/deployment-example:v2 --name=ab-example-b</pre><p class="simpara">
										Both applications are deployed and services are created.
									</p></li></ol></div></li><li class="listitem"><p class="simpara">
								Make the application available externally via a route. At this point, you can expose either. It can be convenient to expose the current production version first and later modify the route to add the new version.
							</p><pre class="programlisting language-terminal">$ oc expose svc/ab-example-a</pre><p class="simpara">
								Browse to the application at <code class="literal">ab-example-a.&lt;project&gt;.&lt;router_domain&gt;</code> to verify that you see the expected version.
							</p></li><li class="listitem"><p class="simpara">
								When you deploy the route, the router balances the traffic according to the <code class="literal">weights</code> specified for the services. At this point, there is a single service with default <code class="literal">weight=1</code> so all requests go to it. Adding the other service as an <code class="literal">alternateBackends</code> and adjusting the <code class="literal">weights</code> brings the A/B setup to life. This can be done by the <code class="literal">oc set route-backends</code> command or by editing the route.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									When using <code class="literal">alternateBackends</code>, also use the <code class="literal">roundrobin</code> load-balancing strategy to ensure requests are distributed as expected to the services based on weight. <code class="literal">roundrobin</code> can be set for a route by using a <a class="link" href="https://docs.openshift.com/container-platform/4.13/networking/routes/route-configuration.html#nw-route-specific-annotations_route-configuration">route annotation</a>.
								</p></div></div><p class="simpara">
								Setting the <code class="literal">oc set route-backend</code> to <code class="literal">0</code> means the service does not participate in load-balancing, but continues to serve existing persistent connections.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Changes to the route just change the portion of traffic to the various services. You might have to scale the deployment to adjust the number of pods to handle the anticipated loads.
								</p></div></div><p class="simpara">
								To edit the route, run:
							</p><pre class="programlisting language-terminal">$ oc edit route &lt;route_name&gt;</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">...
metadata:
  name: route-alternate-service
  annotations:
    haproxy.router.openshift.io/balance: roundrobin
spec:
  host: ab-example.my-project.my-domain
  to:
    kind: Service
    name: ab-example-a
    weight: 10
  alternateBackends:
  - kind: Service
    name: ab-example-b
    weight: 15
...</pre>

								</p></div></li></ol></div><section class="section" id="deployments-ab-testing-lb-web_route-based-deployment-strategies"><div class="titlepage"><div><div><h5 class="title">8.4.5.1.1. Managing weights of an existing route using the web console</h5></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
									Navigate to the <span class="strong strong"><strong>Networking</strong></span> → <span class="strong strong"><strong>Routes</strong></span> page.
								</li><li class="listitem">
									Click the Actions menu 
									<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
									 next to the route you want to edit and select <span class="strong strong"><strong>Edit Route</strong></span>.
								</li><li class="listitem">
									Edit the YAML file. Update the <code class="literal">weight</code> to be an integer between <code class="literal">0</code> and <code class="literal">256</code> that specifies the relative weight of the target against other target reference objects. The value <code class="literal">0</code> suppresses requests to this back end. The default is <code class="literal">100</code>. Run <code class="literal">oc explain routes.spec.alternateBackends</code> for more information about the options.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Save</strong></span>.
								</li></ol></div></section><section class="section" id="deployments-ab-testing-lb-web-new-route_route-based-deployment-strategies"><div class="titlepage"><div><div><h5 class="title">8.4.5.1.2. Managing weights of an new route using the web console</h5></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
									Navigate to the <span class="strong strong"><strong>Networking</strong></span> → <span class="strong strong"><strong>Routes</strong></span> page.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Create Route</strong></span>.
								</li><li class="listitem">
									Enter the route <span class="strong strong"><strong>Name</strong></span>.
								</li><li class="listitem">
									Select the <span class="strong strong"><strong>Service</strong></span>.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Add Alternate Service</strong></span>.
								</li><li class="listitem">
									Enter a value for <span class="strong strong"><strong>Weight</strong></span> and <span class="strong strong"><strong>Alternate Service Weight</strong></span>. Enter a number between <code class="literal">0</code> and <code class="literal">255</code> that depicts relative weight compared with other targets. The default is <code class="literal">100</code>.
								</li><li class="listitem">
									Select the <span class="strong strong"><strong>Target Port</strong></span>.
								</li><li class="listitem">
									Click <span class="strong strong"><strong>Create</strong></span>.
								</li></ol></div></section><section class="section" id="deployments-ab-testing-lb-cli_route-based-deployment-strategies"><div class="titlepage"><div><div><h5 class="title">8.4.5.1.3. Managing weights using the CLI</h5></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
									To manage the services and corresponding weights load balanced by the route, use the <code class="literal">oc set route-backends</code> command:
								</p><pre class="programlisting language-terminal">$ oc set route-backends ROUTENAME \
    [--zero|--equal] [--adjust] SERVICE=WEIGHT[%] [...] [options]</pre><p class="simpara">
									For example, the following sets <code class="literal">ab-example-a</code> as the primary service with <code class="literal">weight=198</code> and <code class="literal">ab-example-b</code> as the first alternate service with a <code class="literal">weight=2</code>:
								</p><pre class="programlisting language-terminal">$ oc set route-backends ab-example ab-example-a=198 ab-example-b=2</pre><p class="simpara">
									This means 99% of traffic is sent to service <code class="literal">ab-example-a</code> and 1% to service <code class="literal">ab-example-b</code>.
								</p><p class="simpara">
									This command does not scale the deployment. You might be required to do so to have enough pods to handle the request load.
								</p></li><li class="listitem"><p class="simpara">
									Run the command with no flags to verify the current configuration:
								</p><pre class="programlisting language-terminal">$ oc set route-backends ab-example</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
										
<pre class="programlisting language-terminal">NAME                    KIND     TO           WEIGHT
routes/ab-example       Service  ab-example-a 198 (99%)
routes/ab-example       Service  ab-example-b 2   (1%)</pre>

									</p></div></li><li class="listitem"><p class="simpara">
									To alter the weight of an individual service relative to itself or to the primary service, use the <code class="literal">--adjust</code> flag. Specifying a percentage adjusts the service relative to either the primary or the first alternate (if you specify the primary). If there are other backends, their weights are kept proportional to the changed.
								</p><p class="simpara">
									The following example alters the weight of <code class="literal">ab-example-a</code> and <code class="literal">ab-example-b</code> services:
								</p><pre class="programlisting language-terminal">$ oc set route-backends ab-example --adjust ab-example-a=200 ab-example-b=10</pre><p class="simpara">
									Alternatively, alter the weight of a service by specifying a percentage:
								</p><pre class="programlisting language-terminal">$ oc set route-backends ab-example --adjust ab-example-b=5%</pre><p class="simpara">
									By specifying <code class="literal">+</code> before the percentage declaration, you can adjust a weighting relative to the current setting. For example:
								</p><pre class="programlisting language-terminal">$ oc set route-backends ab-example --adjust ab-example-b=+15%</pre><p class="simpara">
									The <code class="literal">--equal</code> flag sets the <code class="literal">weight</code> of all services to <code class="literal">100</code>:
								</p><pre class="programlisting language-terminal">$ oc set route-backends ab-example --equal</pre><p class="simpara">
									The <code class="literal">--zero</code> flag sets the <code class="literal">weight</code> of all services to <code class="literal">0</code>. All requests then return with a 503 error.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Not all routers may support multiple or weighted backends.
									</p></div></div></li></ol></div></section><section class="section" id="deployments-ab-one-service-multi-dc_route-based-deployment-strategies"><div class="titlepage"><div><div><h5 class="title">8.4.5.1.4. One service, multiple <code class="literal">Deployment</code> objects</h5></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
									Create a new application, adding a label <code class="literal">ab-example=true</code> that will be common to all shards:
								</p><pre class="programlisting language-terminal">$ oc new-app openshift/deployment-example --name=ab-example-a --as-deployment-config=true --labels=ab-example=true --env=SUBTITLE\=shardA
$ oc delete svc/ab-example-a</pre><p class="simpara">
									The application is deployed and a service is created. This is the first shard.
								</p></li><li class="listitem"><p class="simpara">
									Make the application available via a route, or use the service IP directly:
								</p><pre class="programlisting language-terminal">$ oc expose deployment ab-example-a --name=ab-example --selector=ab-example\=true
$ oc expose service ab-example</pre></li><li class="listitem">
									Browse to the application at <code class="literal">ab-example-&lt;project_name&gt;.&lt;router_domain&gt;</code> to verify you see the <code class="literal">v1</code> image.
								</li><li class="listitem"><p class="simpara">
									Create a second shard based on the same source image and label as the first shard, but with a different tagged version and unique environment variables:
								</p><pre class="programlisting language-terminal">$ oc new-app openshift/deployment-example:v2 \
    --name=ab-example-b --labels=ab-example=true \
    SUBTITLE="shard B" COLOR="red" --as-deployment-config=true
$ oc delete svc/ab-example-b</pre></li><li class="listitem"><p class="simpara">
									At this point, both sets of pods are being served under the route. However, because both browsers (by leaving a connection open) and the router (by default, through a cookie) attempt to preserve your connection to a back-end server, you might not see both shards being returned to you.
								</p><p class="simpara">
									To force your browser to one or the other shard:
								</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
											Use the <code class="literal">oc scale</code> command to reduce replicas of <code class="literal">ab-example-a</code> to <code class="literal">0</code>.
										</p><pre class="programlisting language-terminal">$ oc scale dc/ab-example-a --replicas=0</pre><p class="simpara">
											Refresh your browser to show <code class="literal">v2</code> and <code class="literal">shard B</code> (in red).
										</p></li><li class="listitem"><p class="simpara">
											Scale <code class="literal">ab-example-a</code> to <code class="literal">1</code> replica and <code class="literal">ab-example-b</code> to <code class="literal">0</code>:
										</p><pre class="programlisting language-terminal">$ oc scale dc/ab-example-a --replicas=1; oc scale dc/ab-example-b --replicas=0</pre><p class="simpara">
											Refresh your browser to show <code class="literal">v1</code> and <code class="literal">shard A</code> (in blue).
										</p></li></ol></div></li><li class="listitem"><p class="simpara">
									If you trigger a deployment on either shard, only the pods in that shard are affected. You can trigger a deployment by changing the <code class="literal">SUBTITLE</code> environment variable in either <code class="literal">Deployment</code> object:
								</p><pre class="programlisting language-terminal">$ oc edit dc/ab-example-a</pre><p class="simpara">
									or
								</p><pre class="programlisting language-terminal">$ oc edit dc/ab-example-b</pre></li></ol></div></section></section></section></section></section><section class="chapter" id="quotas"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Quotas</h1></div></div></div><section class="section" id="quotas-setting-per-project"><div class="titlepage"><div><div><h2 class="title">9.1. Resource quotas per project</h2></div></div></div><p>
				A <span class="emphasis"><em>resource quota</em></span>, defined by a <code class="literal">ResourceQuota</code> object, provides constraints that limit aggregate resource consumption per project. It can limit the quantity of objects that can be created in a project by type, as well as the total amount of compute resources and storage that might be consumed by resources in that project.
			</p><p>
				This guide describes how resource quotas work, how cluster administrators can set and manage resource quotas on a per project basis, and how developers and cluster administrators can view them.
			</p><section class="section" id="quotas-resources-managed_quotas-setting-per-project"><div class="titlepage"><div><div><h3 class="title">9.1.1. Resources managed by quotas</h3></div></div></div><p>
					The following describes the set of compute resources and object types that can be managed by a quota.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						A pod is in a terminal state if <code class="literal">status.phase in (Failed, Succeeded)</code> is true.
					</p></div></div><div class="table" id="idm140419011818304"><p class="title"><strong>Table 9.1. Compute resources managed by quota</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 27%; " class="col_1"><!--Empty--></col><col style="width: 73%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419011813456" scope="col">Resource Name</th><th align="left" valign="top" id="idm140419011812368" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419011813456"> <p>
									<code class="literal">cpu</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419011812368"> <p>
									The sum of CPU requests across all pods in a non-terminal state cannot exceed this value. <code class="literal">cpu</code> and <code class="literal">requests.cpu</code> are the same value and can be used interchangeably.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419011813456"> <p>
									<code class="literal">memory</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419011812368"> <p>
									The sum of memory requests across all pods in a non-terminal state cannot exceed this value. <code class="literal">memory</code> and <code class="literal">requests.memory</code> are the same value and can be used interchangeably.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419011813456"> <p>
									<code class="literal">requests.cpu</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419011812368"> <p>
									The sum of CPU requests across all pods in a non-terminal state cannot exceed this value. <code class="literal">cpu</code> and <code class="literal">requests.cpu</code> are the same value and can be used interchangeably.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419011813456"> <p>
									<code class="literal">requests.memory</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419011812368"> <p>
									The sum of memory requests across all pods in a non-terminal state cannot exceed this value. <code class="literal">memory</code> and <code class="literal">requests.memory</code> are the same value and can be used interchangeably.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419011813456"> <p>
									<code class="literal">limits.cpu</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419011812368"> <p>
									The sum of CPU limits across all pods in a non-terminal state cannot exceed this value.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419011813456"> <p>
									<code class="literal">limits.memory</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419011812368"> <p>
									The sum of memory limits across all pods in a non-terminal state cannot exceed this value.
								</p>
								 </td></tr></tbody></table></div></div><div class="table" id="idm140419010392448"><p class="title"><strong>Table 9.2. Storage resources managed by quota</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 27%; " class="col_1"><!--Empty--></col><col style="width: 73%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419010387600" scope="col">Resource Name</th><th align="left" valign="top" id="idm140419010386512" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419010387600"> <p>
									<code class="literal">requests.storage</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010386512"> <p>
									The sum of storage requests across all persistent volume claims in any state cannot exceed this value.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010387600"> <p>
									<code class="literal">persistentvolumeclaims</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010386512"> <p>
									The total number of persistent volume claims that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010387600"> <p>
									<code class="literal">&lt;storage-class-name&gt;.storageclass.storage.k8s.io/requests.storage</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010386512"> <p>
									The sum of storage requests across all persistent volume claims in any state that have a matching storage class, cannot exceed this value.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010387600"> <p>
									<code class="literal">&lt;storage-class-name&gt;.storageclass.storage.k8s.io/persistentvolumeclaims</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010386512"> <p>
									The total number of persistent volume claims with a matching storage class that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010387600"> <p>
									<code class="literal">ephemeral-storage</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010386512"> <p>
									The sum of local ephemeral storage requests across all pods in a non-terminal state cannot exceed this value. <code class="literal">ephemeral-storage</code> and <code class="literal">requests.ephemeral-storage</code> are the same value and can be used interchangeably.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010387600"> <p>
									<code class="literal">requests.ephemeral-storage</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010386512"> <p>
									The sum of ephemeral storage requests across all pods in a non-terminal state cannot exceed this value. <code class="literal">ephemeral-storage</code> and <code class="literal">requests.ephemeral-storage</code> are the same value and can be used interchangeably.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419010387600"> <p>
									<code class="literal">limits.ephemeral-storage</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419010386512"> <p>
									The sum of ephemeral storage limits across all pods in a non-terminal state cannot exceed this value.
								</p>
								 </td></tr></tbody></table></div></div><div class="table" id="quotas-object-counts-managed_quotas-setting-per-project"><p class="title"><strong>Table 9.3. Object counts managed by quota</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 27%; " class="col_1"><!--Empty--></col><col style="width: 73%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419014241200" scope="col">Resource Name</th><th align="left" valign="top" id="idm140419014240112" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">pods</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of pods in a non-terminal state that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">replicationcontrollers</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of ReplicationControllers that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">resourcequotas</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of resource quotas that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">services</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of services that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">services.loadbalancers</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of services of type <code class="literal">LoadBalancer</code> that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">services.nodeports</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of services of type <code class="literal">NodePort</code> that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">secrets</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of secrets that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">configmaps</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of <code class="literal">ConfigMap</code> objects that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">persistentvolumeclaims</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of persistent volume claims that can exist in the project.
								</p>
								 </td></tr><tr><td align="left" valign="top" headers="idm140419014241200"> <p>
									<code class="literal">openshift.io/imagestreams</code>
								</p>
								 </td><td align="left" valign="top" headers="idm140419014240112"> <p>
									The total number of imagestreams that can exist in the project.
								</p>
								 </td></tr></tbody></table></div></div></section><section class="section" id="quotas-scopes_quotas-setting-per-project"><div class="titlepage"><div><div><h3 class="title">9.1.2. Quota scopes</h3></div></div></div><p>
					Each quota can have an associated set of <span class="emphasis"><em>scopes</em></span>. A quota only measures usage for a resource if it matches the intersection of enumerated scopes.
				</p><p>
					Adding a scope to a quota restricts the set of resources to which that quota can apply. Specifying a resource outside of the allowed set results in a validation error.
				</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><tbody><tr><td align="left" valign="top"> <p>
									Scope
								</p>
								 </td><td align="left" valign="top"> <p>
									Description
								</p>
								 </td></tr><tr><td align="left" valign="top"> <p>
									<code class="literal">BestEffort</code>
								</p>
								 </td><td align="left" valign="top"> <p>
									Match pods that have best effort quality of service for either <code class="literal">cpu</code> or <code class="literal">memory</code>.
								</p>
								 </td></tr><tr><td align="left" valign="top"> <p>
									<code class="literal">NotBestEffort</code>
								</p>
								 </td><td align="left" valign="top"> <p>
									Match pods that do not have best effort quality of service for <code class="literal">cpu</code> and <code class="literal">memory</code>.
								</p>
								 </td></tr></tbody></table></div><p>
					A <code class="literal">BestEffort</code> scope restricts a quota to limiting the following resources:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">pods</code>
						</li></ul></div><p>
					A <code class="literal">NotBestEffort</code> scope restricts a quota to tracking the following resources:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">pods</code>
						</li><li class="listitem">
							<code class="literal">memory</code>
						</li><li class="listitem">
							<code class="literal">requests.memory</code>
						</li><li class="listitem">
							<code class="literal">limits.memory</code>
						</li><li class="listitem">
							<code class="literal">cpu</code>
						</li><li class="listitem">
							<code class="literal">requests.cpu</code>
						</li><li class="listitem">
							<code class="literal">limits.cpu</code>
						</li></ul></div></section><section class="section" id="quota-enforcement_quotas-setting-per-project"><div class="titlepage"><div><div><h3 class="title">9.1.3. Quota enforcement</h3></div></div></div><p>
					After a resource quota for a project is first created, the project restricts the ability to create any new resources that may violate a quota constraint until it has calculated updated usage statistics.
				</p><p>
					After a quota is created and usage statistics are updated, the project accepts the creation of new content. When you create or modify resources, your quota usage is incremented immediately upon the request to create or modify the resource.
				</p><p>
					When you delete a resource, your quota use is decremented during the next full recalculation of quota statistics for the project. A configurable amount of time determines how long it takes to reduce quota usage statistics to their current observed system value.
				</p><p>
					If project modifications exceed a quota usage limit, the server denies the action, and an appropriate error message is returned to the user explaining the quota constraint violated, and what their currently observed usage statistics are in the system.
				</p></section><section class="section" id="quotas-requests-vs-limits_quotas-setting-per-project"><div class="titlepage"><div><div><h3 class="title">9.1.4. Requests versus limits</h3></div></div></div><p>
					When allocating compute resources, each container might specify a request and a limit value each for CPU, memory, and ephemeral storage. Quotas can restrict any of these values.
				</p><p>
					If the quota has a value specified for <code class="literal">requests.cpu</code> or <code class="literal">requests.memory</code>, then it requires that every incoming container make an explicit request for those resources. If the quota has a value specified for <code class="literal">limits.cpu</code> or <code class="literal">limits.memory</code>, then it requires that every incoming container specify an explicit limit for those resources.
				</p></section><section class="section" id="quotas-sample-resource-quota-definitions_quotas-setting-per-project"><div class="titlepage"><div><div><h3 class="title">9.1.5. Sample resource quota definitions</h3></div></div></div><div class="formalpara"><p class="title"><strong><code class="literal">core-object-counts.yaml</code></strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ResourceQuota
metadata:
  name: core-object-counts
spec:
  hard:
    configmaps: "10" <span id="CO26-1"><!--Empty--></span><span class="callout">1</span>
    persistentvolumeclaims: "4" <span id="CO26-2"><!--Empty--></span><span class="callout">2</span>
    replicationcontrollers: "20" <span id="CO26-3"><!--Empty--></span><span class="callout">3</span>
    secrets: "10" <span id="CO26-4"><!--Empty--></span><span class="callout">4</span>
    services: "10" <span id="CO26-5"><!--Empty--></span><span class="callout">5</span>
    services.loadbalancers: "2" <span id="CO26-6"><!--Empty--></span><span class="callout">6</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO26-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The total number of <code class="literal">ConfigMap</code> objects that can exist in the project.
						</div></dd><dt><a href="#CO26-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							The total number of persistent volume claims (PVCs) that can exist in the project.
						</div></dd><dt><a href="#CO26-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							The total number of replication controllers that can exist in the project.
						</div></dd><dt><a href="#CO26-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							The total number of secrets that can exist in the project.
						</div></dd><dt><a href="#CO26-5"><span class="callout">5</span></a> </dt><dd><div class="para">
							The total number of services that can exist in the project.
						</div></dd><dt><a href="#CO26-6"><span class="callout">6</span></a> </dt><dd><div class="para">
							The total number of services of type <code class="literal">LoadBalancer</code> that can exist in the project.
						</div></dd></dl></div><div class="formalpara"><p class="title"><strong><code class="literal">openshift-object-counts.yaml</code></strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ResourceQuota
metadata:
  name: openshift-object-counts
spec:
  hard:
    openshift.io/imagestreams: "10" <span id="CO27-1"><!--Empty--></span><span class="callout">1</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO27-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The total number of image streams that can exist in the project.
						</div></dd></dl></div><div class="formalpara"><p class="title"><strong><code class="literal">compute-resources.yaml</code></strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ResourceQuota
metadata:
  name: compute-resources
spec:
  hard:
    pods: "4" <span id="CO28-1"><!--Empty--></span><span class="callout">1</span>
    requests.cpu: "1" <span id="CO28-2"><!--Empty--></span><span class="callout">2</span>
    requests.memory: 1Gi <span id="CO28-3"><!--Empty--></span><span class="callout">3</span>
    limits.cpu: "2" <span id="CO28-4"><!--Empty--></span><span class="callout">4</span>
    limits.memory: 2Gi <span id="CO28-5"><!--Empty--></span><span class="callout">5</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO28-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The total number of pods in a non-terminal state that can exist in the project.
						</div></dd><dt><a href="#CO28-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Across all pods in a non-terminal state, the sum of CPU requests cannot exceed 1 core.
						</div></dd><dt><a href="#CO28-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							Across all pods in a non-terminal state, the sum of memory requests cannot exceed 1Gi.
						</div></dd><dt><a href="#CO28-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							Across all pods in a non-terminal state, the sum of CPU limits cannot exceed 2 cores.
						</div></dd><dt><a href="#CO28-5"><span class="callout">5</span></a> </dt><dd><div class="para">
							Across all pods in a non-terminal state, the sum of memory limits cannot exceed 2Gi.
						</div></dd></dl></div><div class="formalpara"><p class="title"><strong><code class="literal">besteffort.yaml</code></strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ResourceQuota
metadata:
  name: besteffort
spec:
  hard:
    pods: "1" <span id="CO29-1"><!--Empty--></span><span class="callout">1</span>
  scopes:
  - BestEffort <span id="CO29-2"><!--Empty--></span><span class="callout">2</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO29-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The total number of pods in a non-terminal state with <code class="literal">BestEffort</code> quality of service that can exist in the project.
						</div></dd><dt><a href="#CO29-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Restricts the quota to only matching pods that have <code class="literal">BestEffort</code> quality of service for either memory or CPU.
						</div></dd></dl></div><div class="formalpara"><p class="title"><strong><code class="literal">compute-resources-long-running.yaml</code></strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ResourceQuota
metadata:
  name: compute-resources-long-running
spec:
  hard:
    pods: "4" <span id="CO30-1"><!--Empty--></span><span class="callout">1</span>
    limits.cpu: "4" <span id="CO30-2"><!--Empty--></span><span class="callout">2</span>
    limits.memory: "2Gi" <span id="CO30-3"><!--Empty--></span><span class="callout">3</span>
  scopes:
  - NotTerminating <span id="CO30-4"><!--Empty--></span><span class="callout">4</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO30-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The total number of pods in a non-terminal state.
						</div></dd><dt><a href="#CO30-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Across all pods in a non-terminal state, the sum of CPU limits cannot exceed this value.
						</div></dd><dt><a href="#CO30-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							Across all pods in a non-terminal state, the sum of memory limits cannot exceed this value.
						</div></dd><dt><a href="#CO30-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							Restricts the quota to only matching pods where <code class="literal">spec.activeDeadlineSeconds</code> is set to <code class="literal">nil</code>. Build pods fall under <code class="literal">NotTerminating</code> unless the <code class="literal">RestartNever</code> policy is applied.
						</div></dd></dl></div><div class="formalpara"><p class="title"><strong><code class="literal">compute-resources-time-bound.yaml</code></strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ResourceQuota
metadata:
  name: compute-resources-time-bound
spec:
  hard:
    pods: "2" <span id="CO31-1"><!--Empty--></span><span class="callout">1</span>
    limits.cpu: "1" <span id="CO31-2"><!--Empty--></span><span class="callout">2</span>
    limits.memory: "1Gi" <span id="CO31-3"><!--Empty--></span><span class="callout">3</span>
  scopes:
  - Terminating <span id="CO31-4"><!--Empty--></span><span class="callout">4</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO31-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The total number of pods in a terminating state.
						</div></dd><dt><a href="#CO31-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Across all pods in a terminating state, the sum of CPU limits cannot exceed this value.
						</div></dd><dt><a href="#CO31-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							Across all pods in a terminating state, the sum of memory limits cannot exceed this value.
						</div></dd><dt><a href="#CO31-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							Restricts the quota to only matching pods where <code class="literal">spec.activeDeadlineSeconds &gt;=0</code>. For example, this quota charges for build or deployer pods, but not long running pods like a web server or database.
						</div></dd></dl></div><div class="formalpara"><p class="title"><strong><code class="literal">storage-consumption.yaml</code></strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ResourceQuota
metadata:
  name: storage-consumption
spec:
  hard:
    persistentvolumeclaims: "10" <span id="CO32-1"><!--Empty--></span><span class="callout">1</span>
    requests.storage: "50Gi" <span id="CO32-2"><!--Empty--></span><span class="callout">2</span>
    gold.storageclass.storage.k8s.io/requests.storage: "10Gi" <span id="CO32-3"><!--Empty--></span><span class="callout">3</span>
    silver.storageclass.storage.k8s.io/requests.storage: "20Gi" <span id="CO32-4"><!--Empty--></span><span class="callout">4</span>
    silver.storageclass.storage.k8s.io/persistentvolumeclaims: "5" <span id="CO32-5"><!--Empty--></span><span class="callout">5</span>
    bronze.storageclass.storage.k8s.io/requests.storage: "0" <span id="CO32-6"><!--Empty--></span><span class="callout">6</span>
    bronze.storageclass.storage.k8s.io/persistentvolumeclaims: "0" <span id="CO32-7"><!--Empty--></span><span class="callout">7</span>
    requests.ephemeral-storage: 2Gi <span id="CO32-8"><!--Empty--></span><span class="callout">8</span>
    limits.ephemeral-storage: 4Gi <span id="CO32-9"><!--Empty--></span><span class="callout">9</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO32-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							The total number of persistent volume claims in a project
						</div></dd><dt><a href="#CO32-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Across all persistent volume claims in a project, the sum of storage requested cannot exceed this value.
						</div></dd><dt><a href="#CO32-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							Across all persistent volume claims in a project, the sum of storage requested in the gold storage class cannot exceed this value.
						</div></dd><dt><a href="#CO32-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							Across all persistent volume claims in a project, the sum of storage requested in the silver storage class cannot exceed this value.
						</div></dd><dt><a href="#CO32-5"><span class="callout">5</span></a> </dt><dd><div class="para">
							Across all persistent volume claims in a project, the total number of claims in the silver storage class cannot exceed this value.
						</div></dd><dt><a href="#CO32-6"><span class="callout">6</span></a> </dt><dd><div class="para">
							Across all persistent volume claims in a project, the sum of storage requested in the bronze storage class cannot exceed this value. When this is set to <code class="literal">0</code>, it means bronze storage class cannot request storage.
						</div></dd><dt><a href="#CO32-7"><span class="callout">7</span></a> </dt><dd><div class="para">
							Across all persistent volume claims in a project, the sum of storage requested in the bronze storage class cannot exceed this value. When this is set to <code class="literal">0</code>, it means bronze storage class cannot create claims.
						</div></dd><dt><a href="#CO32-8"><span class="callout">8</span></a> </dt><dd><div class="para">
							Across all pods in a non-terminal state, the sum of ephemeral storage requests cannot exceed 2Gi.
						</div></dd><dt><a href="#CO32-9"><span class="callout">9</span></a> </dt><dd><div class="para">
							Across all pods in a non-terminal state, the sum of ephemeral storage limits cannot exceed 4Gi.
						</div></dd></dl></div></section><section class="section" id="quotas-creating-a-quota_quotas-setting-per-project"><div class="titlepage"><div><div><h3 class="title">9.1.6. Creating a quota</h3></div></div></div><p>
					You can create a quota to constrain resource usage in a given project.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Define the quota in a file.
						</li><li class="listitem"><p class="simpara">
							Use the file to create the quota and apply it to a project:
						</p><pre class="programlisting language-terminal">$ oc create -f &lt;file&gt; [-n &lt;project_name&gt;]</pre><p class="simpara">
							For example:
						</p><pre class="programlisting language-terminal">$ oc create -f core-object-counts.yaml -n demoproject</pre></li></ol></div><section class="section" id="quota-creating-object-count-quotas_quotas-setting-per-project"><div class="titlepage"><div><div><h4 class="title">9.1.6.1. Creating object count quotas</h4></div></div></div><p>
						You can create an object count quota for all standard namespaced resource types on OpenShift Container Platform, such as <code class="literal">BuildConfig</code> and <code class="literal">DeploymentConfig</code> objects. An object quota count places a defined quota on all standard namespaced resource types.
					</p><p>
						When using a resource quota, an object is charged against the quota upon creation. These types of quotas are useful to protect against exhaustion of resources. The quota can only be created if there are enough spare resources within the project.
					</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
							To configure an object count quota for a resource:
						</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Run the following command:
							</p><pre class="programlisting language-terminal">$ oc create quota &lt;name&gt; \
    --hard=count/&lt;resource&gt;.&lt;group&gt;=&lt;quota&gt;,count/&lt;resource&gt;.&lt;group&gt;=&lt;quota&gt; <span id="CO33-1"><!--Empty--></span><span class="callout">1</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO33-1"><span class="callout">1</span></a> </dt><dd><div class="para">
										The <code class="literal">&lt;resource&gt;</code> variable is the name of the resource, and <code class="literal">&lt;group&gt;</code> is the API group, if applicable. Use the <code class="literal">oc api-resources</code> command for a list of resources and their associated API groups.
									</div></dd></dl></div><p class="simpara">
								For example:
							</p><pre class="programlisting language-terminal">$ oc create quota test \
    --hard=count/deployments.extensions=2,count/replicasets.extensions=4,count/pods=3,count/secrets=4</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">resourcequota "test" created</pre>

								</p></div><p class="simpara">
								This example limits the listed resources to the hard limit in each project in the cluster.
							</p></li><li class="listitem"><p class="simpara">
								Verify that the quota was created:
							</p><pre class="programlisting language-terminal">$ oc describe quota test</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">Name:                         test
Namespace:                    quota
Resource                      Used  Hard
--------                      ----  ----
count/deployments.extensions  0     2
count/pods                    0     3
count/replicasets.extensions  0     4
count/secrets                 0     4</pre>

								</p></div></li></ol></div></section><section class="section" id="setting-resource-quota-for-extended-resources_quotas-setting-per-project"><div class="titlepage"><div><div><h4 class="title">9.1.6.2. Setting resource quota for extended resources</h4></div></div></div><p>
						Overcommitment of resources is not allowed for extended resources, so you must specify <code class="literal">requests</code> and <code class="literal">limits</code> for the same extended resource in a quota. Currently, only quota items with the prefix <code class="literal">requests.</code> is allowed for extended resources. The following is an example scenario of how to set resource quota for the GPU resource <code class="literal">nvidia.com/gpu</code>.
					</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Determine how many GPUs are available on a node in your cluster. For example:
							</p><pre class="programlisting language-terminal"># oc describe node ip-172-31-27-209.us-west-2.compute.internal | egrep 'Capacity|Allocatable|gpu'</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">                    openshift.com/gpu-accelerator=true
Capacity:
 nvidia.com/gpu:  2
Allocatable:
 nvidia.com/gpu:  2
  nvidia.com/gpu  0           0</pre>

								</p></div><p class="simpara">
								In this example, 2 GPUs are available.
							</p></li><li class="listitem"><p class="simpara">
								Set a quota in the namespace <code class="literal">nvidia</code>. In this example, the quota is <code class="literal">1</code>:
							</p><pre class="programlisting language-terminal"># cat gpu-quota.yaml</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">apiVersion: v1
kind: ResourceQuota
metadata:
  name: gpu-quota
  namespace: nvidia
spec:
  hard:
    requests.nvidia.com/gpu: 1</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Create the quota:
							</p><pre class="programlisting language-terminal"># oc create -f gpu-quota.yaml</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">resourcequota/gpu-quota created</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Verify that the namespace has the correct quota set:
							</p><pre class="programlisting language-terminal"># oc describe quota gpu-quota -n nvidia</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">Name:                    gpu-quota
Namespace:               nvidia
Resource                 Used  Hard
--------                 ----  ----
requests.nvidia.com/gpu  0     1</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Define a pod that asks for a single GPU. The following example definition file is called <code class="literal">gpu-pod.yaml</code>:
							</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  generateName: gpu-pod-
  namespace: nvidia
spec:
  restartPolicy: OnFailure
  containers:
  - name: rhel7-gpu-pod
    image: rhel7
    env:
      - name: NVIDIA_VISIBLE_DEVICES
        value: all
      - name: NVIDIA_DRIVER_CAPABILITIES
        value: "compute,utility"
      - name: NVIDIA_REQUIRE_CUDA
        value: "cuda&gt;=5.0"
    command: ["sleep"]
    args: ["infinity"]
    resources:
      limits:
        nvidia.com/gpu: 1</pre></li><li class="listitem"><p class="simpara">
								Create the pod:
							</p><pre class="programlisting language-terminal"># oc create -f gpu-pod.yaml</pre></li><li class="listitem"><p class="simpara">
								Verify that the pod is running:
							</p><pre class="programlisting language-terminal"># oc get pods</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">NAME              READY     STATUS      RESTARTS   AGE
gpu-pod-s46h7     1/1       Running     0          1m</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Verify that the quota <code class="literal">Used</code> counter is correct:
							</p><pre class="programlisting language-terminal"># oc describe quota gpu-quota -n nvidia</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">Name:                    gpu-quota
Namespace:               nvidia
Resource                 Used  Hard
--------                 ----  ----
requests.nvidia.com/gpu  1     1</pre>

								</p></div></li><li class="listitem"><p class="simpara">
								Attempt to create a second GPU pod in the <code class="literal">nvidia</code> namespace. This is technically available on the node because it has 2 GPUs:
							</p><pre class="programlisting language-terminal"># oc create -f gpu-pod.yaml</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
									
<pre class="programlisting language-terminal">Error from server (Forbidden): error when creating "gpu-pod.yaml": pods "gpu-pod-f7z2w" is forbidden: exceeded quota: gpu-quota, requested: requests.nvidia.com/gpu=1, used: requests.nvidia.com/gpu=1, limited: requests.nvidia.com/gpu=1</pre>

								</p></div><p class="simpara">
								This <span class="strong strong"><strong>Forbidden</strong></span> error message is expected because you have a quota of 1 GPU and this pod tried to allocate a second GPU, which exceeds its quota.
							</p></li></ol></div></section></section><section class="section" id="quota-viewing-quotas_quotas-setting-per-project"><div class="titlepage"><div><div><h3 class="title">9.1.7. Viewing a quota</h3></div></div></div><p>
					You can view usage statistics related to any hard limits defined in a project’s quota by navigating in the web console to the project’s <span class="strong strong"><strong>Quota</strong></span> page.
				</p><p>
					You can also use the CLI to view quota details.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Get the list of quotas defined in the project. For example, for a project called <code class="literal">demoproject</code>:
						</p><pre class="programlisting language-terminal">$ oc get quota -n demoproject</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">NAME                AGE
besteffort          11m
compute-resources   2m
core-object-counts  29m</pre>

							</p></div></li><li class="listitem"><p class="simpara">
							Describe the quota you are interested in, for example the <code class="literal">core-object-counts</code> quota:
						</p><pre class="programlisting language-terminal">$ oc describe quota core-object-counts -n demoproject</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">Name:			core-object-counts
Namespace:		demoproject
Resource		Used	Hard
--------		----	----
configmaps		3	10
persistentvolumeclaims	0	4
replicationcontrollers	3	20
secrets			9	10
services		2	10</pre>

							</p></div></li></ol></div></section><section class="section" id="configuring-explicit-resource-quotas_quotas-setting-per-project"><div class="titlepage"><div><div><h3 class="title">9.1.8. Configuring explicit resource quotas</h3></div></div></div><p>
					Configure explicit resource quotas in a project request template to apply specific resource quotas in new projects.
				</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
							Access to the cluster as a user with the cluster-admin role.
						</li><li class="listitem">
							Install the OpenShift CLI (<code class="literal">oc</code>).
						</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Add a resource quota definition to a project request template:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
									If a project request template does not exist in a cluster:
								</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
											Create a bootstrap project template and output it to a file called <code class="literal">template.yaml</code>:
										</p><pre class="programlisting language-terminal">$ oc adm create-bootstrap-project-template -o yaml &gt; template.yaml</pre></li><li class="listitem"><p class="simpara">
											Add a resource quota definition to <code class="literal">template.yaml</code>. The following example defines a resource quota named 'storage-consumption'. The definition must be added before the <code class="literal">parameters:</code> section in the template:
										</p><pre class="programlisting language-yaml">- apiVersion: v1
  kind: ResourceQuota
  metadata:
    name: storage-consumption
    namespace: ${PROJECT_NAME}
  spec:
    hard:
      persistentvolumeclaims: "10" <span id="CO34-1"><!--Empty--></span><span class="callout">1</span>
      requests.storage: "50Gi" <span id="CO34-2"><!--Empty--></span><span class="callout">2</span>
      gold.storageclass.storage.k8s.io/requests.storage: "10Gi" <span id="CO34-3"><!--Empty--></span><span class="callout">3</span>
      silver.storageclass.storage.k8s.io/requests.storage: "20Gi" <span id="CO34-4"><!--Empty--></span><span class="callout">4</span>
      silver.storageclass.storage.k8s.io/persistentvolumeclaims: "5" <span id="CO34-5"><!--Empty--></span><span class="callout">5</span>
      bronze.storageclass.storage.k8s.io/requests.storage: "0" <span id="CO34-6"><!--Empty--></span><span class="callout">6</span>
      bronze.storageclass.storage.k8s.io/persistentvolumeclaims: "0" <span id="CO34-7"><!--Empty--></span><span class="callout">7</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO34-1"><span class="callout">1</span></a> </dt><dd><div class="para">
													The total number of persistent volume claims in a project.
												</div></dd><dt><a href="#CO34-2"><span class="callout">2</span></a> </dt><dd><div class="para">
													Across all persistent volume claims in a project, the sum of storage requested cannot exceed this value.
												</div></dd><dt><a href="#CO34-3"><span class="callout">3</span></a> </dt><dd><div class="para">
													Across all persistent volume claims in a project, the sum of storage requested in the gold storage class cannot exceed this value.
												</div></dd><dt><a href="#CO34-4"><span class="callout">4</span></a> </dt><dd><div class="para">
													Across all persistent volume claims in a project, the sum of storage requested in the silver storage class cannot exceed this value.
												</div></dd><dt><a href="#CO34-5"><span class="callout">5</span></a> </dt><dd><div class="para">
													Across all persistent volume claims in a project, the total number of claims in the silver storage class cannot exceed this value.
												</div></dd><dt><a href="#CO34-6"><span class="callout">6</span></a> </dt><dd><div class="para">
													Across all persistent volume claims in a project, the sum of storage requested in the bronze storage class cannot exceed this value. When this value is set to <code class="literal">0</code>, the bronze storage class cannot request storage.
												</div></dd><dt><a href="#CO34-7"><span class="callout">7</span></a> </dt><dd><div class="para">
													Across all persistent volume claims in a project, the sum of storage requested in the bronze storage class cannot exceed this value. When this value is set to <code class="literal">0</code>, the bronze storage class cannot create claims.
												</div></dd></dl></div></li><li class="listitem"><p class="simpara">
											Create a project request template from the modified <code class="literal">template.yaml</code> file in the <code class="literal">openshift-config</code> namespace:
										</p><pre class="programlisting language-terminal">$ oc create -f template.yaml -n openshift-config</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
												To include the configuration as a <code class="literal">kubectl.kubernetes.io/last-applied-configuration</code> annotation, add the <code class="literal">--save-config</code> option to the <code class="literal">oc create</code> command.
											</p></div></div><p class="simpara">
											By default, the template is called <code class="literal">project-request</code>.
										</p></li></ol></div></li><li class="listitem"><p class="simpara">
									If a project request template already exists within a cluster:
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If you declaratively or imperatively manage objects within your cluster by using configuration files, edit the existing project request template through those files instead.
									</p></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
											List templates in the <code class="literal">openshift-config</code> namespace:
										</p><pre class="programlisting language-terminal">$ oc get templates -n openshift-config</pre></li><li class="listitem"><p class="simpara">
											Edit an existing project request template:
										</p><pre class="programlisting language-terminal">$ oc edit template &lt;project_request_template&gt; -n openshift-config</pre></li><li class="listitem">
											Add a resource quota definition, such as the preceding <code class="literal">storage-consumption</code> example, into the existing template. The definition must be added before the <code class="literal">parameters:</code> section in the template.
										</li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
							If you created a project request template, reference it in the cluster’s project configuration resource:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Access the project configuration resource for editing:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
											By using the web console:
										</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
													Navigate to the <span class="strong strong"><strong>Administration</strong></span> → <span class="strong strong"><strong>Cluster Settings</strong></span> page.
												</li><li class="listitem">
													Click <span class="strong strong"><strong>Configuration</strong></span> to view all configuration resources.
												</li><li class="listitem">
													Find the entry for <span class="strong strong"><strong>Project</strong></span> and click <span class="strong strong"><strong>Edit YAML</strong></span>.
												</li></ol></div></li><li class="listitem"><p class="simpara">
											By using the CLI:
										</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem"><p class="simpara">
													Edit the <code class="literal">project.config.openshift.io/cluster</code> resource:
												</p><pre class="programlisting language-terminal">$ oc edit project.config.openshift.io/cluster</pre></li></ol></div></li></ul></div></li><li class="listitem"><p class="simpara">
									Update the <code class="literal">spec</code> section of the project configuration resource to include the <code class="literal">projectRequestTemplate</code> and <code class="literal">name</code> parameters. The following example references the default project request template name <code class="literal">project-request</code>:
								</p><pre class="programlisting language-yaml">apiVersion: config.openshift.io/v1
kind: Project
metadata:
  ...
spec:
  projectRequestTemplate:
    name: project-request</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Verify that the resource quota is applied when projects are created:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create a project:
								</p><pre class="programlisting language-terminal">$ oc new-project &lt;project_name&gt;</pre></li><li class="listitem"><p class="simpara">
									List the project’s resource quotas:
								</p><pre class="programlisting language-terminal">$ oc get resourcequotas</pre></li><li class="listitem"><p class="simpara">
									Describe the resource quota in detail:
								</p><pre class="programlisting language-terminal">$ oc describe resourcequotas &lt;resource_quota_name&gt;</pre></li></ol></div></li></ol></div></section></section><section class="section" id="setting-quotas-across-multiple-projects"><div class="titlepage"><div><div><h2 class="title">9.2. Resource quotas across multiple projects</h2></div></div></div><p>
				A multi-project quota, defined by a <code class="literal">ClusterResourceQuota</code> object, allows quotas to be shared across multiple projects. Resources used in each selected project are aggregated and that aggregate is used to limit resources across all the selected projects.
			</p><p>
				This guide describes how cluster administrators can set and manage resource quotas across multiple projects.
			</p><section class="section" id="quotas-setting-projects_setting-quotas-across-multiple-projects"><div class="titlepage"><div><div><h3 class="title">9.2.1. Selecting multiple projects during quota creation</h3></div></div></div><p>
					When creating quotas, you can select multiple projects based on annotation selection, label selection, or both.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To select projects based on annotations, run the following command:
						</p><pre class="programlisting language-terminal">$ oc create clusterquota for-user \
     --project-annotation-selector openshift.io/requester=&lt;user_name&gt; \
     --hard pods=10 \
     --hard secrets=20</pre><p class="simpara">
							This creates the following <code class="literal">ClusterResourceQuota</code> object:
						</p><pre class="programlisting language-yaml">apiVersion: quota.openshift.io/v1
kind: ClusterResourceQuota
metadata:
  name: for-user
spec:
  quota: <span id="CO35-1"><!--Empty--></span><span class="callout">1</span>
    hard:
      pods: "10"
      secrets: "20"
  selector:
    annotations: <span id="CO35-2"><!--Empty--></span><span class="callout">2</span>
      openshift.io/requester: &lt;user_name&gt;
    labels: null <span id="CO35-3"><!--Empty--></span><span class="callout">3</span>
status:
  namespaces: <span id="CO35-4"><!--Empty--></span><span class="callout">4</span>
  - namespace: ns-one
    status:
      hard:
        pods: "10"
        secrets: "20"
      used:
        pods: "1"
        secrets: "9"
  total: <span id="CO35-5"><!--Empty--></span><span class="callout">5</span>
    hard:
      pods: "10"
      secrets: "20"
    used:
      pods: "1"
      secrets: "9"</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO35-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									The <code class="literal">ResourceQuotaSpec</code> object that will be enforced over the selected projects.
								</div></dd><dt><a href="#CO35-2"><span class="callout">2</span></a> </dt><dd><div class="para">
									A simple key-value selector for annotations.
								</div></dd><dt><a href="#CO35-3"><span class="callout">3</span></a> </dt><dd><div class="para">
									A label selector that can be used to select projects.
								</div></dd><dt><a href="#CO35-4"><span class="callout">4</span></a> </dt><dd><div class="para">
									A per-namespace map that describes current quota usage in each selected project.
								</div></dd><dt><a href="#CO35-5"><span class="callout">5</span></a> </dt><dd><div class="para">
									The aggregate usage across all selected projects.
								</div></dd></dl></div><p class="simpara">
							This multi-project quota document controls all projects requested by <code class="literal">&lt;user_name&gt;</code> using the default project request endpoint. You are limited to 10 pods and 20 secrets.
						</p></li><li class="listitem"><p class="simpara">
							Similarly, to select projects based on labels, run this command:
						</p><pre class="programlisting language-terminal">$  oc create clusterresourcequota for-name \<span id="CO36-1"><!--Empty--></span><span class="callout">1</span>
    --project-label-selector=name=frontend \<span id="CO36-2"><!--Empty--></span><span class="callout">2</span>
    --hard=pods=10 --hard=secrets=20</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO36-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Both <code class="literal">clusterresourcequota</code> and <code class="literal">clusterquota</code> are aliases of the same command. <code class="literal">for-name</code> is the name of the <code class="literal">ClusterResourceQuota</code> object.
								</div></dd><dt><a href="#CO36-2"><span class="callout">2</span></a> </dt><dd><div class="para">
									To select projects by label, provide a key-value pair by using the format <code class="literal">--project-label-selector=key=value</code>.
								</div></dd></dl></div><p class="simpara">
							This creates the following <code class="literal">ClusterResourceQuota</code> object definition:
						</p><pre class="programlisting language-yaml">apiVersion: quota.openshift.io/v1
kind: ClusterResourceQuota
metadata:
  creationTimestamp: null
  name: for-name
spec:
  quota:
    hard:
      pods: "10"
      secrets: "20"
  selector:
    annotations: null
    labels:
      matchLabels:
        name: frontend</pre></li></ol></div></section><section class="section" id="quotas-viewing-clusterresourcequotas_setting-quotas-across-multiple-projects"><div class="titlepage"><div><div><h3 class="title">9.2.2. Viewing applicable cluster resource quotas</h3></div></div></div><p>
					A project administrator is not allowed to create or modify the multi-project quota that limits his or her project, but the administrator is allowed to view the multi-project quota documents that are applied to his or her project. The project administrator can do this via the <code class="literal">AppliedClusterResourceQuota</code> resource.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To view quotas applied to a project, run:
						</p><pre class="programlisting language-terminal">$ oc describe AppliedClusterResourceQuota</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
								
<pre class="programlisting language-terminal">Name:   for-user
Namespace:  &lt;none&gt;
Created:  19 hours ago
Labels:   &lt;none&gt;
Annotations:  &lt;none&gt;
Label Selector: &lt;null&gt;
AnnotationSelector: map[openshift.io/requester:&lt;user-name&gt;]
Resource  Used  Hard
--------  ----  ----
pods        1     10
secrets     9     20</pre>

							</p></div></li></ol></div></section><section class="section" id="quotas-selection-granularity_setting-quotas-across-multiple-projects"><div class="titlepage"><div><div><h3 class="title">9.2.3. Selection granularity</h3></div></div></div><p>
					Because of the locking consideration when claiming quota allocations, the number of active projects selected by a multi-project quota is an important consideration. Selecting more than 100 projects under a single multi-project quota can have detrimental effects on API server responsiveness in those projects.
				</p></section></section></section><section class="chapter" id="config-maps"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Using config maps with applications</h1></div></div></div><p>
			Config maps allow you to decouple configuration artifacts from image content to keep containerized applications portable.
		</p><p>
			The following sections define config maps and how to create and use them.
		</p><p>
			For information on creating config maps, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/nodes/#creating-and-using-config-maps">Creating and using config maps</a>.
		</p><section class="section" id="nodes-pods-configmap-overview_config-maps"><div class="titlepage"><div><div><h2 class="title">10.1. Understanding config maps</h2></div></div></div><p>
				Many applications require configuration by using some combination of configuration files, command line arguments, and environment variables. In OpenShift Container Platform, these configuration artifacts are decoupled from image content to keep containerized applications portable.
			</p><p>
				The <code class="literal">ConfigMap</code> object provides mechanisms to inject containers with configuration data while keeping containers agnostic of OpenShift Container Platform. A config map can be used to store fine-grained information like individual properties or coarse-grained information like entire configuration files or JSON blobs.
			</p><p>
				The <code class="literal">ConfigMap</code> object holds key-value pairs of configuration data that can be consumed in pods or used to store configuration data for system components such as controllers. For example:
			</p><div class="formalpara"><p class="title"><strong><code class="literal">ConfigMap</code> Object Definition</strong></p><p>
					
<pre class="programlisting language-yaml">kind: ConfigMap
apiVersion: v1
metadata:
  creationTimestamp: 2016-02-18T19:14:38Z
  name: example-config
  namespace: my-namespace
data: <span id="CO37-1"><!--Empty--></span><span class="callout">1</span>
  example.property.1: hello
  example.property.2: world
  example.property.file: |-
    property.1=value-1
    property.2=value-2
    property.3=value-3
binaryData:
  bar: L3Jvb3QvMTAw <span id="CO37-2"><!--Empty--></span><span class="callout">2</span></pre>

				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO37-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						Contains the configuration data.
					</div></dd><dt><a href="#CO37-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						Points to a file that contains non-UTF8 data, for example, a binary Java keystore file. Enter the file data in Base 64.
					</div></dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can use the <code class="literal">binaryData</code> field when you create a config map from a binary file, such as an image.
				</p></div></div><p>
				Configuration data can be consumed in pods in a variety of ways. A config map can be used to:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Populate environment variable values in containers
					</li><li class="listitem">
						Set command-line arguments in a container
					</li><li class="listitem">
						Populate configuration files in a volume
					</li></ul></div><p>
				Users and system components can store configuration data in a config map.
			</p><p>
				A config map is similar to a secret, but designed to more conveniently support working with strings that do not contain sensitive information.
			</p><h4 id="config-map-restrictions">Config map restrictions</h4><p>
				<span class="strong strong"><strong>A config map must be created before its contents can be consumed in pods.</strong></span>
			</p><p>
				Controllers can be written to tolerate missing configuration data. Consult individual components configured by using config maps on a case-by-case basis.
			</p><p>
				<span class="strong strong"><strong><code class="literal">ConfigMap</code> objects reside in a project.</strong></span>
			</p><p>
				They can only be referenced by pods in the same project.
			</p><p>
				<span class="strong strong"><strong>The Kubelet only supports the use of a config map for pods it gets from the API server.</strong></span>
			</p><p>
				This includes any pods created by using the CLI, or indirectly from a replication controller. It does not include pods created by using the OpenShift Container Platform node’s <code class="literal">--manifest-url</code> flag, its <code class="literal">--config</code> flag, or its REST API because these are not common ways to create pods.
			</p></section><section class="section" id="nodes-pods-config-maps-consuming-configmap-in-pods"><div class="titlepage"><div><div><h2 class="title">10.2. Use cases: Consuming config maps in pods</h2></div></div></div><p>
				The following sections describe some uses cases when consuming <code class="literal">ConfigMap</code> objects in pods.
			</p><section class="section" id="nodes-pods-configmaps-use-case-consuming-in-env-vars_config-maps"><div class="titlepage"><div><div><h3 class="title">10.2.1. Populating environment variables in containers by using config maps</h3></div></div></div><p>
					You can use config maps to populate individual environment variables in containers or to populate environment variables in containers from all keys that form valid environment variable names.
				</p><p>
					As an example, consider the following config map:
				</p><div class="formalpara"><p class="title"><strong><code class="literal">ConfigMap</code> with two environment variables</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: special-config <span id="CO38-1"><!--Empty--></span><span class="callout">1</span>
  namespace: default <span id="CO38-2"><!--Empty--></span><span class="callout">2</span>
data:
  special.how: very <span id="CO38-3"><!--Empty--></span><span class="callout">3</span>
  special.type: charm <span id="CO38-4"><!--Empty--></span><span class="callout">4</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO38-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							Name of the config map.
						</div></dd><dt><a href="#CO38-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							The project in which the config map resides. Config maps can only be referenced by pods in the same project.
						</div></dd><dt><a href="#CO38-3"><span class="callout">3</span></a> <a href="#CO38-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							Environment variables to inject.
						</div></dd></dl></div><div class="formalpara"><p class="title"><strong><code class="literal">ConfigMap</code> with one environment variable</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: env-config <span id="CO39-1"><!--Empty--></span><span class="callout">1</span>
  namespace: default
data:
  log_level: INFO <span id="CO39-2"><!--Empty--></span><span class="callout">2</span></pre>

					</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO39-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							Name of the config map.
						</div></dd><dt><a href="#CO39-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Environment variable to inject.
						</div></dd></dl></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							You can consume the keys of this <code class="literal">ConfigMap</code> in a pod using <code class="literal">configMapKeyRef</code> sections.
						</p><div class="formalpara"><p class="title"><strong>Sample <code class="literal">Pod</code> specification configured to inject specific environment variables</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: dapi-test-pod
spec:
  containers:
    - name: test-container
      image: gcr.io/google_containers/busybox
      command: [ "/bin/sh", "-c", "env" ]
      env: <span id="CO40-1"><!--Empty--></span><span class="callout">1</span>
        - name: SPECIAL_LEVEL_KEY <span id="CO40-2"><!--Empty--></span><span class="callout">2</span>
          valueFrom:
            configMapKeyRef:
              name: special-config <span id="CO40-3"><!--Empty--></span><span class="callout">3</span>
              key: special.how <span id="CO40-4"><!--Empty--></span><span class="callout">4</span>
        - name: SPECIAL_TYPE_KEY
          valueFrom:
            configMapKeyRef:
              name: special-config <span id="CO40-5"><!--Empty--></span><span class="callout">5</span>
              key: special.type <span id="CO40-6"><!--Empty--></span><span class="callout">6</span>
              optional: true <span id="CO40-7"><!--Empty--></span><span class="callout">7</span>
      envFrom: <span id="CO40-8"><!--Empty--></span><span class="callout">8</span>
        - configMapRef:
            name: env-config <span id="CO40-9"><!--Empty--></span><span class="callout">9</span>
  restartPolicy: Never</pre>

							</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO40-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Stanza to pull the specified environment variables from a <code class="literal">ConfigMap</code>.
								</div></dd><dt><a href="#CO40-2"><span class="callout">2</span></a> </dt><dd><div class="para">
									Name of a pod environment variable that you are injecting a key’s value into.
								</div></dd><dt><a href="#CO40-3"><span class="callout">3</span></a> <a href="#CO40-5"><span class="callout">5</span></a> </dt><dd><div class="para">
									Name of the <code class="literal">ConfigMap</code> to pull specific environment variables from.
								</div></dd><dt><a href="#CO40-4"><span class="callout">4</span></a> <a href="#CO40-6"><span class="callout">6</span></a> </dt><dd><div class="para">
									Environment variable to pull from the <code class="literal">ConfigMap</code>.
								</div></dd><dt><a href="#CO40-7"><span class="callout">7</span></a> </dt><dd><div class="para">
									Makes the environment variable optional. As optional, the pod will be started even if the specified <code class="literal">ConfigMap</code> and keys do not exist.
								</div></dd><dt><a href="#CO40-8"><span class="callout">8</span></a> </dt><dd><div class="para">
									Stanza to pull all environment variables from a <code class="literal">ConfigMap</code>.
								</div></dd><dt><a href="#CO40-9"><span class="callout">9</span></a> </dt><dd><div class="para">
									Name of the <code class="literal">ConfigMap</code> to pull all environment variables from.
								</div></dd></dl></div><p class="simpara">
							When this pod is run, the pod logs will include the following output:
						</p><pre class="screen">SPECIAL_LEVEL_KEY=very
log_level=INFO</pre></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						<code class="literal">SPECIAL_TYPE_KEY=charm</code> is not listed in the example output because <code class="literal">optional: true</code> is set.
					</p></div></div></section><section class="section" id="nodes-pods-configmaps-use-case-setting-command-line-arguments_config-maps"><div class="titlepage"><div><div><h3 class="title">10.2.2. Setting command-line arguments for container commands with config maps</h3></div></div></div><p>
					You can use a config map to set the value of the commands or arguments in a container by using the Kubernetes substitution syntax <code class="literal">$(VAR_NAME)</code>.
				</p><p>
					As an example, consider the following config map:
				</p><pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: special-config
  namespace: default
data:
  special.how: very
  special.type: charm</pre><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To inject values into a command in a container, you must consume the keys you want to use as environment variables. Then you can refer to them in a container’s command using the <code class="literal">$(VAR_NAME)</code> syntax.
						</p><div class="formalpara"><p class="title"><strong>Sample pod specification configured to inject specific environment variables</strong></p><p>
								
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: dapi-test-pod
spec:
  containers:
    - name: test-container
      image: gcr.io/google_containers/busybox
      command: [ "/bin/sh", "-c", "echo $(SPECIAL_LEVEL_KEY) $(SPECIAL_TYPE_KEY)" ] <span id="CO41-1"><!--Empty--></span><span class="callout">1</span>
      env:
        - name: SPECIAL_LEVEL_KEY
          valueFrom:
            configMapKeyRef:
              name: special-config
              key: special.how
        - name: SPECIAL_TYPE_KEY
          valueFrom:
            configMapKeyRef:
              name: special-config
              key: special.type
  restartPolicy: Never</pre>

							</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO41-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Inject the values into a command in a container using the keys you want to use as environment variables.
								</div></dd></dl></div><p class="simpara">
							When this pod is run, the output from the echo command run in the test-container container is as follows:
						</p><pre class="screen">very charm</pre></li></ul></div></section><section class="section" id="nodes-pods-configmaps-use-case-consuming-in-volumes_config-maps"><div class="titlepage"><div><div><h3 class="title">10.2.3. Injecting content into a volume by using config maps</h3></div></div></div><p>
					You can inject content into a volume by using config maps.
				</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">ConfigMap</code> custom resource (CR)</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: special-config
  namespace: default
data:
  special.how: very
  special.type: charm</pre>

					</p></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
						You have a couple different options for injecting content into a volume by using config maps.
					</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							The most basic way to inject content into a volume by using a config map is to populate the volume with files where the key is the file name and the content of the file is the value of the key:
						</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: dapi-test-pod
spec:
  containers:
    - name: test-container
      image: gcr.io/google_containers/busybox
      command: [ "/bin/sh", "-c", "cat", "/etc/config/special.how" ]
      volumeMounts:
      - name: config-volume
        mountPath: /etc/config
  volumes:
    - name: config-volume
      configMap:
        name: special-config <span id="CO42-1"><!--Empty--></span><span class="callout">1</span>
  restartPolicy: Never</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO42-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									File containing key.
								</div></dd></dl></div><p class="simpara">
							When this pod is run, the output of the cat command will be:
						</p><pre class="screen">very</pre></li><li class="listitem"><p class="simpara">
							You can also control the paths within the volume where config map keys are projected:
						</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  name: dapi-test-pod
spec:
  containers:
    - name: test-container
      image: gcr.io/google_containers/busybox
      command: [ "/bin/sh", "-c", "cat", "/etc/config/path/to/special-key" ]
      volumeMounts:
      - name: config-volume
        mountPath: /etc/config
  volumes:
    - name: config-volume
      configMap:
        name: special-config
        items:
        - key: special.how
          path: path/to/special-key <span id="CO43-1"><!--Empty--></span><span class="callout">1</span>
  restartPolicy: Never</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO43-1"><span class="callout">1</span></a> </dt><dd><div class="para">
									Path to config map key.
								</div></dd></dl></div><p class="simpara">
							When this pod is run, the output of the cat command will be:
						</p><pre class="screen">very</pre></li></ul></div></section></section></section><section class="chapter" id="odc-monitoring-project-and-application-metrics-using-developer-perspective"><div class="titlepage"><div><div><h1 class="title">Chapter 11. Monitoring project and application metrics using the Developer perspective</h1></div></div></div><p>
			The <span class="strong strong"><strong>Observe</strong></span> view in the <span class="strong strong"><strong>Developer</strong></span> perspective provides options to monitor your project or application metrics, such as CPU, memory, and bandwidth usage, and network related information.
		</p><section class="section" id="prerequisites_odc-monitoring-project-and-application-metrics-using-developer-perspective"><div class="titlepage"><div><div><h2 class="title">11.1. Prerequisites</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">created and deployed applications on OpenShift Container Platform</a>.
					</li><li class="listitem">
						You have <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#web-console">logged in to the web console</a> and have switched to <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#about-developer-perspective_web-console-overview">the <span class="strong strong"><strong>Developer</strong></span> perspective</a>.
					</li></ul></div></section><section class="section" id="odc-monitoring-your-project-metrics_monitoring-project-and-application-metrics-using-developer-perspective"><div class="titlepage"><div><div><h2 class="title">11.2. Monitoring your project metrics</h2></div></div></div><p>
				After you create applications in your project and deploy them, you can use the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console to see the metrics for your project.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						On the left navigation panel of the <span class="strong strong"><strong>Developer</strong></span> perspective, click <span class="strong strong"><strong>Observe</strong></span> to see the <span class="strong strong"><strong>Dashboard</strong></span>, <span class="strong strong"><strong>Metrics</strong></span>, <span class="strong strong"><strong>Alerts</strong></span>, and <span class="strong strong"><strong>Events</strong></span> for your project.
					</li><li class="listitem"><p class="simpara">
						Optional: Use the <span class="strong strong"><strong>Dashboard</strong></span> tab to see graphs depicting the following application metrics:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								CPU usage
							</li><li class="listitem">
								Memory usage
							</li><li class="listitem">
								Bandwidth consumption
							</li><li class="listitem">
								Network-related information such as the rate of transmitted and received packets and the rate of dropped packets.
							</li></ul></div><p class="simpara">
						In the <span class="strong strong"><strong>Dashboard</strong></span> tab, you can access the Kubernetes compute resources dashboards.
					</p><div class="figure" id="idm140419011928672"><p class="title"><strong>Figure 11.1. Observe dashboard</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f6165c930ece94d274abd8d0cfc5d8c2/odc_observe_dashboard.png" alt="odc observe dashboard"/></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							In the <span class="strong strong"><strong>Dashboard</strong></span> list, <span class="strong strong"><strong>Kubernetes / Compute Resources / Namespace (Pods)</strong></span> dashboard is selected by default.
						</p></div></div><p class="simpara">
						Use the following options to see further details:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Select a dashboard from the <span class="strong strong"><strong>Dashboard</strong></span> list to see the filtered metrics. All dashboards produce additional sub-menus when selected, except <span class="strong strong"><strong>Kubernetes / Compute Resources / Namespace (Pods)</strong></span>.
							</li><li class="listitem">
								Select an option from the <span class="strong strong"><strong>Time Range</strong></span> list to determine the time frame for the data being captured.
							</li><li class="listitem">
								Set a custom time range by selecting <span class="strong strong"><strong>Custom time range</strong></span> from the <span class="strong strong"><strong>Time Range</strong></span> list. You can input or select the <span class="strong strong"><strong>From</strong></span> and <span class="strong strong"><strong>To</strong></span> dates and times. Click <span class="strong strong"><strong>Save</strong></span> to save the custom time range.
							</li><li class="listitem">
								Select an option from the <span class="strong strong"><strong>Refresh Interval</strong></span> list to determine the time period after which the data is refreshed.
							</li><li class="listitem">
								Hover your cursor over the graphs to see specific details for your pod.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Inspect</strong></span> located in the upper-right corner of every graph to see any particular graph details. The graph details appear in the <span class="strong strong"><strong>Metrics</strong></span> tab.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Optional: Use the <span class="strong strong"><strong>Metrics</strong></span> tab to query for the required project metric.
					</p><div class="figure" id="idm140419013136368"><p class="title"><strong>Figure 11.2. Monitoring metrics</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/03ae2e36d191aec745205be16294ef9b/odc_project_metrics.png" alt="odc project metrics"/></div></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In the <span class="strong strong"><strong>Select Query</strong></span> list, select an option to filter the required details for your project. The filtered metrics for all the application pods in your project are displayed in the graph. The pods in your project are also listed below.
							</li><li class="listitem">
								From the list of pods, clear the colored square boxes to remove the metrics for specific pods to further filter your query result.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>Show PromQL</strong></span> to see the Prometheus query. You can further modify this query with the help of prompts to customize the query and filter the metrics you want to see for that namespace.
							</li><li class="listitem">
								Use the drop-down list to set a time range for the data being displayed. You can click <span class="strong strong"><strong>Reset Zoom</strong></span> to reset it to the default time range.
							</li><li class="listitem">
								Optional: In the <span class="strong strong"><strong>Select Query</strong></span> list, select <span class="strong strong"><strong>Custom Query</strong></span> to create a custom Prometheus query and filter relevant metrics.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						Optional: Use the <span class="strong strong"><strong>Alerts</strong></span> tab to do the following tasks:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								See the rules that trigger alerts for the applications in your project.
							</li><li class="listitem">
								Identify the alerts firing in the project.
							</li><li class="listitem">
								Silence such alerts if required.
							</li></ul></div><div class="figure" id="idm140419013117136"><p class="title"><strong>Figure 11.3. Monitoring alerts</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/e9b50298679b1bc7d4eb16c3c8f80ad3/odc_project_alerts.png" alt="odc project alerts"/></div></div></div><p class="simpara">
						Use the following options to see further details:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Use the <span class="strong strong"><strong>Filter</strong></span> list to filter the alerts by their <span class="strong strong"><strong>Alert State</strong></span> and <span class="strong strong"><strong>Severity</strong></span>.
							</li><li class="listitem">
								Click on an alert to go to the details page for that alert. In the <span class="strong strong"><strong>Alerts Details</strong></span> page, you can click <span class="strong strong"><strong>View Metrics</strong></span> to see the metrics for the alert.
							</li><li class="listitem">
								Use the <span class="strong strong"><strong>Notifications</strong></span> toggle adjoining an alert rule to silence all the alerts for that rule, and then select the duration for which the alerts will be silenced from the <span class="strong strong"><strong>Silence for</strong></span> list. You must have the permissions to edit alerts to see the <span class="strong strong"><strong>Notifications</strong></span> toggle.
							</li><li class="listitem">
								Use the <span class="strong strong"><strong>Options</strong></span> menu 
								<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f468284ec3cc9bf27e6bd2c83849ca50/kebab.png" alt="kebab"/></span>
								 adjoining an alert rule to see the details of the alerting rule.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Optional: Use the <span class="strong strong"><strong>Events</strong></span> tab to see the events for your project.
					</p><div class="figure" id="idm140419013096416"><p class="title"><strong>Figure 11.4. Monitoring events</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/f89536ba442d8ce9d30bbbd9f456da1e/odc_project_events.png" alt="odc project events"/></div></div></div><p class="simpara">
						You can filter the displayed events using the following options:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								In the <span class="strong strong"><strong>Resources</strong></span> list, select a resource to see events for that resource.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>All Types</strong></span> list, select a type of event to see events relevant to that type.
							</li><li class="listitem">
								Search for specific events using the <span class="strong strong"><strong>Filter events by names or messages</strong></span> field.
							</li></ul></div></li></ol></div></section><section class="section" id="odc-monitoring-your-application-metrics_monitoring-project-and-application-metrics-using-developer-perspective"><div class="titlepage"><div><div><h2 class="title">11.3. Monitoring your application metrics</h2></div></div></div><p>
				After you create applications in your project and deploy them, you can use the <span class="strong strong"><strong>Topology</strong></span> view in the <span class="strong strong"><strong>Developer</strong></span> perspective to see the alerts and metrics for your application. Critical and warning alerts for your application are indicated on the workload node in the <span class="strong strong"><strong>Topology</strong></span> view.
			</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To see the alerts for your workload:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						In the <span class="strong strong"><strong>Topology</strong></span> view, click the workload to see the workload details in the right panel.
					</li><li class="listitem"><p class="simpara">
						Click the <span class="strong strong"><strong>Observe</strong></span> tab to see the critical and warning alerts for the application; graphs for metrics, such as CPU, memory, and bandwidth usage; and all the events for the application.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Only critical and warning alerts in the <span class="strong strong"><strong>Firing</strong></span> state are displayed in the <span class="strong strong"><strong>Topology</strong></span> view. Alerts in the <span class="strong strong"><strong>Silenced</strong></span>, <span class="strong strong"><strong>Pending</strong></span> and <span class="strong strong"><strong>Not Firing</strong></span> states are not displayed.
						</p></div></div><div class="figure" id="idm140419014846512"><p class="title"><strong>Figure 11.5. Monitoring application metrics</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/d75df3707788b6b360808f0edb0b21c4/odc_app_metrics.png" alt="odc app metrics"/></div></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click the alert listed in the right panel to see the alert details in the <span class="strong strong"><strong>Alert Details</strong></span> page.
							</li><li class="listitem">
								Click any of the charts to go to the <span class="strong strong"><strong>Metrics</strong></span> tab to see the detailed metrics for the application.
							</li><li class="listitem">
								Click <span class="strong strong"><strong>View monitoring dashboard</strong></span> to see the monitoring dashboard for that application.
							</li></ol></div></li></ol></div></section><section class="section" id="odc-image-vulnerabilities-breakdown_monitoring-project-and-application-metrics-using-developer-perspective"><div class="titlepage"><div><div><h2 class="title">11.4. Image vulnerabilities breakdown</h2></div></div></div><p>
				In the developer perspective, the project dashboard shows the <span class="strong strong"><strong>Image Vulnerabilities</strong></span> link in the <span class="strong strong"><strong>Status</strong></span> section. Using this link, you can view the <span class="strong strong"><strong>Image Vulnerabilities breakdown</strong></span> window, which includes details regarding vulnerable container images and fixable container images. The icon color indicates severity:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Red: High priority. Fix immediately.
					</li><li class="listitem">
						Orange: Medium priority. Can be fixed after high-priority vulnerabilities.
					</li><li class="listitem">
						Yellow: Low priority. Can be fixed after high and medium-priority vulnerabilities.
					</li></ul></div><p>
				Based on the severity level, you can prioritize vulnerabilities and fix them in an organized manner.
			</p><div class="figure" id="idm140419014827200"><p class="title"><strong>Figure 11.6. Viewing image vulnerabilities</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/4f1b0c8f98ca35fe731be6ce1cfc9325/odc_image_vulnerabilities.png" alt="odc image vulnerabilities"/></div></div></div></section><section class="section" id="odc-monitoring-your-application-image-vulnerabilities-metrics_monitoring-project-and-application-metrics-using-developer-perspective"><div class="titlepage"><div><div><h2 class="title">11.5. Monitoring your application and image vulnerabilities metrics</h2></div></div></div><p>
				After you create applications in your project and deploy them, use the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console to see the metrics for your application dependency vulnerabilities across your cluster. The metrics help you to analyze the following image vulnerabilities in detail:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Total count of vulnerable images in a selected project
					</li><li class="listitem">
						Severity-based counts of all vulnerable images in a selected project
					</li><li class="listitem">
						Drilldown into severity to obtain the details, such as count of vulnerabilities, count of fixable vulnerabilities, and number of affected pods for each vulnerable image
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed the Red Hat Quay Container Security operator from the Operator Hub.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The Red Hat Quay Container Security operator detects vulnerabilities by scanning the images that are in the quay registry.
						</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						For a general overview of the image vulnerabilities, on the navigation panel of the <span class="strong strong"><strong>Developer</strong></span> perspective, click <span class="strong strong"><strong>Project</strong></span> to see the project dashboard.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>Image Vulnerabilities</strong></span> in the <span class="strong strong"><strong>Status</strong></span> section. The window that opens displays details such as <span class="strong strong"><strong>Vulnerable Container Images</strong></span> and <span class="strong strong"><strong>Fixable Container Images</strong></span>.
					</li><li class="listitem"><p class="simpara">
						For a detailed vulnerabilities overview, click the <span class="strong strong"><strong>Vulnerabilities</strong></span> tab on the project dashboard.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								To get more detail about an image, click its name.
							</li><li class="listitem">
								View the default graph with all types of vulnerabilities in the <span class="strong strong"><strong>Details</strong></span> tab.
							</li><li class="listitem">
								Optional: Click the toggle button to view a specific type of vulnerability. For example, click <span class="strong strong"><strong>App dependency</strong></span> to see vulnerabilities specific to application dependency.
							</li><li class="listitem">
								Optional: You can filter the list of vulnerabilities based on their <span class="strong strong"><strong>Severity</strong></span> and <span class="strong strong"><strong>Type</strong></span> or sort them by <span class="strong strong"><strong>Severity</strong></span>, <span class="strong strong"><strong>Package</strong></span>, <span class="strong strong"><strong>Type</strong></span>, <span class="strong strong"><strong>Source</strong></span>, <span class="strong strong"><strong>Current Version</strong></span>, and <span class="strong strong"><strong>Fixed in Version</strong></span>.
							</li><li class="listitem"><p class="simpara">
								Click a <span class="strong strong"><strong>Vulnerability</strong></span> to get its associated details:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<span class="strong strong"><strong>Base image</strong></span> vulnerabilities display information from a Red Hat Security Advisory (RHSA).
									</li><li class="listitem">
										<span class="strong strong"><strong>App dependency</strong></span> vulnerabilities display information from the Snyk security application.
									</li></ul></div></li></ol></div></li></ol></div></section><section class="section _additional-resources" id="additional-resources-odc-monitoring-project-and-application-metrics-using-developer-perspective"><div class="titlepage"><div><div><h2 class="title">11.6. Additional resources</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/monitoring/#monitoring-overview">Monitoring overview</a>
					</li></ul></div></section></section><section class="chapter" id="application-health"><div class="titlepage"><div><div><h1 class="title">Chapter 12. Monitoring application health by using health checks</h1></div></div></div><p>
			In software systems, components can become unhealthy due to transient issues such as temporary connectivity loss, configuration errors, or problems with external dependencies. OpenShift Container Platform applications have a number of options to detect and handle unhealthy containers.
		</p><section class="section" id="application-health-about_application-health"><div class="titlepage"><div><div><h2 class="title">12.1. Understanding health checks</h2></div></div></div><p>
				A health check periodically performs diagnostics on a running container using any combination of the readiness, liveness, and startup health checks.
			</p><p>
				You can include one or more probes in the specification for the pod that contains the container which you want to perform the health checks.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you want to add or edit health checks in an existing pod, you must edit the pod <code class="literal">DeploymentConfig</code> object or use the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console. You cannot use the CLI to add or edit health checks for an existing pod.
				</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Readiness probe</span></dt><dd><p class="simpara">
							A <span class="emphasis"><em>readiness probe</em></span> determines if a container is ready to accept service requests. If the readiness probe fails for a container, the kubelet removes the pod from the list of available service endpoints.
						</p><p class="simpara">
							After a failure, the probe continues to examine the pod. If the pod becomes available, the kubelet adds the pod to the list of available service endpoints.
						</p></dd><dt><span class="term">Liveness health check</span></dt><dd><p class="simpara">
							A <span class="emphasis"><em>liveness probe</em></span> determines if a container is still running. If the liveness probe fails due to a condition such as a deadlock, the kubelet kills the container. The pod then responds based on its restart policy.
						</p><p class="simpara">
							For example, a liveness probe on a pod with a <code class="literal">restartPolicy</code> of <code class="literal">Always</code> or <code class="literal">OnFailure</code> kills and restarts the container.
						</p></dd><dt><span class="term">Startup probe</span></dt><dd><p class="simpara">
							A <span class="emphasis"><em>startup probe</em></span> indicates whether the application within a container is started. All other probes are disabled until the startup succeeds. If the startup probe does not succeed within a specified time period, the kubelet kills the container, and the container is subject to the pod <code class="literal">restartPolicy</code>.
						</p><p class="simpara">
							Some applications can require additional startup time on their first initialization. You can use a startup probe with a liveness or readiness probe to delay that probe long enough to handle lengthy start-up time using the <code class="literal">failureThreshold</code> and <code class="literal">periodSeconds</code> parameters.
						</p><p class="simpara">
							For example, you can add a startup probe, with a <code class="literal">failureThreshold</code> of 30 failures and a <code class="literal">periodSeconds</code> of 10 seconds (30 * 10s = 300s) for a maximum of 5 minutes, to a liveness probe. After the startup probe succeeds the first time, the liveness probe takes over.
						</p></dd></dl></div><p>
				You can configure liveness, readiness, and startup probes with any of the following types of tests:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						HTTP <code class="literal">GET</code>: When using an HTTP <code class="literal">GET</code> test, the test determines the healthiness of the container by using a web hook. The test is successful if the HTTP response code is between <code class="literal">200</code> and <code class="literal">399</code>.
					</p><p class="simpara">
						You can use an HTTP <code class="literal">GET</code> test with applications that return HTTP status codes when completely initialized.
					</p></li><li class="listitem">
						Container Command: When using a container command test, the probe executes a command inside the container. The probe is successful if the test exits with a <code class="literal">0</code> status.
					</li><li class="listitem">
						TCP socket: When using a TCP socket test, the probe attempts to open a socket to the container. The container is only considered healthy if the probe can establish a connection. You can use a TCP socket test with applications that do not start listening until initialization is complete.
					</li></ul></div><p>
				You can configure several fields to control the behavior of a probe:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">initialDelaySeconds</code>: The time, in seconds, after the container starts before the probe can be scheduled. The default is 0.
					</li><li class="listitem">
						<code class="literal">periodSeconds</code>: The delay, in seconds, between performing probes. The default is <code class="literal">10</code>. This value must be greater than <code class="literal">timeoutSeconds</code>.
					</li><li class="listitem">
						<code class="literal">timeoutSeconds</code>: The number of seconds of inactivity after which the probe times out and the container is assumed to have failed. The default is <code class="literal">1</code>. This value must be lower than <code class="literal">periodSeconds</code>.
					</li><li class="listitem">
						<code class="literal">successThreshold</code>: The number of times that the probe must report success after a failure to reset the container status to successful. The value must be <code class="literal">1</code> for a liveness probe. The default is <code class="literal">1</code>.
					</li><li class="listitem"><p class="simpara">
						<code class="literal">failureThreshold</code>: The number of times that the probe is allowed to fail. The default is 3. After the specified attempts:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								for a liveness probe, the container is restarted
							</li><li class="listitem">
								for a readiness probe, the pod is marked <code class="literal">Unready</code>
							</li><li class="listitem">
								for a startup probe, the container is killed and is subject to the pod’s <code class="literal">restartPolicy</code>
							</li></ul></div></li></ul></div><h4 id="application-health-examples">Example probes</h4><p>
				The following are samples of different probes as they would appear in an object specification.
			</p><div class="formalpara"><p class="title"><strong>Sample readiness probe with a container command readiness probe in a pod spec</strong></p><p>
					
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  labels:
    test: health-check
  name: my-application
...
spec:
  containers:
  - name: goproxy-app <span id="CO44-1"><!--Empty--></span><span class="callout">1</span>
    args:
    image: registry.k8s.io/goproxy:0.1 <span id="CO44-2"><!--Empty--></span><span class="callout">2</span>
    readinessProbe: <span id="CO44-3"><!--Empty--></span><span class="callout">3</span>
      exec: <span id="CO44-4"><!--Empty--></span><span class="callout">4</span>
        command: <span id="CO44-5"><!--Empty--></span><span class="callout">5</span>
        - cat
        - /tmp/healthy
...</pre>

				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO44-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						The container name.
					</div></dd><dt><a href="#CO44-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						The container image to deploy.
					</div></dd><dt><a href="#CO44-3"><span class="callout">3</span></a> </dt><dd><div class="para">
						A readiness probe.
					</div></dd><dt><a href="#CO44-4"><span class="callout">4</span></a> </dt><dd><div class="para">
						A container command test.
					</div></dd><dt><a href="#CO44-5"><span class="callout">5</span></a> </dt><dd><div class="para">
						The commands to execute on the container.
					</div></dd></dl></div><div class="formalpara"><p class="title"><strong>Sample container command startup probe and liveness probe with container command tests in a pod spec</strong></p><p>
					
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  labels:
    test: health-check
  name: my-application
...
spec:
  containers:
  - name: goproxy-app <span id="CO45-1"><!--Empty--></span><span class="callout">1</span>
    args:
    image: registry.k8s.io/goproxy:0.1 <span id="CO45-2"><!--Empty--></span><span class="callout">2</span>
    livenessProbe: <span id="CO45-3"><!--Empty--></span><span class="callout">3</span>
      httpGet: <span id="CO45-4"><!--Empty--></span><span class="callout">4</span>
        scheme: HTTPS <span id="CO45-5"><!--Empty--></span><span class="callout">5</span>
        path: /healthz
        port: 8080 <span id="CO45-6"><!--Empty--></span><span class="callout">6</span>
        httpHeaders:
        - name: X-Custom-Header
          value: Awesome
    startupProbe: <span id="CO45-7"><!--Empty--></span><span class="callout">7</span>
      httpGet: <span id="CO45-8"><!--Empty--></span><span class="callout">8</span>
        path: /healthz
        port: 8080 <span id="CO45-9"><!--Empty--></span><span class="callout">9</span>
      failureThreshold: 30 <span id="CO45-10"><!--Empty--></span><span class="callout">10</span>
      periodSeconds: 10 <span id="CO45-11"><!--Empty--></span><span class="callout">11</span>
...</pre>

				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO45-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						The container name.
					</div></dd><dt><a href="#CO45-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						Specify the container image to deploy.
					</div></dd><dt><a href="#CO45-3"><span class="callout">3</span></a> </dt><dd><div class="para">
						A liveness probe.
					</div></dd><dt><a href="#CO45-4"><span class="callout">4</span></a> </dt><dd><div class="para">
						An HTTP <code class="literal">GET</code> test.
					</div></dd><dt><a href="#CO45-5"><span class="callout">5</span></a> </dt><dd><div class="para">
						The internet scheme: <code class="literal">HTTP</code> or <code class="literal">HTTPS</code>. The default value is <code class="literal">HTTP</code>.
					</div></dd><dt><a href="#CO45-6"><span class="callout">6</span></a> </dt><dd><div class="para">
						The port on which the container is listening.
					</div></dd><dt><a href="#CO45-7"><span class="callout">7</span></a> </dt><dd><div class="para">
						A startup probe.
					</div></dd><dt><a href="#CO45-8"><span class="callout">8</span></a> </dt><dd><div class="para">
						An HTTP <code class="literal">GET</code> test.
					</div></dd><dt><a href="#CO45-9"><span class="callout">9</span></a> </dt><dd><div class="para">
						The port on which the container is listening.
					</div></dd><dt><a href="#CO45-10"><span class="callout">10</span></a> </dt><dd><div class="para">
						The number of times to try the probe after a failure.
					</div></dd><dt><a href="#CO45-11"><span class="callout">11</span></a> </dt><dd><div class="para">
						The number of seconds to perform the probe.
					</div></dd></dl></div><div class="formalpara"><p class="title"><strong>Sample liveness probe with a container command test that uses a timeout in a pod spec</strong></p><p>
					
<pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  labels:
    test: health-check
  name: my-application
...
spec:
  containers:
  - name: goproxy-app <span id="CO46-1"><!--Empty--></span><span class="callout">1</span>
    args:
    image: registry.k8s.io/goproxy:0.1 <span id="CO46-2"><!--Empty--></span><span class="callout">2</span>
    livenessProbe: <span id="CO46-3"><!--Empty--></span><span class="callout">3</span>
      exec: <span id="CO46-4"><!--Empty--></span><span class="callout">4</span>
        command: <span id="CO46-5"><!--Empty--></span><span class="callout">5</span>
        - /bin/bash
        - '-c'
        - timeout 60 /opt/eap/bin/livenessProbe.sh
      periodSeconds: 10 <span id="CO46-6"><!--Empty--></span><span class="callout">6</span>
      successThreshold: 1 <span id="CO46-7"><!--Empty--></span><span class="callout">7</span>
      failureThreshold: 3 <span id="CO46-8"><!--Empty--></span><span class="callout">8</span>
...</pre>

				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO46-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						The container name.
					</div></dd><dt><a href="#CO46-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						Specify the container image to deploy.
					</div></dd><dt><a href="#CO46-3"><span class="callout">3</span></a> </dt><dd><div class="para">
						The liveness probe.
					</div></dd><dt><a href="#CO46-4"><span class="callout">4</span></a> </dt><dd><div class="para">
						The type of probe, here a container command probe.
					</div></dd><dt><a href="#CO46-5"><span class="callout">5</span></a> </dt><dd><div class="para">
						The command line to execute inside the container.
					</div></dd><dt><a href="#CO46-6"><span class="callout">6</span></a> </dt><dd><div class="para">
						How often in seconds to perform the probe.
					</div></dd><dt><a href="#CO46-7"><span class="callout">7</span></a> </dt><dd><div class="para">
						The number of consecutive successes needed to show success after a failure.
					</div></dd><dt><a href="#CO46-8"><span class="callout">8</span></a> </dt><dd><div class="para">
						The number of times to try the probe after a failure.
					</div></dd></dl></div><div class="formalpara"><p class="title"><strong>Sample readiness probe and liveness probe with a TCP socket test in a deployment</strong></p><p>
					
<pre class="programlisting language-yaml">kind: Deployment
apiVersion: apps/v1
...
spec:
...
  template:
    spec:
      containers:
        - resources: {}
          readinessProbe: <span id="CO47-1"><!--Empty--></span><span class="callout">1</span>
            tcpSocket:
              port: 8080
            timeoutSeconds: 1
            periodSeconds: 10
            successThreshold: 1
            failureThreshold: 3
          terminationMessagePath: /dev/termination-log
          name: ruby-ex
          livenessProbe: <span id="CO47-2"><!--Empty--></span><span class="callout">2</span>
            tcpSocket:
              port: 8080
            initialDelaySeconds: 15
            timeoutSeconds: 1
            periodSeconds: 10
            successThreshold: 1
            failureThreshold: 3
...</pre>

				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO47-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						The readiness probe.
					</div></dd><dt><a href="#CO47-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						The liveness probe.
					</div></dd></dl></div></section><section class="section" id="application-health-configuring_application-health"><div class="titlepage"><div><div><h2 class="title">12.2. Configuring health checks using the CLI</h2></div></div></div><p>
				To configure readiness, liveness, and startup probes, add one or more probes to the specification for the pod that contains the container which you want to perform the health checks
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you want to add or edit health checks in an existing pod, you must edit the pod <code class="literal">DeploymentConfig</code> object or use the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console. You cannot use the CLI to add or edit health checks for an existing pod.
				</p></div></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To add probes for a container:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a <code class="literal">Pod</code> object to add one or more probes:
					</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Pod
metadata:
  labels:
    test: health-check
  name: my-application
spec:
  containers:
  - name: my-container <span id="CO48-1"><!--Empty--></span><span class="callout">1</span>
    args:
    image: registry.k8s.io/goproxy:0.1 <span id="CO48-2"><!--Empty--></span><span class="callout">2</span>
    livenessProbe: <span id="CO48-3"><!--Empty--></span><span class="callout">3</span>
      tcpSocket:  <span id="CO48-4"><!--Empty--></span><span class="callout">4</span>
        port: 8080 <span id="CO48-5"><!--Empty--></span><span class="callout">5</span>
      initialDelaySeconds: 15 <span id="CO48-6"><!--Empty--></span><span class="callout">6</span>
      periodSeconds: 20 <span id="CO48-7"><!--Empty--></span><span class="callout">7</span>
      timeoutSeconds: 10 <span id="CO48-8"><!--Empty--></span><span class="callout">8</span>
    readinessProbe: <span id="CO48-9"><!--Empty--></span><span class="callout">9</span>
      httpGet: <span id="CO48-10"><!--Empty--></span><span class="callout">10</span>
        host: my-host <span id="CO48-11"><!--Empty--></span><span class="callout">11</span>
        scheme: HTTPS <span id="CO48-12"><!--Empty--></span><span class="callout">12</span>
        path: /healthz
        port: 8080 <span id="CO48-13"><!--Empty--></span><span class="callout">13</span>
    startupProbe: <span id="CO48-14"><!--Empty--></span><span class="callout">14</span>
      exec: <span id="CO48-15"><!--Empty--></span><span class="callout">15</span>
        command: <span id="CO48-16"><!--Empty--></span><span class="callout">16</span>
        - cat
        - /tmp/healthy
      failureThreshold: 30 <span id="CO48-17"><!--Empty--></span><span class="callout">17</span>
      periodSeconds: 20 <span id="CO48-18"><!--Empty--></span><span class="callout">18</span>
      timeoutSeconds: 10 <span id="CO48-19"><!--Empty--></span><span class="callout">19</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO48-1"><span class="callout">1</span></a> </dt><dd><div class="para">
								Specify the container name.
							</div></dd><dt><a href="#CO48-2"><span class="callout">2</span></a> </dt><dd><div class="para">
								Specify the container image to deploy.
							</div></dd><dt><a href="#CO48-3"><span class="callout">3</span></a> </dt><dd><div class="para">
								Optional: Create a Liveness probe.
							</div></dd><dt><a href="#CO48-4"><span class="callout">4</span></a> </dt><dd><div class="para">
								Specify a test to perform, here a TCP Socket test.
							</div></dd><dt><a href="#CO48-5"><span class="callout">5</span></a> </dt><dd><div class="para">
								Specify the port on which the container is listening.
							</div></dd><dt><a href="#CO48-6"><span class="callout">6</span></a> </dt><dd><div class="para">
								Specify the time, in seconds, after the container starts before the probe can be scheduled.
							</div></dd><dt><a href="#CO48-7"><span class="callout">7</span></a> </dt><dd><div class="para">
								Specify the number of seconds to perform the probe. The default is <code class="literal">10</code>. This value must be greater than <code class="literal">timeoutSeconds</code>.
							</div></dd><dt><a href="#CO48-8"><span class="callout">8</span></a> </dt><dd><div class="para">
								Specify the number of seconds of inactivity after which the probe is assumed to have failed. The default is <code class="literal">1</code>. This value must be lower than <code class="literal">periodSeconds</code>.
							</div></dd><dt><a href="#CO48-9"><span class="callout">9</span></a> </dt><dd><div class="para">
								Optional: Create a Readiness probe.
							</div></dd><dt><a href="#CO48-10"><span class="callout">10</span></a> </dt><dd><div class="para">
								Specify the type of test to perform, here an HTTP test.
							</div></dd><dt><a href="#CO48-11"><span class="callout">11</span></a> </dt><dd><div class="para">
								Specify a host IP address. When <code class="literal">host</code> is not defined, the <code class="literal">PodIP</code> is used.
							</div></dd><dt><a href="#CO48-12"><span class="callout">12</span></a> </dt><dd><div class="para">
								Specify <code class="literal">HTTP</code> or <code class="literal">HTTPS</code>. When <code class="literal">scheme</code> is not defined, the <code class="literal">HTTP</code> scheme is used.
							</div></dd><dt><a href="#CO48-13"><span class="callout">13</span></a> </dt><dd><div class="para">
								Specify the port on which the container is listening.
							</div></dd><dt><a href="#CO48-14"><span class="callout">14</span></a> </dt><dd><div class="para">
								Optional: Create a Startup probe.
							</div></dd><dt><a href="#CO48-15"><span class="callout">15</span></a> </dt><dd><div class="para">
								Specify the type of test to perform, here an Container Execution probe.
							</div></dd><dt><a href="#CO48-16"><span class="callout">16</span></a> </dt><dd><div class="para">
								Specify the commands to execute on the container.
							</div></dd><dt><a href="#CO48-17"><span class="callout">17</span></a> </dt><dd><div class="para">
								Specify the number of times to try the probe after a failure.
							</div></dd><dt><a href="#CO48-18"><span class="callout">18</span></a> </dt><dd><div class="para">
								Specify the number of seconds to perform the probe. The default is <code class="literal">10</code>. This value must be greater than <code class="literal">timeoutSeconds</code>.
							</div></dd><dt><a href="#CO48-19"><span class="callout">19</span></a> </dt><dd><div class="para">
								Specify the number of seconds of inactivity after which the probe is assumed to have failed. The default is <code class="literal">1</code>. This value must be lower than <code class="literal">periodSeconds</code>.
							</div></dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If the <code class="literal">initialDelaySeconds</code> value is lower than the <code class="literal">periodSeconds</code> value, the first Readiness probe occurs at some point between the two periods due to an issue with timers.
						</p><p>
							The <code class="literal">timeoutSeconds</code> value must be lower than the <code class="literal">periodSeconds</code> value.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Create the <code class="literal">Pod</code> object:
					</p><pre class="programlisting language-terminal">$ oc create -f &lt;file-name&gt;.yaml</pre></li><li class="listitem"><p class="simpara">
						Verify the state of the health check pod:
					</p><pre class="programlisting language-terminal">$ oc describe pod health-check</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
							
<pre class="programlisting language-terminal">Events:
  Type    Reason     Age   From                                  Message
  ----    ------     ----  ----                                  -------
  Normal  Scheduled  9s    default-scheduler                     Successfully assigned openshift-logging/liveness-exec to ip-10-0-143-40.ec2.internal
  Normal  Pulling    2s    kubelet, ip-10-0-143-40.ec2.internal  pulling image "registry.k8s.io/liveness"
  Normal  Pulled     1s    kubelet, ip-10-0-143-40.ec2.internal  Successfully pulled image "registry.k8s.io/liveness"
  Normal  Created    1s    kubelet, ip-10-0-143-40.ec2.internal  Created container
  Normal  Started    1s    kubelet, ip-10-0-143-40.ec2.internal  Started container</pre>

						</p></div><p class="simpara">
						The following is the output of a failed probe that restarted a container:
					</p><div class="formalpara"><p class="title"><strong>Sample Liveness check output with unhealthy container</strong></p><p>
							
<pre class="programlisting language-terminal">$ oc describe pod pod1</pre>

						</p></div><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
							
<pre class="programlisting language-terminal">....

Events:
  Type     Reason          Age                From                                               Message
  ----     ------          ----               ----                                               -------
  Normal   Scheduled       &lt;unknown&gt;                                                             Successfully assigned aaa/liveness-http to ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj
  Normal   AddedInterface  47s                multus                                             Add eth0 [10.129.2.11/23]
  Normal   Pulled          46s                kubelet, ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj  Successfully pulled image "registry.k8s.io/liveness" in 773.406244ms
  Normal   Pulled          28s                kubelet, ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj  Successfully pulled image "registry.k8s.io/liveness" in 233.328564ms
  Normal   Created         10s (x3 over 46s)  kubelet, ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj  Created container liveness
  Normal   Started         10s (x3 over 46s)  kubelet, ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj  Started container liveness
  Warning  Unhealthy       10s (x6 over 34s)  kubelet, ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj  Liveness probe failed: HTTP probe failed with statuscode: 500
  Normal   Killing         10s (x2 over 28s)  kubelet, ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj  Container liveness failed liveness probe, will be restarted
  Normal   Pulling         10s (x3 over 47s)  kubelet, ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj  Pulling image "registry.k8s.io/liveness"
  Normal   Pulled          10s                kubelet, ci-ln-37hz77b-f76d1-wdpjv-worker-b-snzrj  Successfully pulled image "registry.k8s.io/liveness" in 244.116568ms</pre>

						</p></div></li></ol></div></section><section class="section" id="odc-monitoring-application-health-using-developer-perspective"><div class="titlepage"><div><div><h2 class="title">12.3. Monitoring application health using the Developer perspective</h2></div></div></div><p>
				You can use the <span class="strong strong"><strong>Developer</strong></span> perspective to add three types of health probes to your container to ensure that your application is healthy:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Use the Readiness probe to check if the container is ready to handle requests.
					</li><li class="listitem">
						Use the Liveness probe to check if the container is running.
					</li><li class="listitem">
						Use the Startup probe to check if the application within the container has started.
					</li></ul></div><p>
				You can add health checks either while creating and deploying an application, or after you have deployed an application.
			</p></section><section class="section" id="odc-adding-health-checks"><div class="titlepage"><div><div><h2 class="title">12.4. Adding health checks using the Developer perspective</h2></div></div></div><p>
				You can use the <span class="strong strong"><strong>Topology</strong></span> view to add health checks to your deployed application.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites:</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have switched to the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console.
					</li><li class="listitem">
						You have created and deployed an application on OpenShift Container Platform using the <span class="strong strong"><strong>Developer</strong></span> perspective.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In the <span class="strong strong"><strong>Topology</strong></span> view, click on the application node to see the side panel. If the container does not have health checks added to ensure the smooth running of your application, a <span class="strong strong"><strong>Health Checks</strong></span> notification is displayed with a link to add health checks.
					</li><li class="listitem">
						In the displayed notification, click the <span class="strong strong"><strong>Add Health Checks</strong></span> link.
					</li><li class="listitem">
						Alternatively, you can also click the <span class="strong strong"><strong>Actions</strong></span> drop-down list and select <span class="strong strong"><strong>Add Health Checks</strong></span>. Note that if the container already has health checks, you will see the <span class="strong strong"><strong>Edit Health Checks</strong></span> option instead of the add option.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Add Health Checks</strong></span> form, if you have deployed multiple containers, use the <span class="strong strong"><strong>Container</strong></span> drop-down list to ensure that the appropriate container is selected.
					</li><li class="listitem"><p class="simpara">
						Click the required health probe links to add them to the container. Default data for the health checks is prepopulated. You can add the probes with the default data or further customize the values and then add them. For example, to add a Readiness probe that checks if your container is ready to handle requests:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Click <span class="strong strong"><strong>Add Readiness Probe</strong></span>, to see a form containing the parameters for the probe.
							</li><li class="listitem">
								Click the <span class="strong strong"><strong>Type</strong></span> drop-down list to select the request type you want to add. For example, in this case, select <span class="strong strong"><strong>Container Command</strong></span> to select the command that will be executed inside the container.
							</li><li class="listitem">
								In the <span class="strong strong"><strong>Command</strong></span> field, add an argument <code class="literal">cat</code>, similarly, you can add multiple arguments for the check, for example, add another argument <code class="literal">/tmp/healthy</code>.
							</li><li class="listitem"><p class="simpara">
								Retain or modify the default values for the other parameters as required.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The <code class="literal">Timeout</code> value must be lower than the <code class="literal">Period</code> value. The <code class="literal">Timeout</code> default value is <code class="literal">1</code>. The <code class="literal">Period</code> default value is <code class="literal">10</code>.
								</p></div></div></li><li class="listitem">
								Click the check mark at the bottom of the form. The <span class="strong strong"><strong>Readiness Probe Added</strong></span> message is displayed.
							</li></ol></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Add</strong></span> to add the health check. You are redirected to the <span class="strong strong"><strong>Topology</strong></span> view and the container is restarted.
					</li><li class="listitem">
						In the side panel, verify that the probes have been added by clicking on the deployed pod under the <span class="strong strong"><strong>Pods</strong></span> section.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Pod Details</strong></span> page, click the listed container in the <span class="strong strong"><strong>Containers</strong></span> section.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Container Details</strong></span> page, verify that the Readiness probe - <span class="strong strong"><strong>Exec Command</strong></span> <code class="literal">cat</code> <code class="literal">/tmp/healthy</code> has been added to the container.
					</li></ol></div></section><section class="section" id="odc-editing-health-checks"><div class="titlepage"><div><div><h2 class="title">12.5. Editing health checks using the Developer perspective</h2></div></div></div><p>
				You can use the <span class="strong strong"><strong>Topology</strong></span> view to edit health checks added to your application, modify them, or add more health checks.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites:</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have switched to the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console.
					</li><li class="listitem">
						You have created and deployed an application on OpenShift Container Platform using the <span class="strong strong"><strong>Developer</strong></span> perspective.
					</li><li class="listitem">
						You have added health checks to your application.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In the <span class="strong strong"><strong>Topology</strong></span> view, right-click your application and select <span class="strong strong"><strong>Edit Health Checks</strong></span>. Alternatively, in the side panel, click the <span class="strong strong"><strong>Actions</strong></span> drop-down list and select <span class="strong strong"><strong>Edit Health Checks</strong></span>.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Edit Health Checks</strong></span> page:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								To remove a previously added health probe, click the minus sign adjoining it.
							</li><li class="listitem"><p class="simpara">
								To edit the parameters of an existing probe:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
										Click the <span class="strong strong"><strong>Edit Probe</strong></span> link next to a previously added probe to see the parameters for the probe.
									</li><li class="listitem">
										Modify the parameters as required, and click the check mark to save your changes.
									</li></ol></div></li><li class="listitem"><p class="simpara">
								To add a new health probe, in addition to existing health checks, click the add probe links. For example, to add a Liveness probe that checks if your container is running:
							</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
										Click <span class="strong strong"><strong>Add Liveness Probe</strong></span>, to see a form containing the parameters for the probe.
									</li><li class="listitem"><p class="simpara">
										Edit the probe parameters as required.
									</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
											The <code class="literal">Timeout</code> value must be lower than the <code class="literal">Period</code> value. The <code class="literal">Timeout</code> default value is <code class="literal">1</code>. The <code class="literal">Period</code> default value is <code class="literal">10</code>.
										</p></div></div></li><li class="listitem">
										Click the check mark at the bottom of the form. The <span class="strong strong"><strong>Liveness Probe Added</strong></span> message is displayed.
									</li></ol></div></li></ul></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Save</strong></span> to save your modifications and add the additional probes to your container. You are redirected to the <span class="strong strong"><strong>Topology</strong></span> view.
					</li><li class="listitem">
						In the side panel, verify that the probes have been added by clicking on the deployed pod under the <span class="strong strong"><strong>Pods</strong></span> section.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Pod Details</strong></span> page, click the listed container in the <span class="strong strong"><strong>Containers</strong></span> section.
					</li><li class="listitem">
						In the <span class="strong strong"><strong>Container Details</strong></span> page, verify that the Liveness probe - <code class="literal">HTTP Get 10.129.4.65:8080/</code> has been added to the container, in addition to the earlier existing probes.
					</li></ol></div></section><section class="section" id="odc-monitoring-health-checks"><div class="titlepage"><div><div><h2 class="title">12.6. Monitoring health check failures using the Developer perspective</h2></div></div></div><p>
				In case an application health check fails, you can use the <span class="strong strong"><strong>Topology</strong></span> view to monitor these health check violations.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites:</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have switched to the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console.
					</li><li class="listitem">
						You have created and deployed an application on OpenShift Container Platform using the <span class="strong strong"><strong>Developer</strong></span> perspective.
					</li><li class="listitem">
						You have added health checks to your application.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In the <span class="strong strong"><strong>Topology</strong></span> view, click on the application node to see the side panel.
					</li><li class="listitem">
						Click the <span class="strong strong"><strong>Observe</strong></span> tab to see the health check failures in the <span class="strong strong"><strong>Events (Warning)</strong></span> section.
					</li><li class="listitem">
						Click the down arrow adjoining <span class="strong strong"><strong>Events (Warning)</strong></span> to see the details of the health check failure.
					</li></ol></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						For details on switching to the <span class="strong strong"><strong>Developer</strong></span> perspective in the web console, see <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#about-developer-perspective_web-console-overview">About the <span class="strong strong"><strong>Developer</strong></span> perspective</a>.
					</li><li class="listitem">
						For details on adding health checks while creating and deploying an application, see <span class="strong strong"><strong>Advanced Options</strong></span> in the <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">Creating applications using the Developer perspective</a> section.
					</li></ul></div></section></section><section class="chapter" id="odc-editing-applications"><div class="titlepage"><div><div><h1 class="title">Chapter 13. Editing applications</h1></div></div></div><p>
			You can edit the configuration and the source code of the application you create using the <span class="strong strong"><strong>Topology</strong></span> view.
		</p><section class="section" id="prerequisites-6"><div class="titlepage"><div><div><h2 class="title">13.1. Prerequisites</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						You have the appropriate <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/authentication_and_authorization/#default-roles_using-rbac">roles and permissions</a> in a project to create and modify applications in OpenShift Container Platform.
					</li><li class="listitem">
						You have <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#odc-creating-applications-using-developer-perspective">created and deployed an application on OpenShift Container Platform using the <span class="strong strong"><strong>Developer</strong></span> perspective</a>.
					</li><li class="listitem">
						You have <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#web-console">logged in to the web console</a> and have switched to <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/web_console/#about-developer-perspective_web-console-overview">the <span class="strong strong"><strong>Developer</strong></span> perspective</a>.
					</li></ul></div></section><section class="section" id="odc-editing-source-code-using-developer-perspective_odc-editing-applications"><div class="titlepage"><div><div><h2 class="title">13.2. Editing the source code of an application using the Developer perspective</h2></div></div></div><p>
				You can use the <span class="strong strong"><strong>Topology</strong></span> view in the <span class="strong strong"><strong>Developer</strong></span> perspective to edit the source code of your application.
			</p><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						In the <span class="strong strong"><strong>Topology</strong></span> view, click the <span class="strong strong"><strong>Edit Source code</strong></span> icon, displayed at the bottom-right of the deployed application, to access your source code and modify it.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							This feature is available only when you create applications using the <span class="strong strong"><strong>From Git</strong></span>, <span class="strong strong"><strong>From Catalog</strong></span>, and the <span class="strong strong"><strong>From Dockerfile</strong></span> options.
						</p></div></div><p class="simpara">
						If the <span class="strong strong"><strong>Eclipse Che</strong></span> Operator is installed in your cluster, a Che workspace ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/1d1be97ee7b49cb111f71adedab7a1c2/odc_che_workspace.png" alt="odc che workspace"/></span>
						 ) is created and you are directed to the workspace to edit your source code. If it is not installed, you will be directed to the Git repository ( 
						<span class="inlinemediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/cef5b5dca1bd48be02edd52d7fe2026e/odc_git_repository.png" alt="odc git repository"/></span>
						 ) your source code is hosted in.
					</p></li></ul></div></section><section class="section" id="odc-editing-application-configuration-using-developer-perspective_odc-editing-applications"><div class="titlepage"><div><div><h2 class="title">13.3. Editing the application configuration using the Developer perspective</h2></div></div></div><p>
				You can use the <span class="strong strong"><strong>Topology</strong></span> view in the <span class="strong strong"><strong>Developer</strong></span> perspective to edit the configuration of your application.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Currently, only configurations of applications created by using the <span class="strong strong"><strong>From Git</strong></span>, <span class="strong strong"><strong>Container Image</strong></span>, <span class="strong strong"><strong>From Catalog</strong></span>, or <span class="strong strong"><strong>From Dockerfile</strong></span> options in the <span class="strong strong"><strong>Add</strong></span> workflow of the <span class="strong strong"><strong>Developer</strong></span> perspective can be edited. Configurations of applications created by using the CLI or the <span class="strong strong"><strong>YAML</strong></span> option from the <span class="strong strong"><strong>Add</strong></span> workflow cannot be edited.
				</p></div></div><div class="formalpara"><p class="title"><strong>Prerequisites</strong></p><p>
					Ensure that you have created an application using the <span class="strong strong"><strong>From Git</strong></span>, <span class="strong strong"><strong>Container Image</strong></span>, <span class="strong strong"><strong>From Catalog</strong></span>, or <span class="strong strong"><strong>From Dockerfile</strong></span> options in the <span class="strong strong"><strong>Add</strong></span> workflow.
				</p></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						After you have created an application and it is displayed in the <span class="strong strong"><strong>Topology</strong></span> view, right-click the application to see the edit options available.
					</p><div class="figure" id="idm140419012140736"><p class="title"><strong>Figure 13.1. Edit application</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/af0e4e672bc9f7ace9cb16c43c3cae66/odc_edit_app.png" alt="odc edit app"/></div></div></div></li><li class="listitem">
						Click <span class="strong strong"><strong>Edit <span class="emphasis"><em>application-name</em></span></strong></span> to see the <span class="strong strong"><strong>Add</strong></span> workflow you used to create the application. The form is pre-populated with the values you had added while creating the application.
					</li><li class="listitem"><p class="simpara">
						Edit the necessary values for the application.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You cannot edit the <span class="strong strong"><strong>Name</strong></span> field in the <span class="strong strong"><strong>General</strong></span> section, the CI/CD pipelines, or the <span class="strong strong"><strong>Create a route to the application</strong></span> field in the <span class="strong strong"><strong>Advanced Options</strong></span> section.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Click <span class="strong strong"><strong>Save</strong></span> to restart the build and deploy a new image.
					</p><div class="figure" id="idm140419012127024"><p class="title"><strong>Figure 13.2. Edit and redeploy application</strong></p><div class="figure-contents"><div class="mediaobject"><img src="https://access.redhat.com/webassets/avalon/d/OpenShift_Container_Platform-4.13-Building_applications-en-US/images/8704b4f1d2c66eb8d1ff18ab7fa776df/odc_edit_redeploy.png" alt="odc edit redeploy"/></div></div></div></li></ol></div></section></section><section class="chapter" id="pruning-objects"><div class="titlepage"><div><div><h1 class="title">Chapter 14. Pruning objects to reclaim resources</h1></div></div></div><p>
			Over time, API objects created in OpenShift Container Platform can accumulate in the cluster’s etcd data store through normal user operations, such as when building and deploying applications.
		</p><p>
			Cluster administrators can periodically prune older versions of objects from the cluster that are no longer required. For example, by pruning images you can delete older images and layers that are no longer in use, but are still taking up disk space.
		</p><section class="section" id="pruning-basic-operations_pruning-objects"><div class="titlepage"><div><div><h2 class="title">14.1. Basic pruning operations</h2></div></div></div><p>
				The CLI groups prune operations under a common parent command:
			</p><pre class="programlisting language-terminal">$ oc adm prune &lt;object_type&gt; &lt;options&gt;</pre><p>
				This specifies:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The <code class="literal">&lt;object_type&gt;</code> to perform the action on, such as <code class="literal">groups</code>, <code class="literal">builds</code>, <code class="literal">deployments</code>, or <code class="literal">images</code>.
					</li><li class="listitem">
						The <code class="literal">&lt;options&gt;</code> supported to prune that object type.
					</li></ul></div></section><section class="section" id="pruning-groups_pruning-objects"><div class="titlepage"><div><div><h2 class="title">14.2. Pruning groups</h2></div></div></div><p>
				To prune groups records from an external provider, administrators can run the following command:
			</p><pre class="programlisting language-terminal">$ oc adm prune groups \
    --sync-config=path/to/sync/config [&lt;options&gt;]</pre><div class="table" id="idm140419012107392"><p class="title"><strong>Table 14.1. <code class="literal">oc adm prune groups</code> flags</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419012102240" scope="col">Options</th><th align="left" valign="top" id="idm140419012101152" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="middle" headers="idm140419012102240"> <p>
								<code class="literal">--confirm</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012101152"> <p>
								Indicate that pruning should occur, instead of performing a dry-run.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419012102240"> <p>
								<code class="literal">--blacklist</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012101152"> <p>
								Path to the group blacklist file.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419012102240"> <p>
								<code class="literal">--whitelist</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012101152"> <p>
								Path to the group whitelist file.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419012102240"> <p>
								<code class="literal">--sync-config</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012101152"> <p>
								Path to the synchronization configuration file.
							</p>
							 </td></tr></tbody></table></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To see the groups that the prune command deletes, run the following command:
					</p><pre class="programlisting language-terminal">$ oc adm prune groups --sync-config=ldap-sync-config.yaml</pre></li><li class="listitem"><p class="simpara">
						To perform the prune operation, add the <code class="literal">--confirm</code> flag:
					</p><pre class="programlisting language-terminal">$ oc adm prune groups --sync-config=ldap-sync-config.yaml --confirm</pre></li></ol></div></section><section class="section" id="pruning-deployments_pruning-objects"><div class="titlepage"><div><div><h2 class="title">14.3. Pruning deployment resources</h2></div></div></div><p>
				You can prune resources associated with deployments that are no longer required by the system, due to age and status.
			</p><p>
				The following command prunes replication controllers associated with <code class="literal">DeploymentConfig</code> objects:
			</p><pre class="programlisting language-terminal">$ oc adm prune deployments [&lt;options&gt;]</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					To also prune replica sets associated with <code class="literal">Deployment</code> objects, use the <code class="literal">--replica-sets</code> flag. This flag is currently a Technology Preview feature.
				</p></div></div><div class="table" id="idm140419012056384"><p class="title"><strong>Table 14.2. <code class="literal">oc adm prune deployments</code> flags</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419012051216" scope="col">Option</th><th align="left" valign="top" id="idm140419012050128" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="middle" headers="idm140419012051216"> <p>
								<code class="literal">--confirm</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012050128"> <p>
								Indicate that pruning should occur, instead of performing a dry-run.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419012051216"> <p>
								<code class="literal">--keep-complete=&lt;N&gt;</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012050128"> <p>
								Per the <code class="literal">DeploymentConfig</code> object, keep the last <code class="literal">N</code> replication controllers that have a status of <code class="literal">Complete</code> and replica count of zero. The default is <code class="literal">5</code>.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419012051216"> <p>
								<code class="literal">--keep-failed=&lt;N&gt;</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012050128"> <p>
								Per the <code class="literal">DeploymentConfig</code> object, keep the last <code class="literal">N</code> replication controllers that have a status of <code class="literal">Failed</code> and replica count of zero. The default is <code class="literal">1</code>.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419012051216"> <p>
								<code class="literal">--keep-younger-than=&lt;duration&gt;</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012050128"> <p>
								Do not prune any replication controller that is younger than <code class="literal">&lt;duration&gt;</code> relative to the current time. Valid units of measurement include nanoseconds (<code class="literal">ns</code>), microseconds (<code class="literal">us</code>), milliseconds (<code class="literal">ms</code>), seconds (<code class="literal">s</code>), minutes (<code class="literal">m</code>), and hours (<code class="literal">h</code>). The default is <code class="literal">60m</code>.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419012051216"> <p>
								<code class="literal">--orphans</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012050128"> <p>
								Prune all replication controllers that no longer have a <code class="literal">DeploymentConfig</code> object, has status of <code class="literal">Complete</code> or <code class="literal">Failed</code>, and has a replica count of zero.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419012051216"> <p>
								<code class="literal">--replica-sets=true|false</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419012050128"> <p>
								If <code class="literal">true</code>, replica sets are included in the pruning process. The default is <code class="literal">false</code>.
							</p>
							 <div class="admonition important"><div class="admonition_header">Important</div><div><p>
									This flag is a Technology Preview feature.
								</p></div></div>
							 </td></tr></tbody></table></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To see what a pruning operation would delete, run the following command:
					</p><pre class="programlisting language-terminal">$ oc adm prune deployments --orphans --keep-complete=5 --keep-failed=1 \
    --keep-younger-than=60m</pre></li><li class="listitem"><p class="simpara">
						To actually perform the prune operation, add the <code class="literal">--confirm</code> flag:
					</p><pre class="programlisting language-terminal">$ oc adm prune deployments --orphans --keep-complete=5 --keep-failed=1 \
    --keep-younger-than=60m --confirm</pre></li></ol></div></section><section class="section" id="pruning-builds_pruning-objects"><div class="titlepage"><div><div><h2 class="title">14.4. Pruning builds</h2></div></div></div><p>
				To prune builds that are no longer required by the system due to age and status, administrators can run the following command:
			</p><pre class="programlisting language-terminal">$ oc adm prune builds [&lt;options&gt;]</pre><div class="table" id="idm140419014622160"><p class="title"><strong>Table 14.3. <code class="literal">oc adm prune builds</code> flags</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419014617008" scope="col">Option</th><th align="left" valign="top" id="idm140419014615920" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="middle" headers="idm140419014617008"> <p>
								<code class="literal">--confirm</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419014615920"> <p>
								Indicate that pruning should occur, instead of performing a dry-run.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419014617008"> <p>
								<code class="literal">--orphans</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419014615920"> <p>
								Prune all builds whose build configuration no longer exists, status is complete, failed, error, or canceled.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419014617008"> <p>
								<code class="literal">--keep-complete=&lt;N&gt;</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419014615920"> <p>
								Per build configuration, keep the last <code class="literal">N</code> builds whose status is complete. The default is <code class="literal">5</code>.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419014617008"> <p>
								<code class="literal">--keep-failed=&lt;N&gt;</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419014615920"> <p>
								Per build configuration, keep the last <code class="literal">N</code> builds whose status is failed, error, or canceled. The default is <code class="literal">1</code>.
							</p>
							 </td></tr><tr><td align="left" valign="middle" headers="idm140419014617008"> <p>
								<code class="literal">--keep-younger-than=&lt;duration&gt;</code>
							</p>
							 </td><td align="left" valign="top" headers="idm140419014615920"> <p>
								Do not prune any object that is younger than <code class="literal">&lt;duration&gt;</code> relative to the current time. The default is <code class="literal">60m</code>.
							</p>
							 </td></tr></tbody></table></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To see what a pruning operation would delete, run the following command:
					</p><pre class="programlisting language-terminal">$ oc adm prune builds --orphans --keep-complete=5 --keep-failed=1 \
    --keep-younger-than=60m</pre></li><li class="listitem"><p class="simpara">
						To actually perform the prune operation, add the <code class="literal">--confirm</code> flag:
					</p><pre class="programlisting language-terminal">$ oc adm prune builds --orphans --keep-complete=5 --keep-failed=1 \
    --keep-younger-than=60m --confirm</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Developers can enable automatic build pruning by modifying their build configuration.
				</p></div></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/cicd/#builds-build-pruning-advanced-build-operations">Performing advanced builds → Pruning builds</a>
					</li></ul></div></section><section class="section" id="pruning-images_pruning-objects"><div class="titlepage"><div><div><h2 class="title">14.5. Automatically pruning images</h2></div></div></div><p>
				Images from the OpenShift image registry that are no longer required by the system due to age, status, or exceed limits are automatically pruned. Cluster administrators can configure the Pruning Custom Resource, or suspend it.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Cluster administrator permissions.
					</li><li class="listitem">
						Install the <code class="literal">oc</code> CLI.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Verify that the object named <code class="literal">imagepruners.imageregistry.operator.openshift.io/cluster</code> contains the following <code class="literal">spec</code> and <code class="literal">status</code> fields:
					</li></ul></div><pre class="programlisting language-yaml">spec:
  schedule: 0 0 * * * <span id="CO49-1"><!--Empty--></span><span class="callout">1</span>
  suspend: false <span id="CO49-2"><!--Empty--></span><span class="callout">2</span>
  keepTagRevisions: 3 <span id="CO49-3"><!--Empty--></span><span class="callout">3</span>
  keepYoungerThanDuration: 60m <span id="CO49-4"><!--Empty--></span><span class="callout">4</span>
  keepYoungerThan: 3600000000000 <span id="CO49-5"><!--Empty--></span><span class="callout">5</span>
  resources: {} <span id="CO49-6"><!--Empty--></span><span class="callout">6</span>
  affinity: {} <span id="CO49-7"><!--Empty--></span><span class="callout">7</span>
  nodeSelector: {} <span id="CO49-8"><!--Empty--></span><span class="callout">8</span>
  tolerations: [] <span id="CO49-9"><!--Empty--></span><span class="callout">9</span>
  successfulJobsHistoryLimit: 3 <span id="CO49-10"><!--Empty--></span><span class="callout">10</span>
  failedJobsHistoryLimit: 3 <span id="CO49-11"><!--Empty--></span><span class="callout">11</span>
status:
  observedGeneration: 2 <span id="CO49-12"><!--Empty--></span><span class="callout">12</span>
  conditions: <span id="CO49-13"><!--Empty--></span><span class="callout">13</span>
  - type: Available
    status: "True"
    lastTransitionTime: 2019-10-09T03:13:45
    reason: Ready
    message: "Periodic image pruner has been created."
  - type: Scheduled
    status: "True"
    lastTransitionTime: 2019-10-09T03:13:45
    reason: Scheduled
    message: "Image pruner job has been scheduled."
  - type: Failed
    staus: "False"
    lastTransitionTime: 2019-10-09T03:13:45
    reason: Succeeded
    message: "Most recent image pruning job succeeded."</pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO49-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						<code class="literal">schedule</code>: <code class="literal">CronJob</code> formatted schedule. This is an optional field, default is daily at midnight.
					</div></dd><dt><a href="#CO49-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						<code class="literal">suspend</code>: If set to <code class="literal">true</code>, the <code class="literal">CronJob</code> running pruning is suspended. This is an optional field, default is <code class="literal">false</code>. The initial value on new clusters is <code class="literal">false</code>.
					</div></dd><dt><a href="#CO49-3"><span class="callout">3</span></a> </dt><dd><div class="para">
						<code class="literal">keepTagRevisions</code>: The number of revisions per tag to keep. This is an optional field, default is <code class="literal">3</code>. The initial value is <code class="literal">3</code>.
					</div></dd><dt><a href="#CO49-4"><span class="callout">4</span></a> </dt><dd><div class="para">
						<code class="literal">keepYoungerThanDuration</code>: Retain images younger than this duration. This is an optional field. If a value is not specified, either <code class="literal">keepYoungerThan</code> or the default value <code class="literal">60m</code> (60 minutes) is used.
					</div></dd><dt><a href="#CO49-5"><span class="callout">5</span></a> </dt><dd><div class="para">
						<code class="literal">keepYoungerThan</code>: Deprecated. The same as <code class="literal">keepYoungerThanDuration</code>, but the duration is specified as an integer in nanoseconds. This is an optional field. When <code class="literal">keepYoungerThanDuration</code> is set, this field is ignored.
					</div></dd><dt><a href="#CO49-6"><span class="callout">6</span></a> </dt><dd><div class="para">
						<code class="literal">resources</code>: Standard pod resource requests and limits. This is an optional field.
					</div></dd><dt><a href="#CO49-7"><span class="callout">7</span></a> </dt><dd><div class="para">
						<code class="literal">affinity</code>: Standard pod affinity. This is an optional field.
					</div></dd><dt><a href="#CO49-8"><span class="callout">8</span></a> </dt><dd><div class="para">
						<code class="literal">nodeSelector</code>: Standard pod node selector. This is an optional field.
					</div></dd><dt><a href="#CO49-9"><span class="callout">9</span></a> </dt><dd><div class="para">
						<code class="literal">tolerations</code>: Standard pod tolerations. This is an optional field.
					</div></dd><dt><a href="#CO49-10"><span class="callout">10</span></a> </dt><dd><div class="para">
						<code class="literal">successfulJobsHistoryLimit</code>: The maximum number of successful jobs to retain. Must be <code class="literal">&gt;= 1</code> to ensure metrics are reported. This is an optional field, default is <code class="literal">3</code>. The initial value is <code class="literal">3</code>.
					</div></dd><dt><a href="#CO49-11"><span class="callout">11</span></a> </dt><dd><div class="para">
						<code class="literal">failedJobsHistoryLimit</code>: The maximum number of failed jobs to retain. Must be <code class="literal">&gt;= 1</code> to ensure metrics are reported. This is an optional field, default is <code class="literal">3</code>. The initial value is <code class="literal">3</code>.
					</div></dd><dt><a href="#CO49-12"><span class="callout">12</span></a> </dt><dd><div class="para">
						<code class="literal">observedGeneration</code>: The generation observed by the Operator.
					</div></dd><dt><a href="#CO49-13"><span class="callout">13</span></a> </dt><dd><div class="para">
						<code class="literal">conditions</code>: The standard condition objects with the following types:
					</div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">Available</code>: Indicates if the pruning job has been created. Reasons can be Ready or Error.
							</li><li class="listitem">
								<code class="literal">Scheduled</code>: Indicates if the next pruning job has been scheduled. Reasons can be Scheduled, Suspended, or Error.
							</li><li class="listitem">
								<code class="literal">Failed</code>: Indicates if the most recent pruning job failed.
							</li></ul></div></dd></dl></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The Image Registry Operator’s behavior for managing the pruner is orthogonal to the <code class="literal">managementState</code> specified on the Image Registry Operator’s <code class="literal">ClusterOperator</code> object. If the Image Registry Operator is not in the <code class="literal">Managed</code> state, the image pruner can still be configured and managed by the Pruning Custom Resource.
				</p><p>
					However, the <code class="literal">managementState</code> of the Image Registry Operator alters the behavior of the deployed image pruner job:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">Managed</code>: the <code class="literal">--prune-registry</code> flag for the image pruner is set to <code class="literal">true</code>.
						</li><li class="listitem">
							<code class="literal">Removed</code>: the <code class="literal">--prune-registry</code> flag for the image pruner is set to <code class="literal">false</code>, meaning it only prunes image metatdata in etcd.
						</li></ul></div></div></div></section><section class="section" id="pruning-images-manual_pruning-objects"><div class="titlepage"><div><div><h2 class="title">14.6. Manually pruning images</h2></div></div></div><p>
				The pruning custom resource enables automatic image pruning for the images from the OpenShift image registry. However, administrators can manually prune images that are no longer required by the system due to age, status, or exceed limits. There are two methods to manually prune images:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Running image pruning as a <code class="literal">Job</code> or <code class="literal">CronJob</code> on the cluster.
					</li><li class="listitem">
						Running the <code class="literal">oc adm prune images</code> command.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						To prune images, you must first log in to the CLI as a user with an access token. The user must also have the <code class="literal">system:image-pruner</code> cluster role or greater (for example, <code class="literal">cluster-admin</code>).
					</li><li class="listitem">
						Expose the image registry.
					</li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To manually prune images that are no longer required by the system due to age, status, or exceed limits, use one of the following methods:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Run image pruning as a <code class="literal">Job</code> or <code class="literal">CronJob</code> on the cluster by creating a YAML file for the <code class="literal">pruner</code> service account, for example:
					</p><pre class="programlisting language-terminal">$ oc create -f &lt;filename&gt;.yaml</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
							
<pre class="programlisting language-yaml">kind: List
apiVersion: v1
items:
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    name: pruner
    namespace: openshift-image-registry
- apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRoleBinding
  metadata:
    name: openshift-image-registry-pruner
  roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: system:image-pruner
  subjects:
  - kind: ServiceAccount
    name: pruner
    namespace: openshift-image-registry
- apiVersion: batch/v1
  kind: CronJob
  metadata:
    name: image-pruner
    namespace: openshift-image-registry
  spec:
    schedule: "0 0 * * *"
    concurrencyPolicy: Forbid
    successfulJobsHistoryLimit: 1
    failedJobsHistoryLimit: 3
    jobTemplate:
      spec:
        template:
          spec:
            restartPolicy: OnFailure
            containers:
            - image: "quay.io/openshift/origin-cli:4.1"
              resources:
                requests:
                  cpu: 1
                  memory: 1Gi
              terminationMessagePolicy: FallbackToLogsOnError
              command:
              - oc
              args:
              - adm
              - prune
              - images
              - --certificate-authority=/var/run/secrets/kubernetes.io/serviceaccount/service-ca.crt
              - --keep-tag-revisions=5
              - --keep-younger-than=96h
              - --confirm=true
              name: image-pruner
            serviceAccountName: pruner</pre>

						</p></div></li><li class="listitem"><p class="simpara">
						Run the <code class="literal">oc adm prune images [&lt;options&gt;]</code> command:
					</p><pre class="programlisting language-terminal">$ oc adm prune images [&lt;options&gt;]</pre><p class="simpara">
						Pruning images removes data from the integrated registry unless <code class="literal">--prune-registry=false</code> is used.
					</p><p class="simpara">
						Pruning images with the <code class="literal">--namespace</code> flag does not remove images, only image streams. Images are non-namespaced resources. Therefore, limiting pruning to a particular namespace makes it impossible to calculate its current usage.
					</p><p class="simpara">
						By default, the integrated registry caches metadata of blobs to reduce the number of requests to storage, and to increase the request-processing speed. Pruning does not update the integrated registry cache. Images that still contain pruned layers after pruning will be broken because the pruned layers that have metadata in the cache will not be pushed. Therefore, you must redeploy the registry to clear the cache after pruning:
					</p><pre class="programlisting language-terminal">$ oc rollout restart deployment/image-registry -n openshift-image-registry</pre><p class="simpara">
						If the integrated registry uses a Redis cache, you must clean the database manually.
					</p><p class="simpara">
						If redeploying the registry after pruning is not an option, then you must permanently disable the cache.
					</p><p class="simpara">
						<code class="literal">oc adm prune images</code> operations require a route for your registry. Registry routes are not created by default.
					</p><p class="simpara">
						The <span class="strong strong"><strong>Prune images CLI configuration options</strong></span> table describes the options you can use with the <code class="literal">oc adm prune images &lt;options&gt;</code> command.
					</p><div class="table" id="idm140419014789872"><p class="title"><strong>Table 14.4. Prune images CLI configuration options</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"><!--Empty--></col><col style="width: 67%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140419014785024" scope="col">Option</th><th align="left" valign="top" id="idm140419014783936" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--all</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										Include images that were not pushed to the registry, but have been mirrored by pullthrough. This is on by default. To limit the pruning to images that were pushed to the integrated registry, pass <code class="literal">--all=false</code>.
									</p>
									 </td></tr><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--certificate-authority</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										The path to a certificate authority file to use when communicating with the OpenShift Container Platform-managed registries. Defaults to the certificate authority data from the current user’s configuration file. If provided, a secure connection is initiated.
									</p>
									 </td></tr><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--confirm</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										Indicate that pruning should occur, instead of performing a test-run. This requires a valid route to the integrated container image registry. If this command is run outside of the cluster network, the route must be provided using <code class="literal">--registry-url</code>.
									</p>
									 </td></tr><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--force-insecure</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										Use caution with this option. Allow an insecure connection to the container registry that is hosted via HTTP or has an invalid HTTPS certificate.
									</p>
									 </td></tr><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--keep-tag-revisions=&lt;N&gt;</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										For each imagestream, keep up to at most <code class="literal">N</code> image revisions per tag (default <code class="literal">3</code>).
									</p>
									 </td></tr><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--keep-younger-than=&lt;duration&gt;</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										Do not prune any image that is younger than <code class="literal">&lt;duration&gt;</code> relative to the current time. Alternately, do not prune any image that is referenced by any other object that is younger than <code class="literal">&lt;duration&gt;</code> relative to the current time (default <code class="literal">60m</code>).
									</p>
									 </td></tr><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--prune-over-size-limit</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										Prune each image that exceeds the smallest limit defined in the same project. This flag cannot be combined with <code class="literal">--keep-tag-revisions</code> nor <code class="literal">--keep-younger-than</code>.
									</p>
									 </td></tr><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--registry-url</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										The address to use when contacting the registry. The command attempts to use a cluster-internal URL determined from managed images and image streams. In case it fails (the registry cannot be resolved or reached), an alternative route that works needs to be provided using this flag. The registry hostname can be prefixed by <code class="literal">https://</code> or <code class="literal">http://</code>, which enforces particular connection protocol.
									</p>
									 </td></tr><tr><td align="left" valign="middle" headers="idm140419014785024"> <p>
										<code class="literal">--prune-registry</code>
									</p>
									 </td><td align="left" valign="top" headers="idm140419014783936"> <p>
										In conjunction with the conditions stipulated by the other options, this option controls whether the data in the registry corresponding to the OpenShift Container Platform image API object is pruned. By default, image pruning processes both the image API objects and corresponding data in the registry.
									</p>
									 <p>
										This option is useful when you are only concerned with removing etcd content, to reduce the number of image objects but are not concerned with cleaning up registry storage, or if you intend to do that separately by hard pruning the registry during an appropriate maintenance window for the registry.
									</p>
									 </td></tr></tbody></table></div></div></li></ul></div><section class="section" id="pruning-images-conditions_pruning-objects"><div class="titlepage"><div><div><h3 class="title">14.6.1. Image prune conditions</h3></div></div></div><p>
					You can apply conditions to your manually pruned images.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							To remove any image managed by OpenShift Container Platform, or images with the annotation <code class="literal">openshift.io/image.managed</code>:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									Created at least <code class="literal">--keep-younger-than</code> minutes ago and are not currently referenced by any:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
											Pods created less than <code class="literal">--keep-younger-than</code> minutes ago
										</li><li class="listitem">
											Image streams created less than <code class="literal">--keep-younger-than</code> minutes ago
										</li><li class="listitem">
											Running pods
										</li><li class="listitem">
											Pending pods
										</li><li class="listitem">
											Replication controllers
										</li><li class="listitem">
											Deployments
										</li><li class="listitem">
											Deployment configs
										</li><li class="listitem">
											Replica sets
										</li><li class="listitem">
											Build configurations
										</li><li class="listitem">
											Builds
										</li><li class="listitem">
											<code class="literal">--keep-tag-revisions</code> most recent items in <code class="literal">stream.status.tags[].items</code>
										</li></ul></div></li><li class="listitem"><p class="simpara">
									That are exceeding the smallest limit defined in the same project and are not currently referenced by any:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem">
											Running pods
										</li><li class="listitem">
											Pending pods
										</li><li class="listitem">
											Replication controllers
										</li><li class="listitem">
											Deployments
										</li><li class="listitem">
											Deployment configs
										</li><li class="listitem">
											Replica sets
										</li><li class="listitem">
											Build configurations
										</li><li class="listitem">
											Builds
										</li></ul></div></li></ul></div></li><li class="listitem">
							There is no support for pruning from external registries.
						</li><li class="listitem">
							When an image is pruned, all references to the image are removed from all image streams that have a reference to the image in <code class="literal">status.tags</code>.
						</li><li class="listitem">
							Image layers that are no longer referenced by any images are removed.
						</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">--prune-over-size-limit</code> flag cannot be combined with the <code class="literal">--keep-tag-revisions</code> flag nor the <code class="literal">--keep-younger-than</code> flags. Doing so returns information that this operation is not allowed.
					</p></div></div><p>
					Separating the removal of OpenShift Container Platform image API objects and image data from the registry by using <code class="literal">--prune-registry=false</code>, followed by hard pruning the registry, can narrow timing windows and is safer when compared to trying to prune both through one command. However, timing windows are not completely removed.
				</p><p>
					For example, you can still create a pod referencing an image as pruning identifies that image for pruning. You should still keep track of an API object created during the pruning operations that might reference images so that you can mitigate any references to deleted content.
				</p><p>
					Re-doing the pruning without the <code class="literal">--prune-registry</code> option or with <code class="literal">--prune-registry=true</code> does not lead to pruning the associated storage in the image registry for images previously pruned by <code class="literal">--prune-registry=false</code>. Any images that were pruned with <code class="literal">--prune-registry=false</code> can only be deleted from registry storage by hard pruning the registry.
				</p></section><section class="section" id="pruning-images-running-operation_pruning-objects"><div class="titlepage"><div><div><h3 class="title">14.6.2. Running the image prune operation</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To see what a pruning operation would delete:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Keeping up to three tag revisions, and keeping resources (images, image streams, and pods) younger than 60 minutes:
								</p><pre class="programlisting language-terminal">$ oc adm prune images --keep-tag-revisions=3 --keep-younger-than=60m</pre></li><li class="listitem"><p class="simpara">
									Pruning every image that exceeds defined limits:
								</p><pre class="programlisting language-terminal">$ oc adm prune images --prune-over-size-limit</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							To perform the prune operation with the options from the previous step:
						</p><pre class="programlisting language-terminal">$ oc adm prune images --keep-tag-revisions=3 --keep-younger-than=60m --confirm</pre><pre class="programlisting language-terminal">$ oc adm prune images --prune-over-size-limit --confirm</pre></li></ol></div></section><section class="section" id="pruning-images-secure-insecure_pruning-objects"><div class="titlepage"><div><div><h3 class="title">14.6.3. Using secure or insecure connections</h3></div></div></div><p>
					The secure connection is the preferred and recommended approach. It is done over HTTPS protocol with a mandatory certificate verification. The <code class="literal">prune</code> command always attempts to use it if possible. If it is not possible, in some cases it can fall-back to insecure connection, which is dangerous. In this case, either certificate verification is skipped or plain HTTP protocol is used.
				</p><p>
					The fall-back to insecure connection is allowed in the following cases unless <code class="literal">--certificate-authority</code> is specified:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							The <code class="literal">prune</code> command is run with the <code class="literal">--force-insecure</code> option.
						</li><li class="listitem">
							The provided <code class="literal">registry-url</code> is prefixed with the <code class="literal">http://</code> scheme.
						</li><li class="listitem">
							The provided <code class="literal">registry-url</code> is a local-link address or <code class="literal">localhost</code>.
						</li><li class="listitem">
							The configuration of the current user allows for an insecure connection. This can be caused by the user either logging in using <code class="literal">--insecure-skip-tls-verify</code> or choosing the insecure connection when prompted.
						</li></ol></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						If the registry is secured by a certificate authority different from the one used by OpenShift Container Platform, it must be specified using the <code class="literal">--certificate-authority</code> flag. Otherwise, the <code class="literal">prune</code> command fails with an error.
					</p></div></div></section><section class="section" id="pruning-images-problems_pruning-objects"><div class="titlepage"><div><div><h3 class="title">14.6.4. Image pruning problems</h3></div></div></div><h6 id="pruning-images-not-being-pruned_pruning-objects">Images not being pruned</h6><p>
					If your images keep accumulating and the <code class="literal">prune</code> command removes just a small portion of what you expect, ensure that you understand the image prune conditions that must apply for an image to be considered a candidate for pruning.
				</p><p>
					Ensure that images you want removed occur at higher positions in each tag history than your chosen tag revisions threshold. For example, consider an old and obsolete image named <code class="literal">sha256:abz</code>. By running the following command in your namespace, where the image is tagged, the image is tagged three times in a single image stream named <code class="literal">myapp</code>:
				</p><pre class="programlisting language-terminal">$ oc get is -n &lt;namespace&gt; -o go-template='{{range $isi, $is := .items}}{{range $ti, $tag := $is.status.tags}}'\
'{{range $ii, $item := $tag.items}}{{if eq $item.image "sha256:&lt;hash&gt;"}}{{$is.metadata.name}}:{{$tag.tag}} at position {{$ii}} out of {{len $tag.items}}\n'\
'{{end}}{{end}}{{end}}{{end}}'</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
						
<pre class="programlisting language-terminal">myapp:v2 at position 4 out of 5
myapp:v2.1 at position 2 out of 2
myapp:v2.1-may-2016 at position 0 out of 1</pre>

					</p></div><p>
					When default options are used, the image is never pruned because it occurs at position <code class="literal">0</code> in a history of <code class="literal">myapp:v2.1-may-2016</code> tag. For an image to be considered for pruning, the administrator must either:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Specify <code class="literal">--keep-tag-revisions=0</code> with the <code class="literal">oc adm prune images</code> command.
						</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
								This action removes all the tags from all the namespaces with underlying images, unless they are younger or they are referenced by objects younger than the specified threshold.
							</p></div></div></li><li class="listitem">
							Delete all the <code class="literal">istags</code> where the position is below the revision threshold, which means <code class="literal">myapp:v2.1</code> and <code class="literal">myapp:v2.1-may-2016</code>.
						</li><li class="listitem">
							Move the image further in the history, either by running new builds pushing to the same <code class="literal">istag</code>, or by tagging other image. This is not always desirable for old release tags.
						</li></ul></div><p>
					Tags having a date or time of a particular image’s build in their names should be avoided, unless the image must be preserved for an undefined amount of time. Such tags tend to have just one image in their history, which prevents them from ever being pruned.
				</p><h6 id="pruning-images-secure-against-insecure_pruning-objects">Using a secure connection against insecure registry</h6><p>
					If you see a message similar to the following in the output of the <code class="literal">oc adm prune images</code> command, then your registry is not secured and the <code class="literal">oc adm prune images</code> client attempts to use a secure connection:
				</p><pre class="programlisting language-terminal">error: error communicating with registry: Get https://172.30.30.30:5000/healthz: http: server gave HTTP response to HTTPS client</pre><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The recommended solution is to secure the registry. Otherwise, you can force the client to use an insecure connection by appending <code class="literal">--force-insecure</code> to the command; however, this is not recommended.
						</li></ul></div><h6 id="pruning-images-insecure-against-secure_pruning-objects">Using an insecure connection against a secured registry</h6><p>
					If you see one of the following errors in the output of the <code class="literal">oc adm prune images</code> command, it means that your registry is secured using a certificate signed by a certificate authority other than the one used by <code class="literal">oc adm prune images</code> client for connection verification:
				</p><pre class="programlisting language-terminal">error: error communicating with registry: Get http://172.30.30.30:5000/healthz: malformed HTTP response "\x15\x03\x01\x00\x02\x02"
error: error communicating with registry: [Get https://172.30.30.30:5000/healthz: x509: certificate signed by unknown authority, Get http://172.30.30.30:5000/healthz: malformed HTTP response "\x15\x03\x01\x00\x02\x02"]</pre><p>
					By default, the certificate authority data stored in the user’s configuration files is used; the same is true for communication with the master API.
				</p><p>
					Use the <code class="literal">--certificate-authority</code> option to provide the right certificate authority for the container image registry server.
				</p><h6 id="pruning-images-wrong-ca_pruning-objects">Using the wrong certificate authority</h6><p>
					The following error means that the certificate authority used to sign the certificate of the secured container image registry is different from the authority used by the client:
				</p><pre class="programlisting language-terminal">error: error communicating with registry: Get https://172.30.30.30:5000/: x509: certificate signed by unknown authority</pre><p>
					Make sure to provide the right one with the flag <code class="literal">--certificate-authority</code>.
				</p><p>
					As a workaround, the <code class="literal">--force-insecure</code> flag can be added instead. However, this is not recommended.
				</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/registry/#accessing-the-registry">Accessing the registry</a>
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/registry/#securing-exposing-registry">Exposing the registry</a>
						</li><li class="listitem">
							See <a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/registry/#configuring-registry-operator">Image Registry Operator in OpenShift Container Platform</a> for information on how to create a registry route.
						</li></ul></div></section></section><section class="section" id="pruning-hard-pruning-registry_pruning-objects"><div class="titlepage"><div><div><h2 class="title">14.7. Hard pruning the registry</h2></div></div></div><p>
				The OpenShift Container Registry can accumulate blobs that are not referenced by the OpenShift Container Platform cluster’s etcd. The basic pruning images procedure, therefore, is unable to operate on them. These are called <span class="emphasis"><em>orphaned blobs</em></span>.
			</p><p>
				Orphaned blobs can occur from the following scenarios:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Manually deleting an image with <code class="literal">oc delete image &lt;sha256:image-id&gt;</code> command, which only removes the image from etcd, but not from the registry’s storage.
					</li><li class="listitem">
						Pushing to the registry initiated by daemon failures, which causes some blobs to get uploaded, but the image manifest (which is uploaded as the very last component) does not. All unique image blobs become orphans.
					</li><li class="listitem">
						OpenShift Container Platform refusing an image because of quota restrictions.
					</li><li class="listitem">
						The standard image pruner deleting an image manifest, but is interrupted before it deletes the related blobs.
					</li><li class="listitem">
						A bug in the registry pruner, which fails to remove the intended blobs, causing the image objects referencing them to be removed and the blobs becoming orphans.
					</li></ul></div><p>
				<span class="emphasis"><em>Hard pruning</em></span> the registry, a separate procedure from basic image pruning, allows cluster administrators to remove orphaned blobs. You should hard prune if you are running out of storage space in your OpenShift Container Registry and believe you have orphaned blobs.
			</p><p>
				This should be an infrequent operation and is necessary only when you have evidence that significant numbers of new orphans have been created. Otherwise, you can perform standard image pruning at regular intervals, for example, once a day (depending on the number of images being created).
			</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To hard prune orphaned blobs from the registry:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Log in.</strong></span>
					</p><p class="simpara">
						Log in to the cluster with the CLI as <code class="literal">kubeadmin</code> or another privileged user that has access to the <code class="literal">openshift-image-registry</code> namespace.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Run a basic image prune</strong></span>.
					</p><p class="simpara">
						Basic image pruning removes additional images that are no longer needed. The hard prune does not remove images on its own. It only removes blobs stored in the registry storage. Therefore, you should run this just before the hard prune.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Switch the registry to read-only mode.</strong></span>
					</p><p class="simpara">
						If the registry is not running in read-only mode, any pushes happening at the same time as the prune will either:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								fail and cause new orphans, or
							</li><li class="listitem">
								succeed although the images cannot be pulled (because some of the referenced blobs were deleted).
							</li></ul></div><p class="simpara">
						Pushes will not succeed until the registry is switched back to read-write mode. Therefore, the hard prune must be carefully scheduled.
					</p><p class="simpara">
						To switch the registry to read-only mode:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								In <code class="literal">configs.imageregistry.operator.openshift.io/cluster</code>, set <code class="literal">spec.readOnly</code> to <code class="literal">true</code>:
							</p><pre class="programlisting language-terminal">$ oc patch configs.imageregistry.operator.openshift.io/cluster -p '{"spec":{"readOnly":true}}' --type=merge</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Add the <code class="literal">system:image-pruner</code> role.</strong></span>
					</p><p class="simpara">
						The service account used to run the registry instances requires additional permissions to list some resources.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Get the service account name:
							</p><pre class="programlisting language-terminal">$ service_account=$(oc get -n openshift-image-registry \
    -o jsonpath='{.spec.template.spec.serviceAccountName}' deploy/image-registry)</pre></li><li class="listitem"><p class="simpara">
								Add the <code class="literal">system:image-pruner</code> cluster role to the service account:
							</p><pre class="programlisting language-terminal">$ oc adm policy add-cluster-role-to-user \
    system:image-pruner -z \
    ${service_account} -n openshift-image-registry</pre></li></ol></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Optional: Run the pruner in dry-run mode.</strong></span>
					</p><p class="simpara">
						To see how many blobs would be removed, run the hard pruner in dry-run mode. No changes are actually made. The following example references an image registry pod called <code class="literal">image-registry-3-vhndw</code>:
					</p><pre class="programlisting language-terminal">$ oc -n openshift-image-registry exec pod/image-registry-3-vhndw -- /bin/sh -c '/usr/bin/dockerregistry -prune=check'</pre><p class="simpara">
						Alternatively, to get the exact paths for the prune candidates, increase the logging level:
					</p><pre class="programlisting language-terminal">$ oc -n openshift-image-registry exec pod/image-registry-3-vhndw -- /bin/sh -c 'REGISTRY_LOG_LEVEL=info /usr/bin/dockerregistry -prune=check'</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
							
<pre class="programlisting language-terminal">time="2017-06-22T11:50:25.066156047Z" level=info msg="start prune (dry-run mode)" distribution_version="v2.4.1+unknown" kubernetes_version=v1.6.1+$Format:%h$ openshift_version=unknown
time="2017-06-22T11:50:25.092257421Z" level=info msg="Would delete blob: sha256:00043a2a5e384f6b59ab17e2c3d3a3d0a7de01b2cabeb606243e468acc663fa5" go.version=go1.7.5 instance.id=b097121c-a864-4e0c-ad6c-cc25f8fdf5a6
time="2017-06-22T11:50:25.092395621Z" level=info msg="Would delete blob: sha256:0022d49612807cb348cabc562c072ef34d756adfe0100a61952cbcb87ee6578a" go.version=go1.7.5 instance.id=b097121c-a864-4e0c-ad6c-cc25f8fdf5a6
time="2017-06-22T11:50:25.092492183Z" level=info msg="Would delete blob: sha256:0029dd4228961086707e53b881e25eba0564fa80033fbbb2e27847a28d16a37c" go.version=go1.7.5 instance.id=b097121c-a864-4e0c-ad6c-cc25f8fdf5a6
time="2017-06-22T11:50:26.673946639Z" level=info msg="Would delete blob: sha256:ff7664dfc213d6cc60fd5c5f5bb00a7bf4a687e18e1df12d349a1d07b2cf7663" go.version=go1.7.5 instance.id=b097121c-a864-4e0c-ad6c-cc25f8fdf5a6
time="2017-06-22T11:50:26.674024531Z" level=info msg="Would delete blob: sha256:ff7a933178ccd931f4b5f40f9f19a65be5eeeec207e4fad2a5bafd28afbef57e" go.version=go1.7.5 instance.id=b097121c-a864-4e0c-ad6c-cc25f8fdf5a6
time="2017-06-22T11:50:26.674675469Z" level=info msg="Would delete blob: sha256:ff9b8956794b426cc80bb49a604a0b24a1553aae96b930c6919a6675db3d5e06" go.version=go1.7.5 instance.id=b097121c-a864-4e0c-ad6c-cc25f8fdf5a6
...
Would delete 13374 blobs
Would free up 2.835 GiB of disk space
Use -prune=delete to actually delete the data</pre>

						</p></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Run the hard prune.</strong></span>
					</p><p class="simpara">
						Execute the following command inside one running instance of a <code class="literal">image-registry</code> pod to run the hard prune. The following example references an image registry pod called <code class="literal">image-registry-3-vhndw</code>:
					</p><pre class="programlisting language-terminal">$ oc -n openshift-image-registry exec pod/image-registry-3-vhndw -- /bin/sh -c '/usr/bin/dockerregistry -prune=delete'</pre><div class="formalpara"><p class="title"><strong>Example output</strong></p><p>
							
<pre class="programlisting language-terminal">Deleted 13374 blobs
Freed up 2.835 GiB of disk space</pre>

						</p></div></li><li class="listitem"><p class="simpara">
						<span class="strong strong"><strong>Switch the registry back to read-write mode.</strong></span>
					</p><p class="simpara">
						After the prune is finished, the registry can be switched back to read-write mode. In <code class="literal">configs.imageregistry.operator.openshift.io/cluster</code>, set <code class="literal">spec.readOnly</code> to <code class="literal">false</code>:
					</p><pre class="programlisting language-terminal">$ oc patch configs.imageregistry.operator.openshift.io/cluster -p '{"spec":{"readOnly":false}}' --type=merge</pre></li></ol></div></section><section class="section" id="pruning-cronjobs_pruning-objects"><div class="titlepage"><div><div><h2 class="title">14.8. Pruning cron jobs</h2></div></div></div><p>
				Cron jobs can perform pruning of successful jobs, but might not properly handle failed jobs. Therefore, the cluster administrator should perform regular cleanup of jobs manually. They should also restrict the access to cron jobs to a small group of trusted users and set appropriate quota to prevent the cron job from creating too many jobs and pods.
			</p><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/nodes/#nodes-nodes-jobs_nodes-nodes-jobs">Running tasks in pods using jobs</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/building_applications/#setting-quotas-across-multiple-projects">Resource quotas across multiple projects</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/authentication_and_authorization/#using-rbac">Using RBAC to define and apply permissions</a>
					</li></ul></div></section></section><section class="chapter" id="idling-applications"><div class="titlepage"><div><div><h1 class="title">Chapter 15. Idling applications</h1></div></div></div><p>
			Cluster administrators can idle applications to reduce resource consumption. This is useful when the cluster is deployed on a public cloud where cost is related to resource consumption.
		</p><p>
			If any scalable resources are not in use, OpenShift Container Platform discovers and idles them by scaling their replicas to <code class="literal">0</code>. The next time network traffic is directed to the resources, the resources are unidled by scaling up the replicas, and normal operation continues.
		</p><p>
			Applications are made of services, as well as other scalable resources, such as deployment configs. The action of idling an application involves idling all associated resources.
		</p><section class="section" id="idle-idling-applications_idling-applications"><div class="titlepage"><div><div><h2 class="title">15.1. Idling applications</h2></div></div></div><p>
				Idling an application involves finding the scalable resources (deployment configurations, replication controllers, and others) associated with a service. Idling an application finds the service and marks it as idled, scaling down the resources to zero replicas.
			</p><p>
				You can use the <code class="literal">oc idle</code> command to idle a single service, or use the <code class="literal">--resource-names-file</code> option to idle multiple services.
			</p><section class="section" id="idle-idling-applications-single_idling-applications"><div class="titlepage"><div><div><h3 class="title">15.1.1. Idling a single service</h3></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To idle a single service, run:
						</p><pre class="programlisting language-terminal">$ oc idle &lt;service&gt;</pre></li></ol></div></section><section class="section" id="idle-idling-applications-multiple_idling-applications"><div class="titlepage"><div><div><h3 class="title">15.1.2. Idling multiple services</h3></div></div></div><p>
					Idling multiple services is helpful if an application spans across a set of services within a project, or when idling multiple services in conjunction with a script to idle multiple applications in bulk within the same project.
				</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
							Create a file containing a list of the services, each on their own line.
						</li><li class="listitem"><p class="simpara">
							Idle the services using the <code class="literal">--resource-names-file</code> option:
						</p><pre class="programlisting language-terminal">$ oc idle --resource-names-file &lt;filename&gt;</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">idle</code> command is limited to a single project. For idling applications across a cluster, run the <code class="literal">idle</code> command for each project individually.
					</p></div></div></section></section><section class="section" id="idle-unidling-applications_idling-applications"><div class="titlepage"><div><div><h2 class="title">15.2. Unidling applications</h2></div></div></div><p>
				Application services become active again when they receive network traffic and are scaled back up their previous state. This includes both traffic to the services and traffic passing through routes.
			</p><p>
				Applications can also be manually unidled by scaling up the resources.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To scale up a DeploymentConfig, run:
					</p><pre class="programlisting language-terminal">$ oc scale --replicas=1 dc &lt;dc_name&gt;</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Automatic unidling by a router is currently only supported by the default HAProxy router.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Services do not support automatic unidling if you configure Kuryr-Kubernetes as an SDN.
				</p></div></div></section></section><section class="chapter" id="odc-deleting-applications"><div class="titlepage"><div><div><h1 class="title">Chapter 16. Deleting applications</h1></div></div></div><p>
			You can delete applications created in your project.
		</p><section class="section" id="odc-deleting-applications-using-developer-perspective_odc-deleting-applications"><div class="titlepage"><div><div><h2 class="title">16.1. Deleting applications using the Developer perspective</h2></div></div></div><p>
				You can delete an application and all of its associated components using the <span class="strong strong"><strong>Topology</strong></span> view in the <span class="strong strong"><strong>Developer</strong></span> perspective:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Click the application you want to delete to see the side panel with the resource details of the application.
					</li><li class="listitem">
						Click the <span class="strong strong"><strong>Actions</strong></span> drop-down menu displayed on the upper right of the panel, and select <span class="strong strong"><strong>Delete Application</strong></span> to see a confirmation dialog box.
					</li><li class="listitem">
						Enter the name of the application and click <span class="strong strong"><strong>Delete</strong></span> to delete it.
					</li></ol></div><p>
				You can also right-click the application you want to delete and click <span class="strong strong"><strong>Delete Application</strong></span> to delete it.
			</p></section></section><section class="chapter" id="red-hat-marketplace"><div class="titlepage"><div><div><h1 class="title">Chapter 17. Using the Red Hat Marketplace</h1></div></div></div><p>
			The <a class="link" href="https://marketplace.redhat.com">Red Hat Marketplace</a> is an open cloud marketplace that makes it easy to discover and access certified software for container-based environments that run on public clouds and on-premises.
		</p><section class="section" id="red-hat-marketplace-features_red-hat-marketplace"><div class="titlepage"><div><div><h2 class="title">17.1. Red Hat Marketplace features</h2></div></div></div><p>
				Cluster administrators can use <a class="link" href="https://marketplace.redhat.com/en-us/documentation/getting-started">the Red Hat Marketplace</a> to manage software on OpenShift Container Platform, give developers self-service access to deploy application instances, and correlate application usage against a quota.
			</p><section class="section" id="marketplace-clusters_red-hat-marketplace"><div class="titlepage"><div><div><h3 class="title">17.1.1. Connect OpenShift Container Platform clusters to the Marketplace</h3></div></div></div><p>
					Cluster administrators can install a common set of applications on OpenShift Container Platform clusters that connect to the Marketplace. They can also use the Marketplace to track cluster usage against subscriptions or quotas. Users that they add by using the Marketplace have their product usage tracked and billed to their organization.
				</p><p>
					During the <a class="link" href="https://marketplace.redhat.com/en-us/documentation/clusters">cluster connection process</a>, a Marketplace Operator is installed that updates the image registry secret, manages the catalog, and reports application usage.
				</p></section><section class="section" id="marketplace-install-applications_red-hat-marketplace"><div class="titlepage"><div><div><h3 class="title">17.1.2. Install applications</h3></div></div></div><p>
					Cluster administrators can <a class="link" href="https://marketplace.redhat.com/en-us/documentation/operators">install Marketplace applications</a> from within OperatorHub in OpenShift Container Platform, or from the <a class="link" href="https://marketplace.redhat.com">Marketplace web application</a>.
				</p><p>
					You can access installed applications from the web console by clicking <span class="strong strong"><strong>Operators &gt; Installed Operators</strong></span>.
				</p></section><section class="section" id="marketplace-deploy_red-hat-marketplace"><div class="titlepage"><div><div><h3 class="title">17.1.3. Deploy applications from different perspectives</h3></div></div></div><p>
					You can deploy Marketplace applications from the web console’s Administrator and Developer perspectives.
				</p><h5 id="the-developer-perspective">The Developer perspective</h5><p>
					Developers can access newly installed capabilities by using the Developer perspective.
				</p><p>
					For example, after a database Operator is installed, a developer can create an instance from the catalog within their project. Database usage is aggregated and reported to the cluster administrator.
				</p><p>
					This perspective does not include Operator installation and application usage tracking.
				</p><h5 id="the-administrator-perspective">The Administrator perspective</h5><p>
					Cluster administrators can access Operator installation and application usage information from the Administrator perspective.
				</p><p>
					They can also launch application instances by browsing custom resource definitions (CRDs) in the <span class="strong strong"><strong>Installed Operators</strong></span> list.
				</p></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140419029580512"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2023 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div>


  <nav class="pvof-doc__book-nav">
  <ol class="book-nav__list">
              </ol>
</nav>


          </div>
              </div>
              <div id="comments-footer" class="book-comments">
          

  

        </div>
          </div>
  </article>
<meta itemscope="" itemref="md1">



    </div>
      <!-- CP_PRIMER_FOOTER -->            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

              <div role="navigation" aria-label="quick">
                  <h3>Quick Links</h3>
                  <ul>
                      <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                      <li><a class="manage-subscriptions" href="https://access.redhat.com/management">Subscriptions</a></li>
                      <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                      <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                      <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="help">
                  <h3>Help</h3>
                  <ul>
                      <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                      <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                      <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="site">
                  <h3>Site Info</h3>
                  <ul>
                      <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                      <li><a class="browser-support-policy" href="https://www.redhat.com/en/about/browser-support">Browser Support Policy</a></li>
                      <li><a class="accessibility" href="https://www.redhat.com/en/about/digital-accessibility">Accessibility</a></li>
                      <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                      <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="other">
                  <h3>Related Sites</h3>
                  <ul>
                      <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                      <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                      <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                      <li><a href="https://cloud.redhat.com/" class="cloud-com">cloud.redhat.com</a></li>
                  </ul>
              </div>

              <div role="navigation" aria-label="about">
                  <h3>About</h3>
                  <ul>
                      <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                      <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                      <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                  </ul>
              </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                        <span class="status-description"></span>
                        <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2023 Red Hat, Inc.</div>
                        <div role="navigation" aria-label="legal" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://www.redhat.com/en/about/terms-use" class="terms-of-use">Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                                <li><a id="teconsent"></a></li>
                            </ul>
                            <div id="privacy_policy">We've updated our <a href='http://www.redhat.com/en/about/privacy-policy' class='privacy-policy'>Privacy Statement</a> effective September 15, 2023.
                            </div>
                          </div>
                        </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                        <img src="https://access.redhat.com/chrome_themes/nimbus/img/rh-summit-red-a.svg" alt="Red Hat Summit" /> <span class="offscreen">Red Hat Summit</span>
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHat" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>                        
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- TrustArc -->
    <div id="consent_blackbar"></div> 
    <!--googleon: all-->
</div>
<!-- /CP_PRIMER_FOOTER -->


  </div>

    
  </body>
</html>
