External DNS Operator in "Red Hat OpenShift Container Platform"

The External DNS Operator deploys and manages ExternalDNS to provide the name resolution for services and routes from the external DNS provider to "Red Hat OpenShift Container Platform".
External DNS Operator
The External DNS Operator implements the External DNS API from the olm.openshift.io API group. The External DNS Operator deploys the ExternalDNS using a deployment resource. The ExternalDNS deployment watches the resources such as services and routes in the cluster and updates the external DNS providers.

You can deploy the ExternalDNS Operator on demand from the OperatorHub, this creates a Subscription object.

Check the name of an install plan:

Check the status of an install plan, the status of an install plan must be Complete:

Use the oc get command to view the Deployment status:
External DNS Operator logs
You can view External DNS Operator logs by using the oc logs command.

View the logs of the External DNS Operator:


External DNS Operator domain name limitations
External DNS Operator uses the TXT registry, which follows the new format and adds the prefix for the TXT records. This reduces the maximum length of the domain name for the TXT records. A DNS record cannot be present without a corresponding TXT record, so the domain name of the DNS record must follow the same limit as the TXT records. For example, DNS record is <domain-name-from-source> and the TXT record is external-dns-<record-type>-<domain-name-from-source>.

The domain name of the DNS records generated by External DNS Operator has the following limitations:


If the domain name generated by External DNS exceeds the domain name limitation, the External DNS instance gives the following error:

$ oc -n external-dns-operator logs external-dns-aws-7ddbd9c7f8-2jqjh 1
The external-dns-aws-7ddbd9c7f8-2jqjh parameter specifies the name of the External DNS pod.


time="2022-09-02T08:53:57Z" level=info msg="Desired change: CREATE external-dns-cname-hello-openshift-aaaaaaaaaa-bbbbbbbbbb-ccccccc.test.example.io TXT [Id: /hostedzone/Z06988883Q0H0RL6UMXXX]"
time="2022-09-02T08:53:57Z" level=info msg="Desired change: CREATE external-dns-hello-openshift-aaaaaaaaaa-bbbbbbbbbb-ccccccc.test.example.io TXT [Id: /hostedzone/Z06988883Q0H0RL6UMXXX]"
time="2022-09-02T08:53:57Z" level=info msg="Desired change: CREATE hello-openshift-aaaaaaaaaa-bbbbbbbbbb-ccccccc.test.example.io A [Id: /hostedzone/Z06988883Q0H0RL6UMXXX]"
time="2022-09-02T08:53:57Z" level=error msg="Failure in zone test.example.io. [Id: /hostedzone/Z06988883Q0H0RL6UMXXX]"
time="2022-09-02T08:53:57Z" level=error msg="InvalidChangeBatch: [FATAL problem: DomainLabelTooLong (Domain label is too long) encountered with 'external-dns-a-hello-openshift-aaaaaaaaaa-bbbbbbbbbb-ccccccc']\n\tstatus code: 400, request id: e54dfd5a-06c6-47b0-bcb9-a4f7c3a4e0c6"